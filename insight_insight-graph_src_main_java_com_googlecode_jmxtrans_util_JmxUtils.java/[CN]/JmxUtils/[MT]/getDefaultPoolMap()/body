{
  Map<String,KeyedObjectPool> poolMap=new HashMap<String,KeyedObjectPool>();
  GenericKeyedObjectPool pool=new GenericKeyedObjectPool(new SocketFactory());
  pool.setTestOnBorrow(true);
  pool.setMaxActive(-1);
  pool.setMaxIdle(-1);
  pool.setTimeBetweenEvictionRunsMillis(1000 * 60 * 5);
  pool.setMinEvictableIdleTimeMillis(1000 * 60 * 5);
  poolMap.put(Server.SOCKET_FACTORY_POOL,pool);
  GenericKeyedObjectPool jmxPool=new GenericKeyedObjectPool(new JmxConnectionFactory());
  jmxPool.setTestOnBorrow(true);
  jmxPool.setMaxActive(-1);
  jmxPool.setMaxIdle(-1);
  jmxPool.setTimeBetweenEvictionRunsMillis(1000 * 60 * 5);
  jmxPool.setMinEvictableIdleTimeMillis(1000 * 60 * 5);
  poolMap.put(Server.JMX_CONNECTION_FACTORY_POOL,jmxPool);
  GenericKeyedObjectPool dsPool=new GenericKeyedObjectPool(new DatagramSocketFactory());
  dsPool.setTestOnBorrow(true);
  dsPool.setMaxActive(-1);
  dsPool.setMaxIdle(-1);
  dsPool.setTimeBetweenEvictionRunsMillis(1000 * 60 * 5);
  dsPool.setMinEvictableIdleTimeMillis(1000 * 60 * 5);
  poolMap.put(Server.DATAGRAM_SOCKET_FACTORY_POOL,dsPool);
  return poolMap;
}
