{
  delete();
  try {
    service=doCreate(properties);
    try {
      registration=bundleContext.registerService(service.getClass().getName(),service,properties);
    }
 catch (    Throwable t) {
      delete();
    }
  }
 catch (  Throwable t) {
    delete();
    throw new RuntimeException("Unable to create service",t);
  }
}
