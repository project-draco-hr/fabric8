{
  AmqpOpen open=createAmqpOpen();
  open.setContainerId("me");
  open.setChannelMax(256);
  AmqpFrame in=new AmqpFrame(open);
  byte b[]=CodecUtils.marshal(open);
  long expectedLength=b.length;
  long length=in.getDataSize();
  Assert.assertEquals(expectedLength + " != " + length,expectedLength,length);
  AmqpFrame out=marshalUnmarshal(in);
  Assert.assertTrue(in + " != " + out,in.equals(out));
  Assert.assertTrue(open + " != " + out.getBody(),open.equals(out.getBody()));
}
