{
  SshConfiguration sshHosts=requirements.getSshConfiguration();
  host=sshHostConfig.getHostName();
  if (Strings.isNullOrBlank(host)) {
    throw new IllegalArgumentException("Missing host property in the ssh configuration: " + sshHostConfig);
  }
  path=sshHostConfig.getPath();
  if (Strings.isNullOrBlank(path)) {
    if (sshHosts != null) {
      path=sshHosts.getDefaultPath();
    }
    if (Strings.isNullOrBlank(path)) {
      path=DEFAULT_PATH;
    }
  }
  Integer portValue=sshHostConfig.getPort();
  if (portValue == null) {
    if (sshHosts != null) {
      portValue=sshHosts.getDefaultPort();
    }
  }
  port=portValue != null ? portValue : DEFAULT_SSH_PORT;
  username=sshHostConfig.getUsername();
  if (Strings.isNullOrBlank(username)) {
    if (sshHosts != null) {
      username=sshHosts.getDefaultUsername();
    }
    if (Strings.isNullOrBlank(username)) {
      throw new IllegalArgumentException("Missing username property in the ssh configuration: " + sshHostConfig);
    }
  }
  password=sshHostConfig.getPassword();
  if (Strings.isNullOrBlank(password)) {
    if (sshHosts != null) {
      password=sshHosts.getDefaultPassword();
    }
    if (Strings.isNullOrBlank(password)) {
      throw new IllegalArgumentException("Missing password property in the ssh configuration: " + sshHostConfig);
    }
  }
  if (sshHosts != null) {
    fallbackRepositories=sshHosts.getFallbackRepositories();
  }
  passPhrase=sshHostConfig.getPassPhrase();
  if (Strings.isNullOrBlank(passPhrase)) {
    if (sshHosts != null) {
      passPhrase=sshHosts.getDefaultPassPhrase();
    }
    if (Strings.isNullOrBlank(passPhrase)) {
      throw new IllegalArgumentException("Missing passPhrase property in the ssh configuration: " + sshHostConfig);
    }
  }
  privateKeyFile=sshHostConfig.getPrivateKeyFile();
  if (Strings.isNullOrBlank(privateKeyFile)) {
    if (sshHosts != null) {
      privateKeyFile=sshHosts.getDefaultPrivateKeyFile();
    }
    if (Strings.isNullOrBlank(privateKeyFile)) {
      throw new IllegalArgumentException("Missing privateKeyFile property in the ssh configuration: " + sshHostConfig);
    }
  }
}
