{
  List<String> keys=new ArrayList<>(compositeType.keySet());
  List<Object> items=new ArrayList<>();
  for (  String key : keys) {
    Object value=jsonObject.get(key);
    if (value instanceof JSONObject) {
      CompositeType itemType=(CompositeType)compositeType.getType(key);
      items.add(getCompositeData(itemType,(JSONObject)value));
    }
 else {
      items.add(value);
    }
  }
  String[] names=keys.toArray(new String[keys.size()]);
  return new CompositeDataSupport(compositeType,names,items.toArray(new Object[items.size()]));
}
