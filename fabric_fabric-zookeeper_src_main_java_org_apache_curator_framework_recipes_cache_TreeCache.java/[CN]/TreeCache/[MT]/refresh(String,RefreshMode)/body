{
  ensurePath.ensure(client.getZookeeperClient());
  Stat stat=new Stat();
  List<String> children=client.getChildren().storingStatIn(stat).usingWatcher(watcher).forPath(path);
  processChildren(path,children,mode);
  updateIfNeeded(path,stat,children);
}
