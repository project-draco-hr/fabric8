{
  if (event instanceof AuditEvent) {
    AuditEvent auditEvent=(AuditEvent)event;
    return auditEvent.getEndpointURI();
  }
 else   if (event instanceof ExchangeSendingEvent) {
    ExchangeSendingEvent sentEvent=(ExchangeSendingEvent)event;
    return sentEvent.getEndpoint().getEndpointUri();
  }
 else   if (event instanceof ExchangeSentEvent) {
    ExchangeSentEvent sentEvent=(ExchangeSentEvent)event;
    return sentEvent.getEndpoint().getEndpointUri();
  }
 else   if (event instanceof AbstractExchangeEvent) {
    AbstractExchangeEvent ae=(AbstractExchangeEvent)event;
    Exchange exchange=ae.getExchange();
    if (event instanceof ExchangeFailureHandledEvent || event instanceof ExchangeFailedEvent) {
      return exchange.getProperty(Exchange.FAILURE_ENDPOINT,String.class);
    }
 else {
      Endpoint fromEndpoint=exchange.getFromEndpoint();
      if (fromEndpoint != null) {
        return fromEndpoint.getEndpointUri();
      }
    }
  }
  return null;
}
