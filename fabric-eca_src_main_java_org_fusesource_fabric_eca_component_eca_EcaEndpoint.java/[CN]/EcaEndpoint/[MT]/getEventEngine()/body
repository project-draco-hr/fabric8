{
  if (eventEngine == null) {
    ANTLRNoCaseStringStream in=new ANTLRNoCaseStringStream(getPattern());
    InsightLexer lexer=new InsightLexer(in);
    CommonTokenStream tokens=new CommonTokenStream(lexer);
    InsightParser parser=new InsightParser(tokens);
    try {
      eventEngine=EventHelper.getEventEngine(getCamelContext(),getEventEngineImplementation());
      expression=parser.evaluate(eventEngine,getCacheWindow(),getThreshold());
      expression.start();
      expression.validate(getCamelContext());
      eventEngine.start();
    }
 catch (    RecognitionException e) {
      throw new RuntimeCamelException("Could not parse " + expression,e);
    }
    if (expression == null) {
      throw new RuntimeCamelException("Could not parse " + getPattern());
    }
  }
  return eventEngine;
}
