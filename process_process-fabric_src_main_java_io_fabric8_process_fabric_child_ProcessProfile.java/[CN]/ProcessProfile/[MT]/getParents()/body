{
  List<String> parents=requirements.getProfiles();
  List<Profile> profiles=new LinkedList<Profile>();
  if (includeContainerProfile) {
    profiles.add(container.getOverlayProfile());
  }
  for (  String parent : parents) {
    Profile p=container.getVersion().getProfile(parent);
    profiles.add(p);
  }
  return profiles.toArray(new Profile[profiles.size()]);
}
