{
  Version version=versionId != null ? profileService.getRequiredVersion(versionId) : fabricService.getRequiredDefaultVersion();
  Profile profile=version.getRequiredProfile(profileId);
  Profile[] parents=FabricCommand.getExistingProfiles(fabricService,version,parentIds);
  ProfileBuilder builder=ProfileBuilder.Factory.createFrom(profile);
  builder.setParents(Arrays.asList(parents));
  profileService.updateProfile(builder.getProfile());
  return null;
}
