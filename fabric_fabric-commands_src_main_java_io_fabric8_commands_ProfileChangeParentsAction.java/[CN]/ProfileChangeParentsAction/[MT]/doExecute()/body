{
  Version version=versionId != null ? profileService.getRequiredVersion(versionId) : fabricService.getRequiredDefaultVersion();
  Profile profile=version.getRequiredProfile(profileId);
  Profile[] parents=FabricCommand.getExistingProfiles(fabricService,version,parentIds);
  ProfileBuilder builder=ProfileBuilder.Factory.createFrom(profile);
  for (  Profile parent : parents) {
    builder.addParent(parent.getId());
  }
  profileService.updateProfile(builder.getProfile());
  return null;
}
