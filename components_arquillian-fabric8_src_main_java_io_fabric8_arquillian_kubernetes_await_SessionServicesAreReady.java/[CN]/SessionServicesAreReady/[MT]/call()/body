{
  boolean result=true;
  Filter<Service> serviceFilter=session.createServiceFilter();
  List<Service> services=Util.findServices(kubernetesClient,serviceFilter);
  if (services.isEmpty()) {
    result=false;
    session.getLogger().warn("No services are available yet, waiting...");
  }
 else   if (configuration.isWaitForServiceConnection()) {
    for (    Service s : filterServices(services,configuration.getWaitForServices())) {
      String serviceStatus=null;
      try (Socket socket=new Socket()){
        socket.connect(new InetSocketAddress(s.getPortalIP(),s.getPort()),configuration.getServiceConnectionTimeout());
        serviceStatus="Service: " + s.getId() + " is ready";
      }
 catch (      Exception e) {
        result=false;
        serviceStatus="Service: " + s.getId() + " is not ready! Error: "+ e.getMessage();
      }
 finally {
        session.getLogger().warn(serviceStatus);
      }
    }
  }
  return result;
}
