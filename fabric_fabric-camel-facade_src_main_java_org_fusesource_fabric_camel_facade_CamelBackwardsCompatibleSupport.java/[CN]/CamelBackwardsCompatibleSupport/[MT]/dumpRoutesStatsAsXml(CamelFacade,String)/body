{
  StringBuilder sb=new StringBuilder();
  sb.append("<camelContextStat").append(String.format(" id=\"%s\"",contextId)).append(">\n");
  List<CamelRouteMBean> routes=facade.getRoutes(contextId);
  List<CamelProcessorMBean> processors=facade.getProcessors(contextId);
  sb.append("  <routeStats>\n");
  for (  CamelRouteMBean route : routes) {
    sb.append("    <routeStat").append(String.format(" id=\"%s\"",route.getRouteId()));
    sb.append(" ").append(dumpStatsAsXmlAttributes(route)).append(">\n");
    sb.append("      <processorStats>\n");
    for (    CamelProcessorMBean processor : processors) {
      if (route.getRouteId().equals(processor.getRouteId())) {
        sb.append("        <processorStat").append(String.format(" id=\"%s\"",processor.getProcessorId()));
        sb.append(" ").append(dumpStatsAsXmlAttributes(processor)).append("/>\n");
      }
    }
    sb.append("      </processorStats>\n");
    sb.append("    </routeStat>\n");
  }
  sb.append("  </routeStats>\n");
  sb.append("</camelContextStat>");
  return sb.toString();
}
