{
  final FabricService fabricService=createMock(FabricService.class);
  final DataStore dataStore=createMock(DataStore.class);
  expect(fabricService.getCurrentContainerName()).andReturn("root").anyTimes();
  expect(fabricService.getContainer(EasyMock.<String>anyObject())).andReturn(new ContainerImpl(null,"root",fabricService));
  replay(fabricService);
  replay(dataStore);
  PlaceholderResolver resolver=getContainerPlaceholderResolver(fabricService);
  assertEquals("root",resolver.resolve(null,null,null,"container:name"));
  verify(fabricService);
  verify(dataStore);
}
