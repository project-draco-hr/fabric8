{
  JarFile jarFile=new JarFile(jar);
  File file=null;
  Properties properties=null;
  Enumeration<JarEntry> entries=jarFile.entries();
  while (entries.hasMoreElements()) {
    JarEntry entry=entries.nextElement();
    String name=entry.getName();
    if (name.matches("META-INF/maven/.*/.*/pom.xml")) {
      InputStream in=jarFile.getInputStream(entry);
      file=File.createTempFile("fabric-pomegranate-",".pom.xml");
      IOHelpers.writeTo(file,in);
    }
 else     if (name.matches("META-INF/maven/.*/.*/pom.properties")) {
      InputStream in=jarFile.getInputStream(entry);
      properties=new Properties();
      properties.load(in);
    }
    if (file != null && properties != null) {
      break;
    }
  }
  return new PomDetails(file,properties);
}
