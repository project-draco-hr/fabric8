{
  GitRepoClient repoClient=userDetails.createRepoClient();
  RepositoryDTO dto=repositoryCache.getOrFindUserRepository(user,repositoryName,repoClient);
  if (dto == null) {
    throw new NotFoundException("No repository defined for user: " + user + " and name: "+ repositoryName);
  }
  String cloneUrl=dto.getCloneUrl();
  if (Strings.isNullOrBlank(cloneUrl)) {
    throw new NotFoundException("No cloneUrl defined for user repository: " + user + "/"+ repositoryName);
  }
  return cloneUrl;
}
