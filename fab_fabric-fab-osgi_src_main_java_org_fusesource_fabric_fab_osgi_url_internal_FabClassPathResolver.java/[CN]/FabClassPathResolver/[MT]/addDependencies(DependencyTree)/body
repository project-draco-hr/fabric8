{
  List<DependencyTree> children=tree.getChildren();
  for (  DependencyTree child : children) {
    if (excludePackageFilter.matches(child)) {
      LOG.debug("Excluded dependency: " + child);
      continue;
    }
 else     if (sharedFilter.matches(child) || requireBundleFilter.matches(child)) {
      sharedDependencies.add(child);
      List<DependencyTree> list=child.getDescendants();
      for (      DependencyTree grandChild : list) {
        if (excludePackageFilter != null && excludePackageFilter.matches(tree)) {
          LOG.debug("Excluded transitive dependency: " + child);
          continue;
        }
 else {
          sharedDependencies.add(grandChild);
        }
      }
    }
 else {
      nonSharedDependencies.add(child);
      addDependencies(child);
    }
  }
}
