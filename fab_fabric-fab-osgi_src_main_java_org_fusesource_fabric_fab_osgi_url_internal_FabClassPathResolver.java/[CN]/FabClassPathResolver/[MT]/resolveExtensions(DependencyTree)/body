{
  Map<String,ModuleRegistry.VersionedModule> availableExtensions=module.getAvailableExtensions();
  for (  String enabledExtension : module.getEnabledExtensions()) {
    ModuleRegistry.VersionedModule extensionModule=availableExtensions.get(enabledExtension);
    if (extensionModule != null) {
      VersionedDependencyId id=extensionModule.getId();
      DependencyTreeResult result=resolver.collectDependencies(id.getGroupId(),id.getArtifactId(),id.getVersion(),id.getExtension(),id.getClassifier());
      if (result != null) {
        DependencyTree tree=result.getTree();
        LOG.debug("Adding extensions: " + tree);
        addExtensionDependencies(tree);
      }
 else {
        LOG.debug("Could not resolve extension: " + id);
      }
    }
  }
}
