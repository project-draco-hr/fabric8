{
  return gitReadOperation(new GitOperation<List<String>>(){
    public List<String> call(    Git git,    GitContext context) throws Exception {
      List<String> answer=new ArrayList<String>();
      File profilesDir=getProfilesDirectory(git);
      if (hasVersion(version)) {
        checkoutVersion(git,"master");
        if (profilesDir.exists()) {
          File[] files=profilesDir.listFiles();
          if (files != null) {
            for (            File file : files) {
              if (file.isDirectory()) {
                answer.add(file.getName());
              }
            }
          }
        }
        checkoutVersion(git,version);
        if (profilesDir.exists()) {
          File[] files=profilesDir.listFiles();
          if (files != null) {
            for (            File file : files) {
              if (file.isDirectory()) {
                answer.add(file.getName());
              }
            }
          }
        }
      }
      return answer;
    }
  }
);
}
