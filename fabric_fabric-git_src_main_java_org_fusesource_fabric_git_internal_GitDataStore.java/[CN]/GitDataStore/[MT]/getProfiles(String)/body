{
  assertValid();
  return gitReadOperation(new GitOperation<List<String>>(){
    public List<String> call(    Git git,    GitContext context) throws Exception {
      List<String> answer=new ArrayList<String>();
      File profilesDir=getProfilesDirectory(git);
      if (hasVersion(version)) {
        checkoutVersion(git,"master");
        doAddProfileNames(answer,profilesDir,"");
        checkoutVersion(git,version);
        doAddProfileNames(answer,profilesDir,"");
      }
      return answer;
    }
  }
);
}
