{
  assertValid();
  File profileDirectory=getProfileDirectory(git,profile);
  File file=new File(profileDirectory,pid + PROPERTIES_SUFFIX);
  if (configuration == null) {
    doRecursiveDeleteAndRemove(git,file);
  }
 else {
    Properties props=new Properties(file);
    for (    Map.Entry<String,String> entry : configuration.entrySet()) {
      props.setProperty(entry.getKey(),entry.getValue());
    }
    props.save();
    doAddFiles(git,file);
  }
}
