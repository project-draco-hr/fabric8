{
  assertValid();
  Map<String,byte[]> fileConfigs=new HashMap<String,byte[]>();
  try {
    for (    Map.Entry<String,Map<String,String>> entry : configurations.entrySet()) {
      String pid=entry.getKey();
      Map<String,String> map=entry.getValue();
      byte[] data=DataStoreHelpers.toBytes(DataStoreHelpers.toProperties(map));
      fileConfigs.put(pid + ".properties",data);
    }
  }
 catch (  IOException e) {
    throw new FabricException(e);
  }
  setFileConfigurations(version,profile,fileConfigs);
}
