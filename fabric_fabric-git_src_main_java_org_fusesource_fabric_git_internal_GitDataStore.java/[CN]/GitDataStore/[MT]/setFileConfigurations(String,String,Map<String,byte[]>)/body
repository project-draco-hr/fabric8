{
  assertValid();
  gitOperation(new GitOperation<Void>(){
    public Void call(    Git git,    GitContext context) throws Exception {
      checkoutVersion(git,GitProfiles.getBranch(version,profile));
      File profileDirectory=getProfileDirectory(git,profile);
      doSetFileConfigurations(git,profileDirectory,profile,configurations);
      context.setPushBranch(version);
      context.commit("Updated configuration for profile " + profile);
      return null;
    }
  }
);
}
