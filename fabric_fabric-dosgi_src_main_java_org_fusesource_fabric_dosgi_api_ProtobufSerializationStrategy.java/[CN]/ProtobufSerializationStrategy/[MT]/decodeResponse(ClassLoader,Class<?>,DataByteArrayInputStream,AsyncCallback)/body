{
  if (source.readBoolean()) {
    String className=source.readUTF();
    String message=source.readUTF();
    Throwable error;
    try {
      Constructor<?> ctr=loader.loadClass(className).getConstructor(new Class[]{String.class});
      error=(Throwable)ctr.newInstance(message);
    }
 catch (    Throwable e) {
      error=new RuntimeException(className + ": " + message);
    }
    result.onFailure(error);
  }
 else {
    result.onSuccess(decodeProtobuf(type,source));
  }
}
