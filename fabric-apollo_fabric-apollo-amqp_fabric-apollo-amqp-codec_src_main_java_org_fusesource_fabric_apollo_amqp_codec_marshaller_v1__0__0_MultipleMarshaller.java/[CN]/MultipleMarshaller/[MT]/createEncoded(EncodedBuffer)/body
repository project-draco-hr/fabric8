{
  byte fc=buffer.getEncodingFormatCode();
  if (fc == Encoder.NULL_FORMAT_CODE) {
    return NULL_ENCODED;
  }
  if (fc == Encoder.DESCRIBED_FORMAT_CODE) {
    DescribedBuffer db=buffer.asDescribed();
    AmqpType<?,?> descriptor=AmqpMarshaller.SINGLETON.decodeType(db.getDescriptorBuffer());
    if (!(descriptor instanceof AmqpBoolean)) {
      Multiple multiple=createMultiple();
      multiple.setValue(AmqpMarshaller.SINGLETON.decodeType(buffer));
      return new MultipleEncoded(multiple);
    }
    return new MultipleMarshaller.MultipleEncoded(db);
  }
  Multiple multiple=createMultiple();
  multiple.setValue(AmqpMarshaller.SINGLETON.decodeType(buffer));
  return new MultipleEncoded(multiple);
}
