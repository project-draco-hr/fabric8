{
  HttpClient httpClient=new HttpClient();
  httpClient.getState().setCredentials(AuthScope.ANY,new UsernamePasswordCredentials("smx","smx"));
  AuthScheme scheme=new BasicScheme();
  System.out.println("Sent HTTP GET request to query customer info with basic authentication info.");
  GetMethod get=new GetMethod("http://localhost:8181/cxf/crm/customerservice/customers/123");
  get.getHostAuthState().setAuthScheme(scheme);
  try {
    httpClient.executeMethod(get);
    System.out.println(get.getResponseBodyAsString());
  }
  finally {
    get.releaseConnection();
  }
  System.out.println("\n");
  System.out.println("Sent HTTP GET request to query customer info without basic authentication info.");
  get=new GetMethod("http://localhost:8181/cxf/crm/customerservice/customers/123");
  try {
    httpClient.executeMethod(get);
    System.out.println(get.getResponseBodyAsString());
  }
  finally {
    get.releaseConnection();
  }
  System.out.println("\n");
  System.out.println("Sent HTTP GET request to query sub resource product info");
  get=new GetMethod("http://localhost:8181/cxf/crm/customerservice/orders/223/products/323");
  get.getHostAuthState().setAuthScheme(scheme);
  try {
    httpClient.executeMethod(get);
    System.out.println(get.getResponseBodyAsString());
  }
  finally {
    get.releaseConnection();
  }
  System.out.println("\n");
  System.out.println("Sent HTTP PUT request to update customer info");
  String inputFile=Client.class.getResource("update_customer.xml").getFile();
  File input=new File(inputFile);
  PutMethod put=new PutMethod("http://localhost:8181/cxf/crm/customerservice/customers");
  put.getHostAuthState().setAuthScheme(scheme);
  RequestEntity entity=new FileRequestEntity(input,"text/xml; charset=ISO-8859-1");
  put.setRequestEntity(entity);
  try {
    int result=httpClient.executeMethod(put);
    System.out.println("Response status code: " + result);
    System.out.println("Response body: ");
    System.out.println(put.getResponseBodyAsString());
  }
  finally {
    put.releaseConnection();
  }
  System.out.println("\n");
  System.out.println("Sent HTTP POST request to add customer");
  inputFile=Client.class.getResource("add_customer.xml").getFile();
  input=new File(inputFile);
  PostMethod post=new PostMethod("http://localhost:8181/cxf/crm/customerservice/customers");
  post.getHostAuthState().setAuthScheme(scheme);
  post.addRequestHeader("Accept","text/xml");
  entity=new FileRequestEntity(input,"text/xml; charset=ISO-8859-1");
  post.setRequestEntity(entity);
  try {
    int result=httpClient.executeMethod(post);
    System.out.println("Response status code: " + result);
    System.out.println("Response body: ");
    System.out.println(post.getResponseBodyAsString());
  }
  finally {
    post.releaseConnection();
  }
  System.out.println("\n");
  System.exit(0);
}
