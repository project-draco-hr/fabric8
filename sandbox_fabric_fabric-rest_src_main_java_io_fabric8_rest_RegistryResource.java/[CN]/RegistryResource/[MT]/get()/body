{
  CuratorFramework curator=getCurator();
  if (curator != null) {
    String zkPath=toZooKeeperPath("");
    byte[] bytes=ZooKeeperUtils.getData(curator,zkPath);
    if (bytes == null) {
      return Response.status(Response.Status.NOT_FOUND).entity("No such ZooKeeper entry for path: " + zkPath).build();
    }
 else {
      String mediaType=guessMediaTypeWithJsonDefault(zkPath,bytes);
      return Response.ok(bytes,mediaType).build();
    }
  }
 else {
    return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity("No ZooKeeper connection").build();
  }
}
