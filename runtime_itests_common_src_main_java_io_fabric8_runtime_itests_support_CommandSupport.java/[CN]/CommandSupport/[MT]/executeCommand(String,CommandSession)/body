{
  List<String> tokens=Arrays.asList(cmdstr.split("\\s"));
  String[] header=tokens.get(0).split(":");
  Assert.assertTrue("Two tokens",header.length == 2);
  String filter="(&(osgi.command.scope=" + header[0] + ")(osgi.command.function="+ header[1]+ "))";
  ModuleContext moduleContext=RuntimeLocator.getRequiredRuntime().getModuleContext();
  AbstractCommand command=(AbstractCommand)ServiceLocator.awaitService(moduleContext,Function.class,filter);
  List<Object> args=new ArrayList<Object>(tokens);
  args.remove(0);
  Object result=command.execute(session,args);
  return result != null ? result.toString() : null;
}
