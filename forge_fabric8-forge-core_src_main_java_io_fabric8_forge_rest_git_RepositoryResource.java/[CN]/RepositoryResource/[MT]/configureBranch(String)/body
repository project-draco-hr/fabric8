{
  if (Strings.isNotBlank(branch)) {
    StoredConfig config=git.getRepository().getConfig();
    if (Strings.isNullOrBlank(config.getString("branch",branch,"remote")) || Strings.isNullOrBlank(config.getString("branch",branch,"merge"))) {
      config.setString("branch",branch,"remote",getRemote());
      config.setString("branch",branch,"merge","refs/heads/" + branch);
      try {
        config.save();
      }
 catch (      IOException e) {
        LOG.error("Failed to save the git configuration to " + basedir + " with branch "+ branch+ " on remote repo: "+ remoteRepository+ " due: "+ e.getMessage()+ ". This exception is ignored.",e);
      }
    }
  }
}
