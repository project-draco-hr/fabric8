{
  if (null == element) {
    throw new NullPointerException("Attempted to add null object to buffer");
  }
  if (size() == maxElements) {
    Object e=elements[start];
    if (null != e) {
      elements[start++]=null;
      if (start >= maxElements) {
        start=0;
      }
      full=false;
    }
  }
  elements[end++]=element;
  if (end >= maxElements) {
    end=0;
  }
  if (end == start) {
    full=true;
  }
}
