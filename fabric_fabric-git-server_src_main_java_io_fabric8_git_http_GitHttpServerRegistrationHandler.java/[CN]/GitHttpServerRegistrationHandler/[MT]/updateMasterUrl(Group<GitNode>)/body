{
  try {
    if (group.isMaster()) {
      LOGGER.debug("Git repo is the master");
      if (!isMaster.getAndSet(true)) {
        registerServlet(dataPath,realm,role);
      }
    }
 else {
      LOGGER.debug("Git repo is not the master");
      if (isMaster.getAndSet(false)) {
        unregisterServlet();
      }
    }
    GitNode state=createState();
    group.update(state);
    String url=state.getUrl();
    gitRemoteUrl.set(ZooKeeperUtils.getSubstitutedData(curator.get(),url));
    if (group.isMaster()) {
      updateConfigAdmin();
    }
  }
 catch (  Exception e) {
  }
}
