{
  BundleContext bundleContext=componentContext.getBundleContext();
  boolean isCreated=checkCreated(bundleContext);
  if (!Strings.isNotBlank(zookeeperUrl) && !isCreated && options.isEnsembleStart()) {
    String connectionUrl=getConnectionUrl(options);
    DataStoreOptions bootOptions=new DataStoreOptions(runtimeId,homeDir,connectionUrl,options);
    runtimeProperties.get().putRuntimeAttribute(DataStoreTemplate.class,new DataStoreBootstrapTemplate(bootOptions));
    createOrUpdateDataStoreConfig(options);
    createZooKeeeperServerConfig(options);
    createZooKeeeperClientConfig(connectionUrl,options);
    markCreated(bundleContext);
  }
}
