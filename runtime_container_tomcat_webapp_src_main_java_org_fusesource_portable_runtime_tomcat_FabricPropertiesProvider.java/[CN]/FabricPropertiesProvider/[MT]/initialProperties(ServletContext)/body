{
  Properties properties=super.initialProperties(servletContext);
  File karafBase=new File(getCatalinaWork().getPath() + File.separator + "karaf-base");
  File karafData=new File(karafBase.getPath() + File.separator + "data");
  File profilesImport=new File(karafBase.getPath() + File.separator + CreateEnsembleOptions.DEFAULT_IMPORT_PATH);
  properties.setProperty(CreateEnsembleOptions.PROFILES_AUTOIMPORT_PATH,profilesImport.getAbsolutePath());
  properties.setProperty("org.osgi.service.http.port","8080");
  properties.setProperty(SystemProperties.KARAF_HOME,karafBase.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_BASE,karafBase.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_DATA,karafData.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_NAME,"root");
  return properties;
}
