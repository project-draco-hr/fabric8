{
  if (value == null) {
    return TypeRegistry.NULL_FORMAT_CODE;
  }
  if (value == BigInteger.ZERO) {
    return AMQPULong.ULONG_ULONG0_CODE;
  }
  if (value.toByteArray().length == 1) {
    return AMQPULong.ULONG_SMALLULONG_CODE;
  }
  return AMQPULong.ULONG_CODE;
}
