{
  if (value == null) {
    return NULL_FORMAT_CODE;
  }
  if (value == BigInteger.ZERO) {
    return ULONG_ULONG0_CODE;
  }
  if (value.toByteArray().length == 1) {
    return ULONG_SMALLULONG_CODE;
  }
  return ULONG_CODE;
}
