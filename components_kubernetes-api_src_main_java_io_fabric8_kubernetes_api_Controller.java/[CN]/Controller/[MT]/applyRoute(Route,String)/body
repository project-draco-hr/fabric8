{
  String id=getName(entity);
  Objects.notNull(id,"No name for " + entity + " "+ sourceName);
  String namespace=KubernetesHelper.getNamespace(entity);
  if (Strings.isNullOrBlank(namespace)) {
    namespace=kubernetes.getNamespace();
  }
  Route route=kubernetes.findRoute(id,namespace);
  if (route == null) {
    try {
      LOG.info("Creating Route " + namespace + ":"+ id+ " "+ KubernetesHelper.summaryText(entity));
      kubernetes.createRoute(entity,namespace);
    }
 catch (    WebApplicationException e) {
      if (e.getResponse().getStatus() == 404) {
        LOG.warn("Got a 404 - could be an old Kubernetes/OpenShift environment - lets try the old style REST API...");
        try {
          kubernetes.createRouteOldAPi(entity,namespace);
        }
 catch (        Exception e1) {
          onApplyError("Failed to create Route from " + sourceName + ". "+ e1+ ". "+ entity,e1);
        }
      }
 else {
        onApplyError("Failed to create Route from " + sourceName + ". "+ e+ ". "+ entity,e);
      }
    }
catch (    Exception e) {
      onApplyError("Failed to create Route from " + sourceName + ". "+ e+ ". "+ entity,e);
    }
  }
}
