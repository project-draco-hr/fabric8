{
  String namespace=getOrCreateMetadata(entity).getName();
  LOG.info("Creating a namespace " + namespace);
  String name=getName(entity);
  Objects.notNull(name,"No name for " + entity);
  Namespace old=kubernetes.namespaces().withName(name).getIfExists();
  if (!isRunning(old)) {
    try {
      Object answer=kubernetes.namespaces().create(entity);
      logGeneratedEntity("Created namespace: ",namespace,entity,answer);
    }
 catch (    Exception e) {
      onApplyError("Failed to create namespace. " + e + ". "+ entity,e);
    }
  }
}
