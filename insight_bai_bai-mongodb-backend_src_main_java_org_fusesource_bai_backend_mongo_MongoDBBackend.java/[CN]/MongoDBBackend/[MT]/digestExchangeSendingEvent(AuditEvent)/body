{
  DBObject filter=new BasicDBObject();
  filter.put("_id",ev.breadCrumbId);
  DBObject toApply=new BasicDBObject();
  toApply.put("$push",new BasicDBObject("exchanges",new BasicDBObject()));
  DBObject exchangeToPush=(BasicDBObject)((BasicDBObject)toApply.get("$push")).get("exchanges");
  exchangeToPush.put("endpointUri",ev.endpointURI);
  exchangeToPush.put("startTimestamp",ev.timestamp);
  exchangeToPush.put("status","in_progress");
  exchangeToPush.put("exchangeId",ev.event.getExchange().getExchangeId());
  exchangeToPush.put("exchangePattern",ev.event.getExchange().getPattern().toString());
  exchangeToPush.put("dispatchId",ev.event.getExchange().getProperty(AuditConstants.DISPATCH_ID,String.class));
  addCurrentRouteIdIfNeeded(ev,exchangeToPush);
  try {
    exchangeToPush.put("in",convertPayload(ev.getExchange().getIn().getBody(),ev.getExchange()));
  }
 catch (  Exception e) {
  }
  collectionFor(ev).update(filter,toApply);
}
