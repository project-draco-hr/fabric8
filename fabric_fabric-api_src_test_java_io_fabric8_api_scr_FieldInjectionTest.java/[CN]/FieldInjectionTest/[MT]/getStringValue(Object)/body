{
  Class<?> aClass=value.getClass();
  String text;
  if (aClass.isArray()) {
    StringBuilder builder=new StringBuilder();
    int length=Array.getLength(value);
    for (int i=0; i < length; i++) {
      addStringValue(builder,Array.get(value,i));
    }
    text=builder.toString();
  }
 else   if (value instanceof Collection) {
    StringBuilder builder=new StringBuilder();
    Collection collection=(Collection)value;
    for (    Object item : collection) {
      addStringValue(builder,item);
    }
    text=builder.toString();
  }
 else {
    text=value.toString();
  }
  return text;
}
