{
  assertTrue("Expected success",getArtifact(KARAF_GROUP_ID,KARAF_ARTIFACT_ID,KARAF_VERSION,KARAF_TYPE));
  File file=new File(LOCAL_REPO + File.separatorChar + getArtifactPath(KARAF_GROUP_ID,KARAF_ARTIFACT_ID,KARAF_VERSION,KARAF_TYPE));
  assertTrue(file.exists());
  proxy.stop();
  proxy.setRemoteRepositories("fake-1,fake-2");
  Thread.sleep(2000);
  proxy.start();
  assertTrue("Expected success",getArtifact(KARAF_GROUP_ID,KARAF_ARTIFACT_ID,KARAF_VERSION,KARAF_TYPE));
  if (file.delete()) {
    assertFalse("Expected failue",getArtifact(KARAF_GROUP_ID,KARAF_ARTIFACT_ID,KARAF_VERSION,KARAF_TYPE));
  }
}
