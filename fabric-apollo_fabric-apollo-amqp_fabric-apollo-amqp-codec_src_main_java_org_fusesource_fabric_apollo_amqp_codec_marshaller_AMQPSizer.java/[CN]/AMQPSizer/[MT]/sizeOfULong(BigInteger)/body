{
  byte formatCode=TypeRegistry.instance().picker().chooseULongEncoding(value);
switch (formatCode) {
case NULL_FORMAT_CODE:
    return 1;
case ULONG_ULONG0_CODE:
  return 1;
case ULONG_SMALLULONG_CODE:
return 1 + ULONG_SMALLULONG_WIDTH;
case ULONG_CODE:
return 1 + ULONG_WIDTH;
default :
throw new RuntimeException("Unknown format code 0x" + String.format("%x",formatCode));
}
}
