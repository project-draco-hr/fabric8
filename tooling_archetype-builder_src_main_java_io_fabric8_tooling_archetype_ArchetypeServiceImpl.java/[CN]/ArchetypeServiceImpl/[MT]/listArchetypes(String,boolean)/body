{
  List<Archetype> answer=new ArrayList<Archetype>();
  if (Strings.isNullOrBlank(filter)) {
    answer.addAll(listArchetypes());
    return answer;
  }
  filter=filter.toLowerCase();
  for (  Archetype archetype : archetypes.values()) {
    if (artifactIdOnly && archetype.artifactId.toLowerCase().contains(filter)) {
      answer.add(archetype);
    }
 else {
      if (archetype.groupId.toLowerCase().contains(filter) || archetype.artifactId.toLowerCase().contains(filter) || archetype.version.toLowerCase().contains(filter)) {
        answer.add(archetype);
      }
    }
  }
  return answer;
}
