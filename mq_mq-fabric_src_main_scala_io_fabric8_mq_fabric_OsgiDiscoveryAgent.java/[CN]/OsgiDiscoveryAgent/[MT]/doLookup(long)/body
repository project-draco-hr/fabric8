{
  Set<String> rc=new HashSet<String>();
  BundleContext context=FrameworkUtil.getBundle(getClass()).getBundleContext();
  if (context != null) {
    ServiceReference reference=context.getServiceReference(ConfigurationAdmin.class.getName());
    if (reference != null) {
      ConfigurationAdmin ca=(ConfigurationAdmin)context.getService(reference);
      try {
        Configuration config=ca.getConfiguration(propertyName);
        Dictionary properties=config.getProperties();
        if (properties != null) {
          Enumeration keys=properties.keys();
          while (keys.hasMoreElements()) {
            String key=(String)keys.nextElement();
            if (key.startsWith("broker.url.")) {
              rc.add(((String)properties.get(key)).trim());
            }
          }
        }
      }
 catch (      IOException e) {
      }
    }
  }
  return rc;
}
