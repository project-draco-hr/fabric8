{
  if (startClass != stopClass) {
    addFields(target,startClass.getSuperclass(),stopClass,map);
  }
  Field[] fields=startClass.getDeclaredFields();
  for (int i=0; i < fields.length; i++) {
    Field field=fields[i];
    if (Modifier.isStatic(field.getModifiers())) {
      continue;
    }
    try {
      field.setAccessible(true);
      Object o=field.get(target);
      if (o != null && o.getClass().isArray()) {
        try {
          o=Arrays.asList((Object[])o);
        }
 catch (        Throwable e) {
        }
      }
      map.put(field.getName(),o);
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
}
