{
  List<String> endpoints=new ArrayList<>();
  String namespace=Systems.getEnvVarOrSystemProperty(KUBERNETES_NAMESPACE,(String)null);
  String serviceProto=serviceProtocol != null ? serviceProtocol : DEFAULT_PROTO;
  for (  io.fabric8.kubernetes.api.model.Endpoints item : KUBERNETES.getEndpoints().getItems()) {
    if (item.getId().equals(serviceId) && (namespace == null || namespace.equals(item.getNamespace()))) {
      for (      String endpoint : item.getEndpoints()) {
        endpoints.add(serviceProto + "://" + endpoint);
      }
      break;
    }
  }
  return endpoints;
}
