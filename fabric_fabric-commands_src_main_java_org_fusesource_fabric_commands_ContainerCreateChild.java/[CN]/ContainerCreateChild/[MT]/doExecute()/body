{
  CreateContainerMetadata[] metadatas=null;
  preCreateContainer(name);
  String jmxUser=username != null ? username : ShellUtils.retrieveFabricUser(session);
  String jmxPassword=password != null ? password : ShellUtils.retrieveFabricUserPassword(session);
  String url="child://" + parent;
  CreateContainerChildOptions options=CreateContainerOptionsBuilder.child().name(name).parent(parent).resolver(resolver).ensembleServer(isEnsembleServer).number(number).zookeeperUrl(fabricService.getZookeeperUrl()).zookeeperPassword(fabricService.getZookeeperPassword()).jvmOpts(jvmOpts).jmxUser(jmxUser).jmxPassword(jmxPassword);
  try {
    metadatas=fabricService.createContainers(options);
    ShellUtils.storeFabricCredentials(session,jmxUser,jmxPassword);
  }
 catch (  FabricAuthenticationException ex) {
    username=null;
    password=null;
    promptForJmxCredentialsIfNeeded();
    options.setJmxUser(username);
    options.setJmxPassword(password);
    metadatas=fabricService.createContainers(options);
    ShellUtils.storeFabricCredentials(session,username,password);
  }
  displayContainers(metadatas);
  postCreateContainers(metadatas);
  return null;
}
