{
  System.out.println("Parents are: " + parents);
  if (parents != null && parents.size() > 0 && version != null) {
    List<Profile> parentProfiles=Profiles.getProfiles(fabricService,parents,version);
    System.out.println("Found parents: " + parentProfiles);
    for (    Profile parent : parentProfiles) {
      builder.addParent(parent.getId());
    }
  }
  builder.setOverlay(overlay);
  builder.setLocked(locked);
  if (attributes != null) {
    builder.setAttributes(attributes);
  }
  if (bundles != null) {
    builder.setBundles(bundles);
  }
  if (fabs != null) {
    builder.setBundles(fabs);
  }
  if (features != null) {
    builder.setBundles(features);
  }
  if (repositories != null) {
    builder.setBundles(repositories);
  }
  if (overrides != null) {
    builder.setBundles(overrides);
  }
}
