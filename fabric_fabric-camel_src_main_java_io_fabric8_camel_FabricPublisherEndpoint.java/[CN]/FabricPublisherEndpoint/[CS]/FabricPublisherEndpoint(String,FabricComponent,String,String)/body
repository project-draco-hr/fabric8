{
  super(uri,component);
  this.component=component;
  this.singletonId=singletonId;
  String path=child;
  int idx=path.indexOf('?');
  if (idx > -1) {
    path=path.substring(0,idx);
  }
  Map<String,Object> params=URISupport.parseParameters(new URI(child));
  String consumer=params != null ? (String)params.remove("consumer") : null;
  if (consumer != null) {
    Map<String,Object> properties=IntrospectionSupport.extractProperties(params,"consumer.");
    if (properties != null && properties.size() > 0) {
      consumer=consumer + "?" + URISupport.createQueryString(properties);
      for (      String k : properties.keySet()) {
        params.remove(k);
      }
    }
    child=path;
    if (params.size() > 0) {
      child=child + "?" + URISupport.createQueryString(params);
    }
  }
 else {
    consumer=child;
  }
  LOG.info("Child: " + child);
  LOG.info("Consumer: " + consumer);
  this.child=child;
  this.consumer=consumer;
  path=getComponent().getFabricPath(singletonId);
  group=getComponent().createGroup(path);
  CamelNodeState state=new CamelNodeState(singletonId);
  state.consumer=consumer;
  group.update(state);
}
