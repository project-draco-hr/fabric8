{
  FeaturesService service=createMockFeaturesService();
  FabResolverFactoryImpl.FeaturesMatchingFilter filter=new FabResolverFactoryImpl.FeaturesMatchingFilter(service,new FabConfiguration(){
    @Override public String getStringProperty(    String name){
      return null;
    }
  }
);
  assertTrue(filter.matches(DependencyTree.newBuilder("required","bundle1","1.0").build()));
  assertFalse(filter.matches(DependencyTree.newBuilder("optional","bundle2","1.0").build()));
  assertEquals(1,filter.getCollection().size());
  assertTrue(filter.getCollection().contains("feature-a/1.0"));
}
