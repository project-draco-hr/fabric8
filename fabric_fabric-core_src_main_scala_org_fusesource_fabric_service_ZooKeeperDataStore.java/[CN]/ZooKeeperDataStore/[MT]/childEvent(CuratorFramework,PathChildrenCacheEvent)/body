{
  if (pendingEvents.incrementAndGet() == 1) {
    try {
      List<Runnable> copyOfCallbacks=new ArrayList<Runnable>(callbacks);
      callbacks.clear();
      for (      Runnable callback : copyOfCallbacks) {
        try {
          callback.run();
        }
 catch (        Throwable t) {
        }
      }
    }
  finally {
      pendingEvents.set(0);
    }
  }
}
