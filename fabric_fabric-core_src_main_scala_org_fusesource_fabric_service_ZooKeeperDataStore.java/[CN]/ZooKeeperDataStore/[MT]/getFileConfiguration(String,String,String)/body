{
  try {
    String path=ZkProfiles.getPath(version,profile) + "/" + pid;
    if (exists(zk,path) == null) {
      return null;
    }
    if (zk.getData(path) == null) {
      List<String> children=getChildren(zk,path);
      StringBuilder buf=new StringBuilder();
      for (      String child : children) {
        String value=getStringData(zk,path + "/" + child);
        buf.append(String.format("%s = %s\n",child,value));
      }
      return buf.toString().getBytes();
    }
 else {
      return zk.getData(path);
    }
  }
 catch (  Exception e) {
    throw new FabricException(e);
  }
}
