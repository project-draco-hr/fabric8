{
  checkRequirements();
  String jmxUser=user != null ? user : ShellUtils.retrieveFabricUser(session);
  String jmxPassword=password != null ? password : ShellUtils.retrieveFabricUserPassword(session);
  try {
    doInstall(jmxUser,jmxPassword);
  }
 catch (  FabricAuthenticationException ex) {
    user=null;
    password=null;
    promptForJmxCredentialsIfNeeded();
    doInstall(user,password);
    ShellUtils.storeFabricCredentials(session,user,password);
  }
  return null;
}
