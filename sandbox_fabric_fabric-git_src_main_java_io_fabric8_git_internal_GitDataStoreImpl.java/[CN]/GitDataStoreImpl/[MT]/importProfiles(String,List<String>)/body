{
  IllegalStateAssertion.assertNotNull(versionId,"versionId");
  IllegalStateAssertion.assertNotNull(profileZipUrls,"profileZipUrls");
  LockHandle writeLock=aquireWriteLock();
  try {
    assertValid();
    GitOperation<String> gitop=new GitOperation<String>(){
      public String call(      Git git,      GitContext context) throws Exception {
        createOrCheckoutVersion(git,versionId);
        return doImportProfiles(git,context,profileZipUrls);
      }
    }
;
    executeWrite(gitop);
  }
  finally {
    writeLock.unlock();
  }
}
