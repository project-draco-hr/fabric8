{
  this.queue=Dispatch.createQueue();
  this.importedServices=new ConcurrentHashMap<EndpointDescription,Map<Long,ImportRegistration>>();
  this.exportedServices=new ConcurrentHashMap<ServiceReference,ExportRegistration>();
  this.exportedServicesPerId=new ConcurrentHashMap<String,ExportRegistration>();
  this.listeners=new ConcurrentHashMap<ListenerInfo,SimpleFilter>();
  this.remoteEndpoints=new CapabilitySet<EndpointDescription>(Arrays.asList(Constants.OBJECTCLASS,ENDPOINT_FRAMEWORK_UUID),false);
  this.bundleContext=context;
  this.zooKeeper=zooKeeper;
  this.client=new ClientInvokerImpl(queue);
  this.server=new ServerInvokerImpl(uri,queue);
}
