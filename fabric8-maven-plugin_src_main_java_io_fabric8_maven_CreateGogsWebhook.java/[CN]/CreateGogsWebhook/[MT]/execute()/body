{
  try {
    KubernetesClient kubernetes=getKubernetes();
    Log log=getLog();
    String gogsUser=this.gogsUsername;
    String gogsPwd=this.gogsPassword;
    String repoName=this.repo;
    String webhookUrlValue=this.webhookUrl;
    String webhookSecret=this.secret;
    GitRepoClient gitRepoClient=GitRepoKubernetes.createGitRepoClient(getKubernetes(),gogsUser,gogsPassword);
    if (gitRepoClient == null) {
      getLog().error("No Gogs service found in kubernetes at address " + kubernetes.getAddress() + " namespace "+ kubernetes.getNamespace());
    }
 else {
      createGogsWebhook(gitRepoClient,log,gogsUser,repoName,webhookUrlValue,webhookSecret);
    }
  }
 catch (  MojoExecutionException e) {
    throw e;
  }
catch (  Exception e) {
    throw new MojoExecutionException("Failed to load environment schemas: " + e,e);
  }
}
