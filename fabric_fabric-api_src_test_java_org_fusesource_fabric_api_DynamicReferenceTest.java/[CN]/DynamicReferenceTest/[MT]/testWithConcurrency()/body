{
  final DynamicReference<String> dynamic=new DynamicReference<String>();
  ExecutorService executor=Executors.newFixedThreadPool(1);
  executor.submit(new Runnable(){
    @Override public void run(){
      int counter=1;
      while (true) {
        try {
          String value=String.valueOf(counter++);
          dynamic.bind(value);
          Thread.sleep(10);
          dynamic.unbind(value);
        }
 catch (        InterruptedException e) {
        }
      }
    }
  }
);
  for (int i=0; i < 100; i++) {
    String msg=dynamic.get();
    try {
      if (i % 10 == 0) {
        Thread.sleep(10);
        System.out.println(msg);
      }
    }
 catch (    InterruptedException e) {
    }
  }
}
