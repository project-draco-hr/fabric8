{
  this.bundleContext=bundleContext;
  activateComponent();
  try {
    if ((properties == null || !properties.containsKey(ZOOKEEPER_URL)) && Strings.isNullOrEmpty(System.getProperty(ZOOKEEPER_URL))) {
      return;
    }
    updateService(buildCuratorFramework(properties));
    this.oldProperties=properties;
  }
 catch (  RuntimeException rte) {
    deactivateComponent();
    throw rte;
  }
}
