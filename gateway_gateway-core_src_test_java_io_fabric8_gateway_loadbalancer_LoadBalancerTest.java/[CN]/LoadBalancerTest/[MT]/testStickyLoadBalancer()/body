{
  assertLoadBalancerWorksOnEmptyOrSingletonServices(new StickyLoadBalancer<String>());
  LoadBalancer<String> loadBalancer=new StickyLoadBalancer<String>();
  Set<String> allRequests=new HashSet<String>();
  int numberOfClients=10;
  for (int i=0; i < numberOfClients; i++) {
    clientRequestKey="newClient:" + i;
    List<String> results=performRequests(loadBalancer);
    Set<String> set=asSet(results);
    assertTrue("All values should be the same for client: " + clientRequestKey + " but got: "+ set,set.size() == 1);
    allRequests.addAll(set);
  }
  assertTrue("Across " + numberOfClients + " we should have most of the values: "+ allRequests,allRequests.size() > 1);
}
