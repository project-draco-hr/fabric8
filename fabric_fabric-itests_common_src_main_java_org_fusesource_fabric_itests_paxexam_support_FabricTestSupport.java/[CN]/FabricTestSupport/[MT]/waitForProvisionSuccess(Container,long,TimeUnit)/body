{
  System.err.println("Waiting for container: " + container.getId() + " to succesfully provision");
  boolean success=container.isAlive() && container.getProvisionStatus().equals("success") && container.getSshUrl() != null;
  for (long t=0; !success && t < unit.toMillis(timeout); t+=1000) {
    if (container.getProvisionException() != null) {
      throw new Exception(container.getProvisionException());
    }
    Thread.sleep(1000);
    System.err.println("DataStore:" + container.getFabricService().getDataStore());
    success=container.isAlive() && container.getProvisionStatus().equals("success") && container.getSshUrl() != null;
    System.err.println("Alive:" + container.isAlive() + " Status:"+ container.getProvisionStatus());
  }
  System.err.println("Alive:" + container.isAlive() + " Status:"+ container.getProvisionStatus()+ " Ssh URL:"+ container.getSshUrl());
  if (!success) {
    throw new Exception("Could not provision " + container.getId() + " Alive:"+ container.isAlive()+ " Status:"+ container.getProvisionStatus()+ " Ssh URL:"+ container.getSshUrl());
  }
}
