{
  ClassLoaderObjectInputStream ois=new ClassLoaderObjectInputStream(source);
  ois.setClassLoader(loader);
  Throwable error=(Throwable)ois.readObject();
  Object value=ois.readObject();
  if (error != null) {
    result.onFailure(error);
  }
 else {
    result.onSuccess(value);
  }
}
