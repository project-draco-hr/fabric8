{
  assertValid();
  LockHandle writeLock=profileRegistry.get().aquireWriteLock();
  try {
    LOGGER.info("createProfile: {}",profile);
    return createOrUpdateProfileInternal(profile,true,new HashMap<String,Profile>());
  }
  finally {
    writeLock.unlock();
  }
}
