{
  if (isValid()) {
switch (newState) {
case CONNECTED:
case RECONNECTED:
      connected.set(true);
    register(MavenProxy.DOWNLOAD_TYPE);
  register(MavenProxy.UPLOAD_TYPE);
break;
default :
connected.set(false);
}
}
}
