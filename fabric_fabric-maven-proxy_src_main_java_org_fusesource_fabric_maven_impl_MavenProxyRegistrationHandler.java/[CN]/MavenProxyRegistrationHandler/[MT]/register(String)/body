{
  unregister(type);
  try {
    if (connected && httpService != null) {
      String mavenProxyUrl="http://${zk:" + name + "/ip}:"+ getPortSafe()+ "/maven/"+ type+ "/";
      String parentPath=ZkPath.MAVEN_PROXY.getPath(type);
      String path=parentPath + "/p_";
      registeredProxies.get(type).add(create(zookeeper,path,mavenProxyUrl,CreateMode.EPHEMERAL_SEQUENTIAL));
    }
  }
 catch (  Exception e) {
    LOGGER.warn("Failed to register maven proxy.");
  }
}
