{
  if (file != null && file.exists() && file.isFile()) {
    files.add(file);
    try {
      JarFile jarFile=new JarFile(file);
      ContainerManifest manifest=jarFile.getContainerManifest();
      if (manifest != null) {
        Attributes attributes=manifest.getMainAttributes();
        if (attributes != null) {
          String className=attributes.getValue(Attributes.Name.MAIN_CLASS);
          if (className != null && className.length() > 0) {
            getLog().debug("found main class " + className + " in "+ file);
            className=className.trim();
            if (className.length() > 0) {
              classNames.add(className);
            }
          }
        }
      }
    }
 catch (    IOException e) {
      getLog().warn("Failed to parse manifest for " + file + ". "+ e,e);
    }
  }
}
