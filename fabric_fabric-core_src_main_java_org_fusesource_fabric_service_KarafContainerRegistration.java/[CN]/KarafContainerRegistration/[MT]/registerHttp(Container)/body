{
  boolean httpEnabled=isHttpEnabled();
  boolean httpsEnabled=isHttpsEnabled();
  String protocol=httpsEnabled && !httpEnabled ? "https" : "http";
  int httpPort=httpsEnabled && !httpEnabled ? getHttpsPort(container) : getHttpPort(container);
  int httpConnectionPort=httpsEnabled && !httpEnabled ? getHttpsConnectionPort(container) : getHttpConnectionPort(container);
  String httpUrl=getHttpUrl(protocol,container.getId(),httpConnectionPort);
  setData(curator,CONTAINER_HTTP.getPath(container.getId()),httpUrl);
  fabricService.getPortService().registerPort(container,HTTP_PID,HTTP_BINDING_PORT_KEY,httpPort);
  Configuration configuration=configurationAdmin.getConfiguration(HTTP_PID);
  updateIfNeeded(configuration,HTTP_BINDING_PORT_KEY,httpPort);
}
