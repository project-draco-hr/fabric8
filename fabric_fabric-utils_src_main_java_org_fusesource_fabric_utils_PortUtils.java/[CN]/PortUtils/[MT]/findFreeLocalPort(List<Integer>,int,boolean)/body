{
  for (; ; ) {
    if (checkIfAvailable && !isPortFree(port)) {
      usedPorts.add(port);
    }
 else     if (!usedPorts.contains(port)) {
      usedPorts.add(port);
      return port;
    }
    port++;
  }
}
