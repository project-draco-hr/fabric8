{
  RuntimeProperties sysprops=runtimeProperties.get();
  String resolver=sysprops.getProperty(ZkDefs.LOCAL_RESOLVER_PROPERTY,sysprops.getProperty(ZkDefs.GLOBAL_RESOLVER_PROPERTY,ZkDefs.LOCAL_HOSTNAME));
  if (resolver.equals(ZkDefs.LOCAL_HOSTNAME)) {
    return HostUtils.getLocalHostName();
  }
 else   if (resolver.equals(ZkDefs.LOCAL_IP)) {
    return HostUtils.getLocalIp();
  }
 else   if (resolver.equals(ZkDefs.MANUAL_IP) && sysprops.getProperty(ZkDefs.MANUAL_IP,null) != null) {
    return sysprops.getProperty(ZkDefs.MANUAL_IP,null);
  }
 else   return HostUtils.getLocalHostName();
}
