{
  int serverPort=Ports.mapPortToRange(options.getZooKeeperServerPort(),options.getMinimumPort(),options.getMaximumPort());
  String serverHost=options.getBindAddress();
  Dictionary<String,Object> properties=new Hashtable<String,Object>();
  if (options.isAutoImportEnabled()) {
    loadPropertiesFrom(properties,options.getImportPath() + "/fabric/configs/versions/1.0/profiles/default/io.fabric.zookeeper.server.properties");
  }
  properties.put("tickTime",String.valueOf(options.getZooKeeperServerTickTime()));
  properties.put("initLimit",String.valueOf(options.getZooKeeperServerInitLimit()));
  properties.put("syncLimit",String.valueOf(options.getZooKeeperServerSyncLimit()));
  properties.put("dataDir",options.getZooKeeperServerDataDir() + "/" + "0000");
  properties.put("clientPort",Integer.toString(serverPort));
  properties.put("clientPortAddress",serverHost);
  properties.put("fabric.zookeeper.pid","io.fabric.zookeeper.server-0000");
  Configuration config=configAdmin.get().createFactoryConfiguration(Constants.ZOOKEEPER_SERVER_PID,null);
  config.update(properties);
}
