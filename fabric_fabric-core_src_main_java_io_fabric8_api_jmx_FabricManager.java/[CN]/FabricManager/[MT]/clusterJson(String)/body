{
  String prefix="/fabric/registry/clusters";
  String path;
  if (Strings.isEmpty(clusterPathSegment)) {
    path=prefix;
  }
 else {
    if (clusterPathSegment.startsWith("/")) {
      path=clusterPathSegment;
    }
 else {
      path=prefix + "/" + clusterPathSegment;
    }
  }
  Map<String,Object> answer=new HashMap<String,Object>();
  CuratorFramework curator=getFabricService().adapt(CuratorFramework.class);
  ObjectMapper mapper=new ObjectMapper();
  addChildrenToMap(answer,path,curator,mapper);
  return mapper.writeValueAsString(answer);
}
