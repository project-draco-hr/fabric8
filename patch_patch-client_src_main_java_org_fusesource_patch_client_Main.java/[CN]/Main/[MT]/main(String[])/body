{
  System.setProperty(TerminalSupport.JLINE_SHUTDOWNHOOK,"true");
  AnsiConsole.systemInstall();
  for (  String arg : args) {
    int idx=arg.indexOf('=');
    if (idx > 0) {
      System.setProperty(arg.substring(0,idx),arg.substring(idx + 1));
    }
  }
  List<String> repos=new ArrayList<String>();
  String repoStr=System.getProperty(REPOSITORIES,DEFAULT_REPOSITORIES);
  for (  String repo : repoStr.split(",")) {
    repo=repo.trim();
    if (!repo.endsWith("/")) {
      repo+="/";
    }
    repos.add(repo);
  }
  List<String> artifacts=new ArrayList<String>();
  String artifactStr=System.getProperty(ARTIFACTS,DEFAULT_ARTIFACTS);
  for (  String artifact : artifactStr.split(",")) {
    artifact=artifact.trim();
    artifacts.add(artifact);
  }
  File cache=new File(System.getProperty(CACHE,DEFAULT_CACHE));
  Main main=new Main(repos,artifacts,cache);
  try {
    main.run();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
 finally {
    main.destroy();
  }
}
