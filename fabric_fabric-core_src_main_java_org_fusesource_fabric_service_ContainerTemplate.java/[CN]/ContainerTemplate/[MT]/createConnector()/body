{
  String rootUrl=container.getJmxUrl();
  if (rootUrl == null) {
    throw new IllegalStateException("The jmx url for container '" + container.getId() + "' is not specified");
  }
  JMXConnector connector;
  try {
    connector=JMXConnectorFactory.connect(new JMXServiceURL(rootUrl),getEnvironmentCredentials());
  }
 catch (  IOException e) {
    throw FabricException.launderThrowable(e);
  }
catch (  SecurityException ex) {
    throw new FabricAuthenticationException(ex);
  }
  return connector;
}
