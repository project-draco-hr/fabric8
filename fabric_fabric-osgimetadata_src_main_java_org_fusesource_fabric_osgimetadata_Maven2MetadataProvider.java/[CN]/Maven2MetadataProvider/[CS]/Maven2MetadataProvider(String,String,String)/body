{
  metadatas=new ConcurrentHashMap<String,Map<String,String>>();
  root=Paths.get(path);
  watcher=new FileWatcher();
  watcher.setRoot(root);
  if (dirMatcher != null && !dirMatcher.isEmpty()) {
    watcher.setDirMatchPattern(dirMatcher);
  }
  if (fileMatcher != null && !fileMatcher.isEmpty()) {
    watcher.setFileMatchPattern(fileMatcher);
  }
  watcher.setProcessor(new Processor(){
    @Override public void process(    Path path){
      scan(path);
    }
    @Override public void onRemove(    Path path){
      unscan(path);
    }
  }
);
  watcher.init();
}
