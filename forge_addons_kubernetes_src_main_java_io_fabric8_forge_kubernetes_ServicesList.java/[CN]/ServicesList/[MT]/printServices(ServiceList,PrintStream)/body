{
  TablePrinter table=new TablePrinter();
  table.columns("id","labels","selector","port");
  List<Service> items=services.getItems();
  if (items == null) {
    items=Collections.EMPTY_LIST;
  }
  Filter<Service> filter=KubernetesHelper.createServiceFilter(filterText.getValue());
  for (  Service service : items) {
    if (filter.matches(service)) {
      String labels=KubernetesHelper.toLabelsString(service.getLabels());
      String selector=KubernetesHelper.toLabelsString(getSelector(service));
      Set<Integer> ports=getPorts(service);
      List<Integer> portList=new ArrayList<>(ports);
      String portText;
      if (portList.size() == 1) {
        portText=portList.get(0).toString();
      }
 else {
        portText=Strings.join(portList,", ");
      }
      table.row(KubernetesHelper.getName(service),labels,selector,portText);
    }
  }
  table.print();
}
