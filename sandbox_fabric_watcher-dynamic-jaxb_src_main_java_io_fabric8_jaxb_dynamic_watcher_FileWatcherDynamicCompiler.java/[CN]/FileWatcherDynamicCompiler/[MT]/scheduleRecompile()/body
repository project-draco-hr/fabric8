{
  if (compileScheduled.compareAndSet(false,true)) {
    ExecutorService executor=getExecutor();
    Runnable command=new Runnable(){
      public void run(){
        compileScheduled.set(false);
        doCompile();
      }
    }
;
    if (executor instanceof ScheduledExecutorService) {
      ScheduledExecutorService scheduledExecutorService=(ScheduledExecutorService)executor;
      scheduledExecutorService.schedule(command,compileDelayMillis,TimeUnit.MILLISECONDS);
    }
 else {
      executor.execute(command);
    }
  }
}
