{
  if (Strings.isNullOrBlank(username)) {
    username=ShellUtils.retrieveFabricUser(session);
  }
  if (Strings.isNullOrBlank(password)) {
    password=ShellUtils.retrieveFabricUserPassword(session);
  }
  MQBrokerConfigDTO dto=new MQBrokerConfigDTO();
  dto.setConfigUrl(config);
  dto.setData(data);
  dto.setGroup(group);
  dto.setJvmOpts(jvmOpts);
  dto.setBrokerName(name);
  dto.setProfile(profile);
  dto.setNetworks(networks);
  dto.setNetworksPassword(networksPassword);
  dto.setNetworksUserName(networksUserName);
  dto.setParentProfile(parentProfile);
  dto.setPassword(password);
  dto.setProperties(properties);
  dto.setUsername(username);
  dto.setVersion(version);
  dto.setMinimumInstances(minimumInstances);
  dto.setReplicas(replicas);
  if (kind != null) {
    dto.setKind(kind);
  }
  return dto;
}
