{
  System.err.println(executeCommand("fabric:create -n"));
  Thread.sleep(3000);
  System.err.println(executeCommand("fabric:profile-create --parents default child-profile"));
  Set<Container> containers=ContainerBuilder.create(1,1).withName("cnt").withProfiles("child-profile").assertProvisioningResult().build();
  Container child1=containers.iterator().next();
  System.err.println(executeCommand("fabric:profile-edit --import-pid --pid org.apache.karaf.management child-profile"));
  System.err.println(executeCommand("fabric:profile-edit --pid org.apache.karaf.management/rmiServerPort=55555 child-profile"));
  System.err.println(executeCommand("fabric:profile-edit --pid org.apache.karaf.management/rmiRegistryPort=1100 child-profile"));
  System.err.println(executeCommand("fabric:profile-edit --pid org.apache.karaf.management/serviceUrl=service:jmx:rmi://localhost:55555/jndi/rmi://localhost:1099/karaf-" + child1.getId() + " child-profile"));
  System.err.println(executeCommand("fabric:profile-display child-profile"));
  Thread.sleep(DEFAULT_TIMEOUT);
  System.err.println(executeCommand("fabric:container-connect -u admin -p admin " + child1.getId() + " config:proplist --pid org.apache.karaf.management | grep rmiServerPort"));
  String jmxUrl=child1.getJmxUrl();
  System.out.println(jmxUrl);
  Assert.assertTrue(jmxUrl.contains("55555"));
}
