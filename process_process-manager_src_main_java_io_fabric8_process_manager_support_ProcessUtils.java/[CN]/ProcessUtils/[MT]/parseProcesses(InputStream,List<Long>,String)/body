{
  BufferedReader reader=new BufferedReader(new InputStreamReader(inputStream));
  try {
    while (true) {
      String line=reader.readLine();
      if (line == null)       break;
      StringTokenizer tokenizer=new StringTokenizer(line);
      if (tokenizer.hasMoreTokens()) {
        String pidText=tokenizer.nextToken();
        try {
          long pid=Long.parseLong(pidText);
          answer.add(pid);
        }
 catch (        NumberFormatException e) {
          LOGGER.debug("Could not parse pid " + pidText + " from command: "+ message);
        }
      }
    }
  }
 catch (  Exception e) {
    LOGGER.debug("Failed to process stdin for " + message + ": "+ e,e);
    throw e;
  }
 finally {
    Closeables.closeQuitely(reader);
  }
}
