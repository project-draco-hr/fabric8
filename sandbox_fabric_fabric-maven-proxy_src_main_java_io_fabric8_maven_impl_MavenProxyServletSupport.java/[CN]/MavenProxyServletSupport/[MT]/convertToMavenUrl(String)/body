{
  String url=null;
  StringBuilder sb=new StringBuilder();
  if (path == null) {
    throw new InvalidMavenArtifactRequest("Cannot match request path to maven url, request path is empty.");
  }
  Matcher pathMatcher=ARTIFACT_REQUEST_URL_REGEX.matcher(path);
  if (pathMatcher.matches()) {
    String groupId=pathMatcher.group(1).replaceAll("/",".");
    String artifactId=pathMatcher.group(2);
    String version=pathMatcher.group(3);
    String filename=pathMatcher.group(4);
    String extension="jar";
    String classifier="";
    String filePerfix=artifactId + "-" + version;
    String stripedFileName=null;
    if (version.endsWith("SNAPSHOT")) {
      String baseVersion=version.replaceAll("-SNAPSHOT","");
      String timestampedFileName=filename.substring(artifactId.length() + baseVersion.length() + 2);
      Matcher ts=SNAPSHOT_TIMESTAMP_PATTENR.matcher(timestampedFileName);
      if (ts.matches()) {
        version=baseVersion + "-" + ts.group(1);
        filePerfix=artifactId + "-" + version;
      }
      stripedFileName=filename.replaceAll(SNAPSHOT_TIMESTAMP_REGEX,"SNAPSHOT");
      stripedFileName=stripedFileName.substring(filePerfix.length());
    }
 else {
      stripedFileName=filename.substring(filePerfix.length());
    }
    if (stripedFileName != null && stripedFileName.startsWith("-") && stripedFileName.contains(".")) {
      classifier=stripedFileName.substring(1,stripedFileName.indexOf('.'));
    }
    extension=stripedFileName.substring(stripedFileName.indexOf('.') + 1);
    sb.append(groupId).append(":").append(artifactId).append(":").append(extension).append(":");
    if (classifier != null && !classifier.isEmpty()) {
      sb.append(classifier).append(":");
    }
    sb.append(version);
    url=sb.toString();
  }
  return url;
}
