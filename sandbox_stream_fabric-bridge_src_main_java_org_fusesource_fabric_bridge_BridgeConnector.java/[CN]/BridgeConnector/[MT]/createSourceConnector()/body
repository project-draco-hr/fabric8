{
  if (outboundDestinations != null) {
    outboundConnector=new SourceConnector();
    outboundConnector.setAutoStartup(isAutoStartup());
    outboundConnector.setPhase(getPhase());
    outboundConnector.setOutboundDestinations(outboundDestinations);
    outboundConnector.setLocalBrokerConfig(localBrokerConfig);
    if (outboundDestinations.isDefaultStagingLocation()) {
      outboundConnector.setRemoteBrokerConfig(remoteBrokerConfig);
    }
    try {
      outboundConnector.afterPropertiesSet();
    }
 catch (    Exception e) {
      String msg="Error creating outbound connector: " + e.getMessage();
      LOG.error(msg,e);
      throw new IllegalArgumentException(msg,e);
    }
    LOG.info("Outbound connector created");
  }
 else {
    LOG.info("Outbound connector NOT created since outbound destinations are not configured");
  }
}
