{
  if (!visited.add(resource)) {
    return;
  }
  for (  Wire w : wiring.get(resource)) {
    if (w.getCapability().getNamespace().equals(ServiceNamespace.SERVICE_NAMESPACE) || w.getCapability().getNamespace().equals("osgi.extender")) {
      visit(w.getProvider(),visited,sorted,wiring);
    }
  }
  sorted.add(resource);
}
