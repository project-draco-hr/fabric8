{
  ServiceReference configAdminServiceReference=bundleContext.getServiceReference(ConfigurationAdmin.class.getName());
  if (configAdminServiceReference != null) {
    ConfigurationAdmin configAdmin=(ConfigurationAdmin)bundleContext.getService(configAdminServiceReference);
    for (    FeatureResource resource : filterFeatureResources(resources)) {
      Map<String,Map<String,String>> configs=resource.getFeature().getConfigurations();
      for (      Map.Entry<String,Map<String,String>> entry : configs.entrySet()) {
        String pid=entry.getKey();
        if (!isConfigurationManaged(configAdmin,pid)) {
          applyConfiguration(configAdmin,pid,entry.getValue());
        }
      }
    }
  }
}
