{
  try {
    if (isCxfServiceEndpointQuery.apply(oName)) {
      Object state=mBeanServer.getAttribute(oName,"State");
      String address=null;
      try {
        Object addressValue=mBeanServer.getAttribute(oName,"Address");
        if (addressValue instanceof String) {
          address=addressValue.toString();
        }
      }
 catch (      Exception e) {
        LOGGER.warn("Failed to get address for endpoint " + oName + " type "+ type+ " has status "+ state+ ". "+ e,e);
      }
      boolean started=state instanceof String && state.toString().toUpperCase().startsWith("START");
      boolean created=state instanceof String && state.toString().toUpperCase().startsWith("CREATE");
      if (address != null && (started || created)) {
        LOGGER.info("Registering endpoint " + oName + " type "+ type+ " has status "+ state+ "at "+ address);
        registerApiEndpoint(container,oName,address,started);
      }
 else {
        if (address == null) {
          LOGGER.warn("Endpoint " + oName + " type "+ type+ " has status "+ state+ "but no address");
        }
 else {
          LOGGER.info("Unregistering endpoint " + oName + " type "+ type+ " has status "+ state+ "at "+ address);
        }
        unregisterApiEndpoint(container,oName);
      }
    }
  }
 catch (  Exception e) {
    LOGGER.warn("Failed to process " + oName + ". "+ e,e);
  }
}
