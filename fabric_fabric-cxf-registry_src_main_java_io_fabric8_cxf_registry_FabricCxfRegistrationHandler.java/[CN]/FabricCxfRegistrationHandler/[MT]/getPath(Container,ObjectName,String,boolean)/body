{
  String containerId=container.getId();
  String name=oName.getKeyProperty("port");
  if (Strings.isNullOrBlank(name)) {
    name="Unknown";
  }
  if (name.startsWith("\"") && name.endsWith("\"")) {
    name=name.substring(1,name.length() - 1);
  }
  String version=container.getVersion().toString();
  String endpointPath=address;
  if (isFullAddress(address)) {
    int idx=address.indexOf(":");
    if (idx > 0) {
      int length=address.length();
      while (++idx < length && address.charAt(idx) == '/')       ;
      idx=address.indexOf('/',idx);
      if (idx > 0) {
        int nextIdx=address.indexOf('/',idx + 1);
        if (nextIdx > 0) {
          idx=nextIdx;
        }
      }
      endpointPath=address.substring(idx);
    }
  }
  String fullName=name;
  if (Strings.isNotBlank(endpointPath)) {
    String prefix=endpointPath.startsWith("/") ? "" : "/";
    fullName+=prefix + endpointPath;
  }
  fullName=fullName.replaceAll("//","/");
  while (fullName.startsWith("/")) {
    fullName=fullName.substring(1);
  }
  while (fullName.endsWith("/")) {
    fullName=fullName.substring(0,fullName.length() - 1);
  }
  if (restApi) {
    return ZkPath.API_REST_ENDPOINTS.getPath(fullName,version,containerId);
  }
 else {
    return ZkPath.API_WS_ENDPOINTS.getPath(fullName,version,containerId);
  }
}
