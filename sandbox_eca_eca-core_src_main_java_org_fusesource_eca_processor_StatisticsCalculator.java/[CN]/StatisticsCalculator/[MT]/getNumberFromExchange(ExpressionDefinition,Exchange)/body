{
  Number value=null;
  if (expressionDefinition != null) {
    Object object=expressionDefinition.evaluate(exchange);
    if (object instanceof Number) {
      value=(Number)object;
    }
 else {
      value=getNumberFromList(object);
    }
    Object payload=exchange.getIn().getBody();
    if (value == null && payload != null) {
      Map<String,Number> map=PropertyUtil.getValues(Number.class,payload);
      if (map != null && map.isEmpty() == false) {
        value=map.values().iterator().next();
      }
    }
  }
 else {
    Object payload=exchange.getIn().getBody();
    if (payload != null) {
      Map<String,Number> map=PropertyUtil.getValues(Number.class,payload);
      if (map != null && map.isEmpty() == false) {
        value=map.values().iterator().next();
      }
    }
  }
  return value;
}
