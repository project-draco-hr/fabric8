{
  AetherResult result=resolve(model);
  List<String> modules=model.getModules();
  List<AetherJarOrPom> children=new LinkedList<AetherJarOrPom>();
  File rootDir=pomFile.getParentFile();
  Aether childAether=aether(model);
  for (  String moduleName : modules) {
    File childFile=new File(rootDir,moduleName + "/pom.xml");
    Model childModel=childAether.loadPom(childFile);
    if (childModel.getGroupId() == null) {
      childModel.setGroupId(model.getGroupId());
    }
    if (childModel.getVersion() == null) {
      childModel.setVersion(model.getVersion());
    }
    System.out.println("Resolving module: " + childModel.getGroupId() + ":"+ childModel.getArtifactId()+ ":"+ childModel.getVersion());
    if ("pom".equals(childModel.getPackaging())) {
      children.add(childAether.resolveLocalProject(childFile,childModel));
    }
 else {
      children.add(childAether.resolve(childModel));
    }
  }
  return new AetherPomResult(result,children);
}
