{
  connect();
  try {
    FabBundleInfo info=resolver.getInfo();
    HashSet<String> actualImports=new HashSet<String>();
    actualImports.addAll(info.getImports());
    InputStream rc=info.getInputStream();
    installMissingFeatures(info);
    if (configuration.isInstallMissingDependencies()) {
      installMissingDependencies(info,actualImports);
    }
 else {
      LOG.info("Not installing dependencies as not enabled");
    }
    return rc;
  }
 catch (  IOException e) {
    throw e;
  }
catch (  Exception e) {
    throw new IOException(e.getMessage(),e);
  }
}
