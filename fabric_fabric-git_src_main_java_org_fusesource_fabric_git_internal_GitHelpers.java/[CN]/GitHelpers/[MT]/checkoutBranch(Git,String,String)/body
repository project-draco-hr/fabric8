{
  String current=currentBranch(git);
  if (equals(current,branch)) {
    return;
  }
  CheckoutCommand command=git.checkout().setName(branch);
  boolean exists=GitHelpers.localBranchExists(git,branch);
  if (!exists) {
    command=command.setCreateBranch(true).setForce(true);
  }
  Ref ref=command.call();
  if (LOG.isDebugEnabled()) {
    LOG.debug("Checked out branch " + branch + " with results "+ ref.getName());
  }
  configureBranch(git,branch,remote);
}
