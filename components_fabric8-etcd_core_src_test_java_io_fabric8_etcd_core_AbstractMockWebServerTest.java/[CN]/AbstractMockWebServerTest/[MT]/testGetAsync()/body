{
  server.enqueue(new MockResponse().setBody(Resources.toString(getClass().getClassLoader().getResource("get-response-1.json"),Charsets.UTF_8)));
  Future<Response> futureResponse=client.getData().watch().forKey("message");
  Response response=futureResponse.get();
  assertNotNull(response);
  assertEquals("get",response.getAction());
  assertEquals("Hello world",response.getNode().getValue());
  RecordedRequest request=server.takeRequest();
  assertEquals("GET",request.getMethod());
  assertTrue(request.getPath().startsWith(Keys.makeKey("message")));
  assertFalse(request.getPath().contains("recursive=true"));
  server.shutdown();
}
