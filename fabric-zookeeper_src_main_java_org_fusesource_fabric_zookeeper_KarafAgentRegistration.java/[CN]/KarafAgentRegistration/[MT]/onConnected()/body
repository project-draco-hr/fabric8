{
  try {
    Stat stat=zooKeeper.exists(nodeAlive);
    if (stat != null) {
      if (stat.getEphemeralOwner() != zooKeeper.getSessionId()) {
        zooKeeper.delete(nodeAlive);
        zooKeeper.createWithParents(nodeAlive,null,ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL);
      }
    }
 else {
      zooKeeper.createWithParents(nodeAlive,null,ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL);
    }
    zooKeeper.createOrSetWithParents(nodeConfig + "/jmx",getJmxUrl(),ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
    zooKeeper.createOrSetWithParents(nodeConfig + "/ssh",getSshUrl(),ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
    zooKeeper.createOrSetWithParents(nodeConfig + "/ip",getLocalHostAddress(),ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
    zooKeeper.createOrSetWithParents(nodeConfig + "/root",getRootName(),ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
