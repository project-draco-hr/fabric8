{
  if (!Strings.isNullOrEmpty(options.getImageId())) {
    builder.imageId(options.getImageId());
  }
 else   if (!Strings.isNullOrEmpty(options.getOsFamily())) {
    builder.osFamily(OsFamily.fromValue(options.getOsFamily()));
    if (!Strings.isNullOrEmpty(options.getOsVersion())) {
      builder.osVersionMatches(options.getOsVersion());
    }
  }
 else {
    throw new IllegalArgumentException("Required Image id or Operation System and version predicates.");
  }
}
