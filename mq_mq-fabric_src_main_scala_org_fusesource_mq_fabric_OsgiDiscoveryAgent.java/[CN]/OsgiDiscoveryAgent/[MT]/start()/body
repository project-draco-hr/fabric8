{
  if (startCounter.addAndGet(1) == 1) {
    running.set(true);
    thread=new Thread("HTTPDiscovery Agent"){
      @Override public void run(){
        while (running.get()) {
          try {
            update();
            Thread.sleep(updateInterval);
          }
 catch (          InterruptedException e) {
            return;
          }
        }
      }
    }
;
    thread.setDaemon(true);
    thread.start();
  }
}
