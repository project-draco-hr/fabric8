{
  final DownloadManager downloadManager=DownloadManagers.createDownloadManager(fabricService,downloadExecutor);
  return new DownloadStrategy(){
    @Override public File downloadContent(    URL sourceUrl,    File installDir) throws IOException {
      DownloadFuture future=downloadManager.download(sourceUrl.toString());
      File file=future.getFile();
      while (file == null && !future.isDone() && !future.isCanceled()) {
        try {
          future.await();
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
        file=future.getFile();
      }
      if (file != null && file.exists() && file.isFile()) {
        File newFile=new File(installDir,file.getName());
        Files.copy(file,newFile);
        return newFile;
      }
 else {
        throw new IOException("Could not download " + sourceUrl);
      }
    }
  }
;
}
