{
synchronized (_lock) {
    State oldState=_state;
    if (oldState != newState) {
      _stateChangeDispatcher.addEvent(oldState,newState);
      _state=newState;
      _lock.notifyAll();
    }
  }
}
