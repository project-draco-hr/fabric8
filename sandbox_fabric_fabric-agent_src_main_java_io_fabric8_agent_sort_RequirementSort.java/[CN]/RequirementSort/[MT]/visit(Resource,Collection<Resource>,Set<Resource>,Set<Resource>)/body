{
  if (visited.contains(resource)) {
    return;
  }
  visited.add(resource);
  for (  Resource r : collectDependencies(resource,resources)) {
    visit(r,resources,visited,sorted);
  }
  sorted.add(resource);
}
