{
  if (rootPath.toFile().exists()) {
    Files.walkFileTree(rootPath,new SimpleFileVisitor<Path>(){
      public FileVisitResult visitFile(      Path path,      BasicFileAttributes attrs) throws IOException {
        Path pattern=remoteRoot.toPath().relativize(path);
        try {
          git.rm().addFilepattern(pattern.toString()).call();
        }
 catch (        Exception ex) {
          throw new IllegalStateException(ex);
        }
        return FileVisitResult.CONTINUE;
      }
    }
);
  }
}
