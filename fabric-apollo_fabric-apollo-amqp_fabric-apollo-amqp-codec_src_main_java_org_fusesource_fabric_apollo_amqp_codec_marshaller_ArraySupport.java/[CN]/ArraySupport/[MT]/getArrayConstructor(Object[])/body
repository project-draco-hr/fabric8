{
  AmqpType[] arr=(AmqpType[])value;
  Object constructor;
  try {
    constructor=((AmqpType)arr.getClass().getComponentType().newInstance()).getArrayConstructor();
  }
 catch (  Exception e) {
    throw new RuntimeException("Error determining array size : " + e.getMessage());
  }
  return constructor;
}
