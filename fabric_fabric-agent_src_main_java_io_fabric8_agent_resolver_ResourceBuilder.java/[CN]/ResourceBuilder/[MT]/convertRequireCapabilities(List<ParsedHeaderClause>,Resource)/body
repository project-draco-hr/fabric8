{
  List<Requirement> reqList=new ArrayList<Requirement>();
  for (  ParsedHeaderClause clause : clauses) {
    try {
      String filterStr=clause.dirs.get(Constants.FILTER_DIRECTIVE);
      SimpleFilter sf=(filterStr != null) ? SimpleFilter.parse(filterStr) : new SimpleFilter(null,null,SimpleFilter.MATCH_ALL);
      for (      String path : clause.paths) {
        reqList.add(new RequirementImpl(resource,path,clause.dirs,clause.attrs,sf));
      }
    }
 catch (    Exception ex) {
      throw new BundleException("Error creating requirement: " + ex,ex);
    }
  }
  return reqList;
}
