{
  waitUntilWeCanDestroyNamespace(session);
  List<Throwable> errors=new ArrayList<>();
  cleanupAllMatching(client,session,errors);
  try {
    client.deleteNamespace(session.getNamespace());
  }
 catch (  Exception e) {
    errors.add(e);
  }
  if (!errors.isEmpty()) {
    throw new MultiException("Error while cleaning up session.",errors);
  }
}
