{
  try {
    Configuration[] configs=configurationAdmin.listConfigurations("(|(service.factoryPid=org.fusesource.fabric.zookeeper.server)(service.pid=org.fusesource.fabric.zookeeper))");
    if (configs != null) {
      for (      Configuration config : configs) {
        config.delete();
      }
    }
    File zkDir=new File("data/zookeeper");
    if (zkDir.isDirectory()) {
      File newZkDir=new File("data/zookeeper." + System.currentTimeMillis());
      if (!zkDir.renameTo(newZkDir)) {
        newZkDir=zkDir;
      }
      delete(newZkDir);
    }
  }
 catch (  Exception e) {
    throw new FabricException("Unable to delete zookeeper configuration",e);
  }
}
