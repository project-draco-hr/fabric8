{
  int idx=remaining.indexOf(':');
  if (idx > 0) {
    String name=remaining.substring(0,idx);
    String childUri=replaceAnyIpAddress(remaining.substring(idx + 1));
    if (params != null && params.size() > 0) {
      childUri=childUri + "?" + URISupport.createQueryString(params);
    }
    return new FabricPublisherEndpoint(uri,this,name,childUri);
  }
 else {
    return new FabricLocatorEndpoint(uri,this,remaining);
  }
}
