{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  byte[] buf=new byte[4096];
  int l;
  try {
    while ((l=is.read(buf)) >= 0) {
      baos.write(buf,0,l);
    }
  }
  finally {
    is.close();
  }
  return encoding != null ? baos.toString(encoding) : baos.toString();
}
