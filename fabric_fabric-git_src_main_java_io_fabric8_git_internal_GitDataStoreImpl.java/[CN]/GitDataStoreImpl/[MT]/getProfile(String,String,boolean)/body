{
  assertValid();
  GitOperation<String> gitop=new GitOperation<String>(){
    public String call(    Git git,    GitContext context) throws Exception {
      checkoutVersion(git,GitProfiles.getBranch(versionId,profileId));
      File profileDirectory=getProfileDirectory(git,profileId);
      if (!profileDirectory.exists()) {
        if (create) {
          return doCreateProfile(git,context,profileId,versionId);
        }
        return null;
      }
      return profileId;
    }
  }
;
  return executeRead(gitop,false);
}
