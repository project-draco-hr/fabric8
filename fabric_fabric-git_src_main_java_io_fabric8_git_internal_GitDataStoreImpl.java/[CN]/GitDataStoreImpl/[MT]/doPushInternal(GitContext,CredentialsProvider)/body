{
  PushPolicyResult pushResult=pullPushPolicy.doPush(context,credentialsProvider);
  if (pushResult.getLastException() != null) {
    throw pushResult.getLastException();
  }
  if (!pushResult.getRejectedUpdates().isEmpty()) {
    throw new IllegalStateException("Push rejected: " + pushResult.getRejectedUpdates());
  }
  return pushResult;
}
