{
  IllegalStateAssertion.assertNotNull(versionId,"versionId");
  LockHandle writeLock=aquireWriteLock();
  try {
    assertValid();
    LOGGER.info("Delete version: " + versionId);
    GitOperation<Void> gitop=new GitOperation<Void>(){
      public Void call(      Git git,      GitContext context) throws Exception {
        removeVersionFromCaches(versionId);
        GitHelpers.removeBranch(git,versionId);
        return null;
      }
    }
;
    GitContext context=new GitContext();
    executeInternal(context,null,gitop);
  }
  finally {
    writeLock.unlock();
  }
}
