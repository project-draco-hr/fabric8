{
  final ReadLock readLock=readWriteLock.readLock();
  boolean success;
  try {
    success=readLock.tryLock() || readLock.tryLock(AQUIRE_LOCK_TIMEOUT,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException ex) {
    success=false;
  }
  IllegalStateAssertion.assertTrue(success,"Cannot obtain profile read lock in time");
  return new LockHandle(){
    @Override public void unlock(){
      readLock.unlock();
    }
  }
;
}
