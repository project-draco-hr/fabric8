{
  boolean valid=value instanceof Boolean || value instanceof Byte || value instanceof Short|| value instanceof Integer|| value instanceof Long;
  valid=valid || value instanceof Float || value instanceof Double|| value instanceof Character|| value instanceof String|| value == null;
  if (!valid) {
    if (Settings.enable_nested_map_and_list()) {
      if (!(value instanceof Map || value instanceof List)) {
        throw new OpenwireException("Only objectified primitive objects, String, Map and List types are allowed but was: " + value + " type: "+ value.getClass());
      }
    }
 else {
      throw new OpenwireException("Only objectified primitive objects and String types are allowed but was: " + value + " type: "+ value.getClass());
    }
  }
}
