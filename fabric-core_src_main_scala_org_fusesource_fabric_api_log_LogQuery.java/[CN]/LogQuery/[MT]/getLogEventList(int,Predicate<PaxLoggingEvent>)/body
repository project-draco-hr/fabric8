{
  LogResults answer=new LogResults();
  VmLogAppender a=getAppender();
  if (a != null) {
    LruList events=a.getEvents();
    Iterable<PaxLoggingEvent> iterable=events.getElements();
    int matched=0;
    long from=Long.MAX_VALUE;
    long to=Long.MIN_VALUE;
    for (    PaxLoggingEvent event : iterable) {
      long timestamp=event.getTimeStamp();
      if (timestamp > to) {
        to=timestamp;
      }
      if (timestamp < from) {
        from=timestamp;
      }
      if (predicate == null || predicate.matches(event)) {
        answer.addEvent(Logs.newInstance(event));
        matched+=1;
        if (count > 0 && matched >= count) {
          break;
        }
      }
    }
    answer.setFromTimestamp(from);
    answer.setToTimestamp(to);
  }
 else {
    logger.warn("No VmLogAppender available!");
  }
  return answer;
}
