{
  List<Object> providers=createProviders();
  WebClient webClient=WebClient.create(serviceAddress,providers);
  configureAuthDetails(webClient);
  if (trustAllCerts) {
    disableSslChecks(webClient);
  }
 else   if (caCertFile != null || caCertData != null) {
    configureCaCert(webClient);
  }
  if ((clientCertFile != null || clientCertData != null) && (clientKeyFile != null || clientKeyData != null)) {
    configureClientCert(webClient);
  }
  return webClient;
}
