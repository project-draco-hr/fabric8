{
  List<Object> providers=createProviders();
  WebClient webClient=WebClient.create(serviceAddress,providers);
  WebClients.configureUserAndPassword(webClient,this.username,this.password);
  if (trustAllCerts) {
    WebClients.disableSslChecks(webClient);
  }
 else   if (caCertFile != null || caCertData != null) {
    WebClients.configureCaCert(webClient,this.caCertData,this.caCertFile);
  }
  if ((clientCertFile != null || clientCertData != null) && (clientKeyFile != null || clientKeyData != null)) {
    WebClients.configureClientCert(webClient,this.clientCertData,this.clientCertFile,this.clientKeyData,this.clientKeyFile,this.clientKeyAlgo,this.clientKeyPassword);
  }
  return webClient;
}
