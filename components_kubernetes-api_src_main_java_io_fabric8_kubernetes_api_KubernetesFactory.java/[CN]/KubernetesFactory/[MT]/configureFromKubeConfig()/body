{
  Config kubeConfig=Configs.parseConfigs();
  if (kubeConfig != null) {
    Context currentContext=Configs.getCurrentContext(kubeConfig);
    if (currentContext != null) {
      Cluster currentCluster=Configs.getCluster(kubeConfig,currentContext);
      if (currentCluster.getServer() != null) {
        setAddress(currentCluster.getServer());
        if (currentCluster.getInsecureSkipTlsVerify() != null) {
          this.trustAllCerts=currentCluster.getInsecureSkipTlsVerify();
        }
        if (currentCluster.getCertificateAuthority() != null) {
          File candidateCaCertFile=new File(currentCluster.getCertificateAuthority());
          if (candidateCaCertFile.exists() && candidateCaCertFile.canRead()) {
            this.caCertFile=candidateCaCertFile;
          }
 else {
            log.error("Specified CA certificate file {} does not exist or is not readable",candidateCaCertFile);
          }
        }
        if (currentCluster.getCertificateAuthorityData() != null) {
          this.caCertData=currentCluster.getCertificateAuthorityData();
        }
      }
      AuthInfo authInfo=Configs.getUserAuthInfo(kubeConfig,currentContext);
      if (authInfo != null) {
        if (authInfo.getClientCertificate() != null) {
          File candidateClientCertFile=new File(authInfo.getClientCertificate());
          if (candidateClientCertFile.exists() && candidateClientCertFile.canRead()) {
            this.clientCertFile=candidateClientCertFile;
          }
 else {
            log.error("Specified client certificate file {} does not exist or is not readable",candidateClientCertFile);
          }
        }
        if (authInfo.getClientCertificateData() != null) {
          this.clientCertData=authInfo.getClientCertificateData();
        }
        if (authInfo.getClientKey() != null) {
          File candidateClientKeyFile=new File(authInfo.getClientKey());
          if (candidateClientKeyFile.exists() && candidateClientKeyFile.canRead()) {
            this.clientKeyFile=candidateClientKeyFile;
          }
 else {
            log.error("Specified client key file {} does not exist or is not readable",candidateClientKeyFile);
          }
        }
        if (authInfo.getClientKeyData() != null) {
          this.clientKeyData=authInfo.getClientKeyData();
        }
        if (authInfo.getUsername() != null) {
          this.username=authInfo.getUsername();
        }
        if (authInfo.getPassword() != null) {
          this.password=authInfo.getPassword();
        }
      }
    }
  }
}
