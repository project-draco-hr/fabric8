{
  super.preCreateContainer(name);
  if (number < 1 || number > 999) {
    throw new IllegalArgumentException("The number of containers must be between 1 and 999.");
  }
  if (osFamily == null && imageId == null) {
    System.out.println("Using Ubuntu 11.04");
    osFamily="ubuntu";
    osVersion="11.04";
  }
  if (isEnsembleServer && number > 1) {
    throw new IllegalArgumentException("Can not create a new ZooKeeper ensemble on multiple containers.  Create the containers and then use the fabric:create command instead.");
  }
}
