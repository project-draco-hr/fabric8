{
  try {
    org.apache.felix.utils.properties.Properties p=new org.apache.felix.utils.properties.Properties();
    if (curator.checkExists().forPath(path) == null) {
      create(curator,path);
    }
    String org=getStringData(curator,path);
    if (org != null) {
      p.load(new StringReader(org));
    }
    List<String> keys=new ArrayList<String>();
    for (    String key : properties.stringPropertyNames()) {
      p.put(key,properties.getProperty(key));
      keys.add(key);
    }
    List<String> deleted=new ArrayList<String>(p.keySet());
    deleted.removeAll(keys);
    for (    String key : deleted) {
      p.remove(key);
    }
    StringWriter writer=new StringWriter();
    p.save(writer);
    setData(curator,path,writer.toString());
  }
 catch (  IOException e) {
  }
}
