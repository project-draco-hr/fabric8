{
  String basedir=System.getProperty("basedir",".");
  File file=File.createTempFile("testGetAttributes","",new File(basedir + File.separator + "target"));
  FileOutputStream fos=new FileOutputStream(file);
  fos.write(new byte[]{0x00,0x42});
  fos.close();
  try {
    Attributes attributes=this.builder.getAttributes("http://x",file);
    fail("Should throw IOException");
  }
 catch (  IOException e) {
    assertThat(e.getMessage(),containsString("Source: \"http://x"));
    assertThat(e.getMessage(),containsString(file.getCanonicalPath()));
  }
 finally {
    file.delete();
  }
}
