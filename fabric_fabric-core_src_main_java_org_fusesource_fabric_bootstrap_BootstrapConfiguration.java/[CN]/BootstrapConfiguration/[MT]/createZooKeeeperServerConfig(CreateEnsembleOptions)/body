{
  int serverPort=Ports.mapPortToRange(options.getZooKeeperServerPort(),options.getMinimumPort(),options.getMaximumPort());
  String serverHost=options.getBindAddress();
  Dictionary<String,Object> properties=new Hashtable<String,Object>();
  if (options.isAutoImportEnabled()) {
    loadPropertiesFrom(properties,options.getImportPath() + "/fabric/configs/versions/1.0/profiles/default/org.fusesource.fabric.zookeeper.server.properties");
  }
  properties.put("tickTime","2000");
  properties.put("initLimit","10");
  properties.put("syncLimit","5");
  properties.put("dataDir","data/zookeeper/0000");
  properties.put("clientPort",Integer.toString(serverPort));
  properties.put("clientPortAddress",serverHost);
  properties.put("fabric.zookeeper.pid","org.fusesource.fabric.zookeeper.server-0000");
  Configuration config=configAdmin.get().createFactoryConfiguration("org.fusesource.fabric.zookeeper.server",null);
  config.update(properties);
}
