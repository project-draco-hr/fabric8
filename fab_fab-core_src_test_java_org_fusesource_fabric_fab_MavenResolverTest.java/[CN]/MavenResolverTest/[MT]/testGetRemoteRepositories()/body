{
  MavenResolverImpl resolver=new MavenResolverImpl();
  resolver.setRepositories(new String[]{"http://user:password@host1/path/to/repo","http://host2/path/to/repo@snapshots"});
  List<RemoteRepository> repositories=resolver.getRemoteRepositories();
  assertEquals(2,repositories.size());
  RemoteRepository repo=repositories.get(0);
  assertEquals("host1",repo.getHost());
  assertEquals("user",repo.getAuthentication().getUsername());
  assertEquals("password",repo.getAuthentication().getPassword());
  repo=repositories.get(1);
  assertEquals("host2",repo.getHost());
  assertNull(repo.getAuthentication());
  assertTrue("@snapshots enables snapshots",repo.getPolicy(true).isEnabled());
}
