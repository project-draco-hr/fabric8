{
  assertValid();
  final RuntimeProperties properties=runtimeProperties.get();
  Map<String,Object> result=new HashMap<String,Object>();
  for (  Map.Entry<String,?> entry : configuration.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (value.getClass().isArray()) {
    }
 else     if (value instanceof String) {
      String substitutedValue=substitute((String)value,properties);
      if (Strings.isNotBlank(substitutedValue)) {
        result.put(key,substitutedValue);
      }
    }
  }
  ConfigInjection.applyConfiguration(result,target);
}
