{
  EventCache<String> eventCache=new DefaultEventCache<String>();
  int LIMIT=10;
  int COUNT=LIMIT * 2;
  List<String> list=new ArrayList<String>();
  for (int i=0; i < COUNT; i++) {
    list.add("test " + i);
  }
  eventCache.setWindow("" + LIMIT);
  assertEquals(LIMIT,eventCache.getWindowCount());
  for (  String s : list) {
    eventCache.add(s);
  }
  assertEquals(LIMIT,eventCache.size());
  List<String> eventCacheList=eventCache.getWindow();
  for (int i=0; i < LIMIT; i++) {
    list.remove(0);
  }
  assertEquals(list.size(),eventCacheList.size());
  for (int i=0; i < list.size(); i++) {
    assertEquals(list.get(i),eventCacheList.get(i));
  }
}
