{
  Ref ref=null;
  String current=currentBranch(git);
  if (!equals(current,branch) && !localBranchExists(git,branch)) {
    ref=git.checkout().setName(branch).setForce(true).setCreateBranch(true).call();
    if (remote != null) {
      configureBranch(git,branch,remote);
    }
  }
 else {
    ref=git.checkout().setName(branch).setForce(true).call();
  }
  if (LOGGER.isDebugEnabled()) {
    LOGGER.debug("Checked out branch " + branch + " with results "+ ref.getName());
  }
}
