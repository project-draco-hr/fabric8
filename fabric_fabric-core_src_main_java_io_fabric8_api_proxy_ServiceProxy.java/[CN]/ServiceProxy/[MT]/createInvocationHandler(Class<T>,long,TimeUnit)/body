{
  if (invocationHandler != null)   throw new IllegalStateException("InvocationHandler already constructed");
  DelegatingInvocationHandler<T> result;
  if (timeout != 0 && timeUnit != null) {
    result=new DelegatingInvocationHandler<T>(bundleContext,serviceClazz,timeout,timeUnit);
  }
 else {
    result=new DelegatingInvocationHandler<T>(bundleContext,serviceClazz);
  }
  invocationHandler=result;
  return result;
}
