{
  long start=System.currentTimeMillis();
  long now=System.currentTimeMillis();
  boolean keepRunning=true;
  while (!Thread.currentThread().isInterrupted() && keepRunning && now - start <= 30000L) {
    try {
      System.err.println(CommandSupport.executeCommand(command));
      keepRunning=false;
    }
 catch (    Exception ex) {
      if (isRetriable(ex)) {
        System.err.println("Not ready for ensemble modification! Retrying...");
        Provision.provisioningSuccess(Arrays.asList(fabricService.getContainers()),FabricTestSupport.PROVISION_TIMEOUT);
        now=System.currentTimeMillis();
      }
 else {
        throw ex;
      }
    }
  }
}
