{
  Kubernetes kubernetes=getKubernetes();
  Objects.notNull(kubernetes,"kubernetes");
  Map<String,Pod> podMap=null;
  Map<String,ReplicationController> replicationControllerMap=null;
  Map<String,Service> serviceMap=null;
  Map<String,Object> kubelets=loadKubelets(service,options,kubeletFileNames,metadata);
  Set<Map.Entry<String,Object>> entries=kubelets.entrySet();
  for (  Map.Entry<String,Object> entry : entries) {
    String definition=entry.getKey();
    Object kubelet=entry.getValue();
    if (kubelet instanceof Pod) {
      Pod podSchema=(Pod)kubelet;
      if (podMap == null) {
        podMap=getPodMap(kubernetes);
      }
      String id=podSchema.getId();
      Pod old=podMap.get(id);
      if (isRunning(old)) {
        try {
          deletePod(id);
        }
 catch (        Exception e) {
          LOG.error("Failed to delete pod " + id + " from "+ definition+ ": "+ e+ ". ",e);
        }
      }
    }
 else     if (kubelet instanceof ReplicationController) {
      ReplicationController replicationControllerSchema=(ReplicationController)kubelet;
      if (replicationControllerMap == null) {
        replicationControllerMap=getReplicationControllerMap(kubernetes);
      }
      String id=replicationControllerSchema.getId();
      ReplicationController old=replicationControllerMap.get(id);
      if (isRunning(old)) {
        try {
          deleteReplicationController(id);
        }
 catch (        Exception e) {
          LOG.error("Failed to delete replicationController " + id + " from "+ definition+ ": "+ e+ ". ",e);
        }
      }
    }
 else     if (kubelet instanceof Service) {
      Service serviceSchema=(Service)kubelet;
      if (serviceMap == null) {
        serviceMap=getServiceMap(kubernetes);
      }
      String id=serviceSchema.getId();
      Service old=serviceMap.get(id);
      if (isRunning(old)) {
        try {
          deleteService(id);
        }
 catch (        Exception e) {
          LOG.error("Failed to delete service " + id + " from "+ definition+ ": "+ e+ ". ",e);
        }
      }
    }
 else {
      LOG.warn("Unknown Kublelet from " + definition + ". Object: "+ kubelet);
    }
  }
}
