{
  Map<String,String> labels=new HashMap<>();
  if (initialLabels != null) {
    labels.putAll(initialLabels);
  }
  if (!labels.containsKey(LABELS.FABRIC8)) {
    labels.put(LABELS.FABRIC8,"true");
  }
  if (!labels.containsKey(LABELS.NAME)) {
    labels.put(LABELS.NAME,containerName);
  }
  if (!labels.containsKey(LABELS.PROFILE)) {
    String profileString=Strings.join(profileIds,",");
    labels.put(LABELS.PROFILE,profileString);
  }
  if (!labels.containsKey(LABELS.VERSION)) {
    labels.put(LABELS.VERSION,versionId);
  }
  Map<String,String> labelConfiguration=Profiles.getOverlayConfiguration(service,profileIds,versionId,KubernetesConstants.LABELS_PID,"kubernetes");
  if (labelConfiguration != null) {
    labels.putAll(labelConfiguration);
  }
  return labels;
}
