{
  System.err.println("Waiting for container: " + container.getId() + " to succesfully provision");
  for (long t=0; (!(container.isAlive() && container.getProvisionStatus().equals("success") && container.getSshUrl() != null) && t < timeout); t+=2000L) {
    if (container.getProvisionException() != null) {
      throw new Exception(container.getProvisionException());
    }
    Thread.sleep(2000L);
    System.err.println("Alive:" + container.isAlive() + " Status:"+ container.getProvisionStatus()+ " SSH URL:"+ container.getSshUrl());
  }
  if (!container.isAlive() || !container.getProvisionStatus().equals("success") || container.getSshUrl() == null) {
    throw new Exception("Could not provision " + container.getId() + " after "+ timeout+ " seconds. Alive:"+ container.isAlive()+ " Status:"+ container.getProvisionStatus()+ " Ssh URL:"+ container.getSshUrl());
  }
}
