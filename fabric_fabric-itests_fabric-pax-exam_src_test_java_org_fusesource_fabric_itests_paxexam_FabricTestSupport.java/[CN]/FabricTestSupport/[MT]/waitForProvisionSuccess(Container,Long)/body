{
  for (long t=0; (!(container.isAlive() && container.isProvisioningComplete() && container.getProvisionStatus().equals("success")) && t < timeout); t+=2000L) {
    if (container.getProvisionException() != null) {
      throw new Exception(container.getProvisionException());
    }
    Thread.sleep(2000L);
  }
  if (!container.isAlive() || !container.isProvisioningComplete()) {
    throw new Exception("Could not provision " + container.getId() + " after "+ timeout+ " seconds.");
  }
}
