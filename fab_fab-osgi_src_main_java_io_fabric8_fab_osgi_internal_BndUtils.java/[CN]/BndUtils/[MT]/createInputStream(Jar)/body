{
  final PipedInputStream pin=new PipedInputStream();
  final PipedOutputStream pout=new PipedOutputStream(pin);
  new Thread(){
    public void run(){
      try {
        jar.write(pout);
      }
 catch (      Exception e) {
        LOG.warn("Bundle cannot be generated");
      }
 finally {
        try {
          jar.close();
          pout.close();
        }
 catch (        IOException ignore) {
          LOG.error("Bundle cannot be generated",ignore);
        }
      }
    }
  }
.start();
  return pin;
}
