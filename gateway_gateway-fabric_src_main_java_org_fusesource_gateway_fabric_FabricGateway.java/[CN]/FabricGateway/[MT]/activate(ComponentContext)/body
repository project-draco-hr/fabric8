{
  LOG.info("Activating the gateway " + this);
  Bundle bundle=context.getBundleContext().getBundle();
  final ClassLoader classLoader=AriesFrameworkUtil.getClassLoader(bundle);
  ClassLoaders.withContextClassLoader(classLoader,new Callable<Object>(){
    @Override public Object call() throws Exception {
      if (vertx == null) {
        vertx=VertxFactory.newVertx();
      }
      GatewaysConfig config=loadConfig();
      if (config != null) {
        createListeners(config);
      }
      return null;
    }
  }
);
}
