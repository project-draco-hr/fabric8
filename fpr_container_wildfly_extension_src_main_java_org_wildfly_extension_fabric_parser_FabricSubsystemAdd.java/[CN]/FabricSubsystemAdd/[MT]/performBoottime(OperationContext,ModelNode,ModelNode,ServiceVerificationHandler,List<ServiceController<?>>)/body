{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      newControllers.add(new EnvironmentService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new ModuleContextService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new ResolverService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new RepositoryService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new ProvisionerService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new FabricBootstrapService().install(context.getServiceTarget(),verificationHandler));
      newControllers.add(new FabricRuntimeService().install(context.getServiceTarget(),verificationHandler));
      context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
    }
  }
,OperationContext.Stage.RUNTIME);
  context.addStep(new AbstractDeploymentChainStep(){
    @Override public void execute(    DeploymentProcessorTarget processorTarget){
      processorTarget.addDeploymentProcessor(GraviaExtension.SUBSYSTEM_NAME,Phase.PARSE,PARSE_GRAVIA_SERVICES_PROVIDER,new GraviaServicesProcessor());
      processorTarget.addDeploymentProcessor(GraviaExtension.SUBSYSTEM_NAME,Phase.PARSE,PARSE_GRAVIA_RESOURCE,new ManifestResourceProcessor());
      processorTarget.addDeploymentProcessor(GraviaExtension.SUBSYSTEM_NAME,Phase.POST_MODULE,POST_MODULE_GRAVIA_MODULE_INSTALL,new ModuleInstallProcessor());
      processorTarget.addDeploymentProcessor(GraviaExtension.SUBSYSTEM_NAME,Phase.INSTALL,INSTALL_GRAVIA_MODULE_START,new ModuleStartProcessor());
    }
  }
,OperationContext.Stage.RUNTIME);
}
