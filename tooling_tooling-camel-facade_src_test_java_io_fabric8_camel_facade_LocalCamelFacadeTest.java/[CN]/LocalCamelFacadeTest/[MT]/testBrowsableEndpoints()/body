{
  template.sendBody("seda:out","Hello World");
  List<CamelEndpointMBean> endpoints=local.getEndpoints(context.getManagementName());
  CamelBrowsableEndpointMBean browsable=null;
  for (  CamelEndpointMBean endpoint : endpoints) {
    if (endpoint.getEndpointUri().endsWith("seda://out")) {
      browsable=(CamelBrowsableEndpointMBean)endpoint;
      break;
    }
  }
  assertNotNull("Should find browsable",browsable);
  Exchange exchange=context.getEndpoint("seda:out",BrowsableEndpoint.class).getExchanges().get(0);
  assertEquals(1,browsable.queueSize());
  assertEquals("Hello World",browsable.browseMessageBody(0));
  assertEquals("<message exchangeId=\"" + exchange.getExchangeId() + "\">\n"+ "  <headers>\n"+ "    <header key=\"breadcrumbId\" type=\"java.lang.String\">"+ exchange.getIn().getHeader(Exchange.BREADCRUMB_ID)+ "</header>\n"+ "  </headers>\n"+ "  <body type=\"java.lang.String\">Hello World</body>\n"+ "</message>",browsable.browseMessageAsXml(0,true));
}
