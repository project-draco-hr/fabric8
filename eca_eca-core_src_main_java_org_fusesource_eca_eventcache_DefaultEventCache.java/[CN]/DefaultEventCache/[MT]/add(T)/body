{
  if (set.add(item)) {
    CacheItemImpl node=new CacheItemImpl();
    node.item=item;
    long timestamp=NOT_SET;
    if (windowTime > 0) {
      timestamp=getEventClock().currentTimeMillis();
      node.timeStamp=timestamp;
    }
    try {
      lock.writeLock().lock();
      if (root == null) {
        root=node;
      }
 else {
        tail.linkAfter(node);
      }
      tail=node;
      size++;
    }
  finally {
      lock.writeLock().unlock();
    }
    pruneCache(timestamp);
    return true;
  }
  return false;
}
