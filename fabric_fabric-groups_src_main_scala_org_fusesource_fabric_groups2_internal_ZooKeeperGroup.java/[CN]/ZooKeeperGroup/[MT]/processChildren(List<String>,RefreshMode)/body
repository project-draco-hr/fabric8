{
  List<String> fullPaths=Lists.newArrayList(Lists.transform(children,new Function<String,String>(){
    @Override public String apply(    String child){
      return ZKPaths.makePath(path,child);
    }
  }
));
  Set<String> removedNodes=Sets.newHashSet(currentData.keySet());
  removedNodes.removeAll(fullPaths);
  for (  String fullPath : removedNodes) {
    remove(fullPath);
  }
  for (  String name : children) {
    String fullPath=ZKPaths.makePath(path,name);
    if ((mode == RefreshMode.FORCE_GET_DATA_AND_STAT) || !currentData.containsKey(fullPath)) {
      getDataAndStat(fullPath);
    }
  }
}
