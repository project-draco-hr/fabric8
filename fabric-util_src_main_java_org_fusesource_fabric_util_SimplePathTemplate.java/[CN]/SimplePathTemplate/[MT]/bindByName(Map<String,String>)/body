{
  String localPath=path;
  for (  String key : params.keySet()) {
    if (!parameters.contains(key)) {
      throw new IllegalArgumentException("Unknown parameter " + key);
    }
    replace(localPath,key,params.get(key));
  }
  return localPath;
}
