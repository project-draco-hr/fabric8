{
  File parentFile=file.getParentFile();
  String relativePath=null;
  try {
    relativePath=Files.getRelativePath(basedir,parentFile);
    if (relativePath != null && relativePath.startsWith("/")) {
      relativePath=relativePath.substring(1);
    }
  }
 catch (  IOException e) {
    LOG.warn("Failed to find relative path of " + parentFile.getPath() + ". "+ e,e);
  }
  FileDTO answer=FileDTO.createFileDTO(file,relativePath,includeContent);
  String path=answer.getPath();
  if (path.equals(".git")) {
    return null;
  }
  return answer;
}
