{
  if (pid != null) {
    return pid;
  }
 else   if (repositories || features || bundles) {
    return AGENT_PID;
  }
 else {
    throw new IllegalArgumentException("Either --pid, --repository, --feature or --bundle must be specified");
  }
}
