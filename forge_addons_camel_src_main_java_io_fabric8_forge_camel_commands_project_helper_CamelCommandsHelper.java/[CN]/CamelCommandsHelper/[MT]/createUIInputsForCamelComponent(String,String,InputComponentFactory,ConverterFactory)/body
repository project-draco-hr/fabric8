{
  List<InputComponent> inputs=new ArrayList<>();
  if (camelComponentName == null && uri != null) {
    camelComponentName=endpointComponentName(uri);
  }
  CamelCatalog catalog=new DefaultCamelCatalog();
  String json=catalog.componentJSonSchema(camelComponentName);
  if (json == null) {
    throw new IllegalArgumentException("Could not find catalog entry for component name: " + camelComponentName);
  }
  List<Map<String,String>> data=JSonSchemaHelper.parseJsonSchema("properties",json,true);
  if (uri != null) {
    uri=UnsafeUriCharactersEncoder.encode(uri,true);
  }
  Map<String,String> currentValues=uri != null ? catalog.endpointProperties(uri) : Collections.EMPTY_MAP;
  if (data != null) {
    Set<String> namesAdded=new HashSet<>();
    for (    Map<String,String> propertyMap : data) {
      String name=propertyMap.get("name");
      String kind=propertyMap.get("kind");
      String type=propertyMap.get("type");
      String javaType=propertyMap.get("javaType");
      String deprecated=propertyMap.get("deprecated");
      String required=propertyMap.get("required");
      String currentValue=currentValues.get(name);
      String defaultValue=propertyMap.get("defaultValue");
      String description=propertyMap.get("description");
      String enums=propertyMap.get("enum");
      if (!Strings.isNullOrEmpty(name)) {
        Class<Object> inputClazz=CamelCommandsHelper.loadValidInputTypes(javaType,type);
        if (inputClazz != null) {
          if (namesAdded.add(name)) {
            InputComponent input=createUIInput(componentFactory,converterFactory,name,inputClazz,required,currentValue,defaultValue,enums,description);
            if (input != null) {
              inputs.add(input);
            }
          }
        }
      }
    }
  }
  return inputs;
}
