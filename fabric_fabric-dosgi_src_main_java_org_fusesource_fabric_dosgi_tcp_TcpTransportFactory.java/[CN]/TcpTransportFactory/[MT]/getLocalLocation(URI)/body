{
  URI localLocation=null;
  String path=location.getPath();
  if (path != null && path.length() > 0) {
    int localPortIndex=path.indexOf(':');
    try {
      Integer.parseInt(path.substring(localPortIndex + 1,path.length()));
      String localString=location.getScheme() + ":/" + path;
      localLocation=new URI(localString);
    }
 catch (    Exception e) {
      LOG.warn("path isn't a valid local location for TcpTransport to use",e);
    }
  }
  return localLocation;
}
