{
  this.executor=new ScheduledThreadPoolExecutor(threadPoolSize);
  this.executor.setExecuteExistingDelayedTasksAfterShutdownPolicy(false);
  this.executor.setContinueExistingPeriodicTasksAfterShutdownPolicy(false);
  this.mbeanServer=new ServiceTracker<MBeanServer,MBeanServer>(bundleContext,MBeanServer.class,null);
  this.sender=new ServiceTracker<ElasticSender,ElasticSender>(bundleContext,ElasticSender.class,null);
  this.mbeanServer.open();
  this.sender.open();
  this.executor.scheduleWithFixedDelay(new Runnable(){
    @Override public void run(){
      process();
    }
  }
,1,defaultDelay,TimeUnit.SECONDS);
}
