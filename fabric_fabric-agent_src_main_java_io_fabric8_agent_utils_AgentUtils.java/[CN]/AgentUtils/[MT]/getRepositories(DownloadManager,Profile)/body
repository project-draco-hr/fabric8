{
  Map<URI,Repository> repositories=new HashMap<URI,Repository>();
  for (  String repositoryUrl : profile.getRepositories()) {
    if (Strings.isNotBlank(repositoryUrl)) {
      try {
        String replacedUrl=VersionPropertyPointerResolver.replaceVersions(profile.getConfigurations(),repositoryUrl);
        URI repoUri=new URI(replacedUrl);
        addRepository(downloadManager,repositories,repoUri);
      }
 catch (      Exception e) {
        LOGGER.warn("Failed to add repository " + repositoryUrl + " for profile "+ profile.getId()+ ". "+ e);
      }
    }
  }
  return repositories;
}
