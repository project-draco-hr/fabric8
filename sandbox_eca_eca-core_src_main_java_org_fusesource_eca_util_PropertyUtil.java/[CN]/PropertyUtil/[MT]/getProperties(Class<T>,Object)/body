{
  Map<String,T> props=new LinkedHashMap<String,T>();
  BeanInfo beanInfo=Introspector.getBeanInfo(object.getClass());
  Object[] NULL_ARG={};
  PropertyDescriptor[] propertyDescriptors=beanInfo.getPropertyDescriptors();
  if (propertyDescriptors != null) {
    for (int i=0; i < propertyDescriptors.length; i++) {
      PropertyDescriptor pd=propertyDescriptors[i];
      if (pd.getReadMethod() != null && !pd.getName().equals("class") && !pd.getName().equals("properties") && !pd.getName().equals("reference")) {
        if (type.isAssignableFrom(pd.getClass())) {
          props.put(pd.getName(),(T)pd.getReadMethod().invoke(object,NULL_ARG));
        }
      }
    }
  }
  return props;
}
