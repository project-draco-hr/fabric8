{
  if (data == null) {
    return null;
  }
  ByteArrayInputStream stream=new ByteArrayInputStream(data);
  try {
    Object retVal=jaxbContext.createUnmarshaller().unmarshal(stream);
    if (returnType.isInstance(retVal)) {
      return returnType.cast(retVal);
    }
 else {
      String msg="Expected object of type " + returnType.getName() + ", instead found "+ retVal.getClass();
      LOG.error(msg);
      throw new IllegalArgumentException(msg);
    }
  }
 catch (  JAXBException e) {
    String msg="Error getting " + returnType.getName() + " from fabric data : "+ e.getMessage();
    LOG.error(msg,e);
    throw new IllegalArgumentException(msg,e);
  }
}
