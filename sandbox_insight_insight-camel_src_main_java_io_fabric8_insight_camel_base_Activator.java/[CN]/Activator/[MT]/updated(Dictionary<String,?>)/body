{
  Map<String,Map<String,String>> props=new HashMap<String,Map<String,String>>();
  for (  String strategy : strategies.keySet()) {
    props.put(strategy,new HashMap<String,String>());
  }
  if (properties != null) {
    for (Enumeration<String> es=properties.keys(); es.hasMoreElements(); ) {
      String key=es.nextElement();
      Object val=properties.get(key);
      for (      String strategy : strategies.keySet()) {
        if (key.startsWith(strategy + ".")) {
          key=key.substring((strategy + ".").length());
          props.get(strategy).put(key,val != null ? val.toString() : null);
        }
      }
    }
  }
  for (  String key : strategies.keySet()) {
    Map<String,String> p=props.get(key);
    strategies.get(key).update(p);
  }
}
