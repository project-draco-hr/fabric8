{
  return new JmxTemplate().execute(getParent(),new JmxTemplate.JmxConnectorCallback<RouteInfo[]>(){
    @Override public RouteInfo[] doWithJmxConnector(    JMXConnector connector) throws Exception {
      MBeanServerConnection connection=connector.getMBeanServerConnection();
      Set<ObjectName> routes=connection.queryNames(new ObjectName("org.apache.camel:type=route,context=" + getId()),null);
      RouteInfo[] routesArray=new RouteInfo[routes.size()];
      int i=0;
      for (      ObjectName route : routes) {
        routesArray[i++]=new JmxRouteInfo(connection,route);
      }
      return routesArray;
    }
  }
);
}
