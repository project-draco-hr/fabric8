{
  String id=container.getId();
  String url="${zk:" + id + "/http}"+ webEvent.getContextPath();
  String bundleName=webEvent.getBundle().getSymbolicName();
  String bundleVersion=webEvent.getBundle().getVersion().toString();
  setJolokiaUrl(container,url,bundleName);
  Version version=container.getVersion();
  String versionId=version != null ? version.getId() : null;
  String json="{\"id\":" + jsonEncodeString(id) + ",\"services\":["+ jsonEncodeString(url)+ "]"+ ",\"version\":"+ JsonHelper.jsonEncodeString(versionId)+ ",\"bundleName\":"+ jsonEncodeString(bundleName)+ ",\"bundleVersion\":"+ jsonEncodeString(bundleVersion)+ ",\"container\":"+ jsonEncodeString(id)+ "}";
  try {
    setData(curator.get(),ZkPath.WEBAPPS_CONTAINER.getPath(bundleName,webEvent.getBundle().getVersion().toString(),id),json,CreateMode.EPHEMERAL);
  }
 catch (  Exception e) {
    LOGGER.error("Failed to register webapp {}.",webEvent.getContextPath(),e);
  }
}
