{
  try {
    URIBuilder builder=new URIBuilder(context.getBaseUri()).setPath(Keys.makeKey(key)).addParameter("value",value).addParameter("dir",String.valueOf(dir)).addParameter("ordered",String.valueOf(ordered)).addParameter("prevExists",String.valueOf(prevExists));
    if (ttl >= 0) {
      builder=builder.addParameter("ttl",String.valueOf(ttl));
    }
    if (prevValue != null) {
      builder=builder.addParameter("prevValue",prevValue).addParameter("prevIndex",String.valueOf(prevIndex));
    }
    return new HttpPut(builder.build());
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
