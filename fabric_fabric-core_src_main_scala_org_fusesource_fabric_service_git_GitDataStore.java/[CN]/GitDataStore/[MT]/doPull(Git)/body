{
  try {
    Repository repository=git.getRepository();
    StoredConfig config=repository.getConfig();
    String url=config.getString("remote",remote,"url");
    if (Strings.isNullOrBlank(url)) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("No remote repository defined for the git repository at " + GitHelpers.getRootGitDirectory(git) + " so not doing a pull");
      }
      return;
    }
    String branch=repository.getBranch();
    String mergeUrl=config.getString("branch",branch,"merge");
    if (Strings.isNullOrBlank(mergeUrl)) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("No merge spec for branch." + branch + ".merge in the git repository at "+ GitHelpers.getRootGitDirectory(git)+ " so not doing a pull");
      }
      return;
    }
    if (LOG.isDebugEnabled()) {
      LOG.debug("Performing a pull in git repository " + GitHelpers.getRootGitDirectory(git) + " on remote URL: "+ url);
    }
    RevCommit statusBefore=CommitUtils.getHead(repository);
    PullCommand command=git.pull().setRebase(true);
    CredentialsProvider credentialsProvider=gitService.getCredentialsProvider();
    if (credentialsProvider != null) {
      command=command.setCredentialsProvider(credentialsProvider);
    }
    PullResult result=command.call();
    RevCommit statusAfter=CommitUtils.getHead(repository);
    if (hasChanged(statusBefore,statusAfter)) {
      fireChangeNotifications();
    }
  }
 catch (  Throwable e) {
    LOG.error("Failed to pull from the remote git repo " + GitHelpers.getRootGitDirectory(git) + ". Reason: "+ e,e);
  }
}
