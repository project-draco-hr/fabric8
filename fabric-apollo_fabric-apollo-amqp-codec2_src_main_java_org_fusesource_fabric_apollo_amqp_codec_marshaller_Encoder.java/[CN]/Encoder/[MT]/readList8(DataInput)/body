{
  Long size=(long)in.readUnsignedByte();
  Long count=(long)in.readUnsignedByte();
  List rc=new ArrayList();
  while (count > 0) {
    rc.add(TypeReader.read(in));
    count--;
  }
  Long actualSize=TypeRegistry.instance().sizer().sizeOfList(rc) - 1 - AMQPList.LIST_LIST8_WIDTH;
  if (size.longValue() != actualSize.longValue()) {
    throw new RuntimeException(String.format("Encoded size of list (%s) doesn't match actual size of list (%s)",size,actualSize));
  }
  return rc;
}
