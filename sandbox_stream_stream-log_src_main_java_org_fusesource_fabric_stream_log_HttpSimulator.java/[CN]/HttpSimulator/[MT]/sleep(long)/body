{
  long now=System.currentTimeMillis();
  long end=now + value;
  long remaining=end - now;
  while (remaining > 0 && !done.get()) {
    Thread.sleep(Math.min(remaining,1000));
    now=System.currentTimeMillis();
    remaining=end - now;
  }
}
