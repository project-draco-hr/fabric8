{
  try {
    MavenResolverImpl resolver=new MavenResolverImpl();
    List<String> repos=new ArrayList<String>();
    for (    MavenRepositoryURL url : config.getRepositories()) {
      repos.add(url.getURL().toURI().toString());
    }
    resolver.setRepositories(repos.toArray(new String[repos.size()]));
    resolver.setLocalRepo(new File(config.getLocalRepository().getURL().toURI()).getAbsolutePath());
    return resolver;
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
