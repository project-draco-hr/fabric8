{
  super(source);
  this.event=event;
  this.timestamp=new Date();
  this.endpointURI=endpointUri(event);
  this.sourceContextId=source.getContext().getName();
  this.sourceRouteId=source.getFromRouteId();
  this.currentRouteId=(source.getUnitOfWork() == null || source.getUnitOfWork().getRouteContext() == null) ? null : source.getUnitOfWork().getRouteContext().getRoute().getId();
  this.breadCrumbId=getBreadCrumbId(source);
  this.exception=source.getException() == null ? source.getProperty(Exchange.EXCEPTION_CAUGHT,Exception.class) : source.getException();
  this.redelivered=source.getProperty(Exchange.REDELIVERED,boolean.class);
  if (event instanceof ExchangeCreatedEvent) {
    eventType=EventType.CREATED;
  }
 else   if (event instanceof ExchangeCompletedEvent) {
    eventType=EventType.COMPLETED;
  }
 else   if (event instanceof ExchangeSendingEvent) {
    eventType=EventType.SENDING;
  }
 else   if (event instanceof ExchangeSentEvent) {
    eventType=EventType.SENT;
  }
 else   if (event instanceof ExchangeRedeliveryEvent) {
    eventType=EventType.REDELIVERY;
  }
 else   if (event instanceof ExchangeFailureHandledEvent) {
    eventType=EventType.FAILURE_HANDLED;
  }
 else {
    eventType=EventType.FAILURE;
  }
}
