{
  LOG.debug("Connecting to ZooKeeper on " + connectString);
  CuratorFrameworkFactory.Builder builder=CuratorFrameworkFactory.builder().connectString(connectString).retryPolicy(new ExponentialBackoffRetry(5,10)).connectionTimeoutMs(getTimeout());
  if (password != null && !password.isEmpty()) {
    builder.aclProvider(new CuratorACLManager());
    builder.authorization("digest",("fabric:" + password).getBytes("UTF-8"));
  }
  this.curator=builder.build();
  LOG.debug("Starting curator " + curator);
  curator.start();
  return curator;
}
