{
  containers("c1","c2");
  ContainerImpl c1=newContainer("c1");
  expect(this.fabricService.getContainer("c1")).andReturn(c1);
  expect(this.fabricService.getContainers()).andReturn(new Container[]{c1}).once();
  this.fabricService.stopContainer(c1,false);
  expect(this.fabricService.getContainer("c2")).andThrow(new FabricException("Container 'c2' does not exist"));
  replay(this.fabricService,this.commandSession);
  try {
    this.stop.execute(this.commandSession);
    fail("Should throw FabricException");
  }
 catch (  FabricException e) {
    assertThat(e.getMessage().contains("'c2'"),is(true));
  }
  verify(this.fabricService);
}
