{
  List<ProfileRequirements> profiles=new ArrayList<ProfileRequirements>();
  profiles.add(new ProfileRequirements("mq",1,5));
  profiles.add(new ProfileRequirements("example-camel",1,null,"mq"));
  FabricRequirements requirements=new FabricRequirements(profiles);
  String json=RequirementsJson.toJSON(requirements);
  System.out.println("JSON: " + json);
  FabricRequirements actual=RequirementsJson.fromJSON(json);
  List<ProfileRequirements> profileRequirements=actual.getProfileRequirements();
  assertEquals("size",2,profileRequirements.size());
  ProfileRequirements profile0=profileRequirements.get(0);
  assertEquals("name","mq",profile0.getProfile());
  assertEquals("minimumInstances",new Integer(1),profile0.getMinimumInstances());
  assertEquals("maximumInstances",new Integer(5),profile0.getMaximumInstances());
  ProfileRequirements profile1=profileRequirements.get(1);
  assertEquals("name","example-camel",profile1.getProfile());
  assertEquals("minimumInstances",new Integer(1),profile1.getMinimumInstances());
  assertEquals("maximumInstances",null,profile1.getMaximumInstances());
  assertEquals("profiles",new ArrayList<String>(Arrays.asList("mq")),profile1.getDependentProfiles());
}
