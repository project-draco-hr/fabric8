{
  String source=sources.get(set);
  if (source == null) {
    source=set.getTemplate();
    if (source == null) {
      String url=set.getUrl();
      if (url != null) {
        source=loadFully(new URL(url));
      }
    }
    if (source == null) {
      URL url=getClass().getResource("/org/fusesource/insight/graph/" + set.getName() + ".mvel");
      if (url == null) {
        url=getClass().getResource("/org/fusesource/insight/graph/default.mvel");
      }
      if (url != null) {
        source=loadFully(url);
      }
 else {
        throw new IllegalStateException("Coult not find default template");
      }
    }
    sources.put(set,source);
  }
  return source;
}
