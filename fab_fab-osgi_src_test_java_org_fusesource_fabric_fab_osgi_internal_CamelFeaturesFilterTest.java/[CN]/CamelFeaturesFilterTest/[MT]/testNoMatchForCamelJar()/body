{
  FeaturesService service=createNiceMock(FeaturesService.class);
  Feature feature=createNiceMock(Feature.class);
  expect(feature.getName()).andReturn("camel-blueprint").anyTimes();
  expect(feature.getVersion()).andReturn("2.9.0.fuse-build-01").anyTimes();
  expect(service.getFeature("camel-blueprint")).andReturn(null);
  replay(service,feature);
  FabConnection.CamelFeaturesFilter filter=new FabConnection.CamelFeaturesFilter(service);
  assertFalse("camel-blueprint feature should not have replaced the dependency if no matching feature is available",filter.matches(DependencyTree.newBuilder("org.apache.camel","camel-blueprint","2.9.0").build()));
  assertEquals(0,filter.getCollection().size());
}
