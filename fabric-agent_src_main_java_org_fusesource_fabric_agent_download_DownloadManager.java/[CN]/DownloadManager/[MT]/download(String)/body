{
  if (url.startsWith("wrap:")) {
    url=url.substring("wrap:".length());
    if (url.contains("$")) {
      url=url.substring(0,url.lastIndexOf('$') - 1);
    }
  }
  if (url.startsWith("blueprint:") || url.startsWith("spring:")) {
    url=url.substring(url.indexOf(':') + 1);
  }
  if (url.startsWith("mvn:")) {
    DownloadTask task=new DownloadTask(url,system,configuration);
    executor.submit(task);
    return task.getFuture();
  }
 else {
    return new DoneDownload();
  }
}
