{
  Map<Object,Object> attributeMap=context.getUIContext().getAttributeMap();
  attributeMap.put("instanceName",instanceName.getValue());
  attributeMap.put("routeBuilder",routeBuilder.getValue());
  attributeMap.put("mode","add");
  attributeMap.put("kind","java");
  ComponentDto component=componentName.getValue();
  String camelComponentName=component.getScheme();
  String previous=(String)attributeMap.get("componentName");
  String previous2=(String)attributeMap.get("endpointType");
  if (previous != null && previous.equals(camelComponentName) && previous2 != null && previous2.equals(endpointType.getValue())) {
    NavigationResult navigationResult=(NavigationResult)attributeMap.get("navigationResult");
    if (navigationResult != null) {
      return navigationResult;
    }
  }
  attributeMap.put("componentName",camelComponentName);
  attributeMap.put("endpointType",endpointType.getValue());
  boolean consumerOnly=component.isConsumerOnly();
  boolean producerOnly=component.isProducerOnly();
  String type=endpointType.getValue();
  if ("Consumer".equals(type)) {
    consumerOnly=true;
  }
 else   if ("Producer".equals(type)) {
    producerOnly=true;
  }
  UIContext ui=context.getUIContext();
  List<EndpointOptionByGroup> groups=createUIInputsForCamelComponent(camelComponentName,null,MAX_OPTIONS,consumerOnly,producerOnly,componentFactory,converterFactory,ui);
  List<InputComponent> allInputs=new ArrayList<>();
  for (  EndpointOptionByGroup group : groups) {
    allInputs.addAll(group.getInputs());
  }
  NavigationResultBuilder builder=Results.navigationBuilder();
  int pages=groups.size();
  for (int i=0; i < pages; i++) {
    boolean last=i == pages - 1;
    EndpointOptionByGroup current=groups.get(i);
    ConfigureEndpointPropertiesStep step=new ConfigureEndpointPropertiesStep(projectFactory,dependencyInstaller,camelComponentName,current.getGroup(),allInputs,current.getInputs(),last,i,pages);
    builder.add(step);
  }
  NavigationResult navigationResult=builder.build();
  attributeMap.put("navigationResult",navigationResult);
  return navigationResult;
}
