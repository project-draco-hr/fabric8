{
  for (  ServiceRegistration sr : commandRegistrations) {
    sr.unregister();
  }
  registration.unregister();
  Container.Instance.set(null);
  if (mbeanServer != null) {
    for (    ContainerStrategy strategy : strategies.values()) {
      try {
        mbeanServer.unregisterMBean(getObjectName(strategy));
      }
 catch (      Exception e) {
        LOG.warn("An error occured during mbean server unregistration: " + e,e);
      }
    }
  }
  storageProxy.destroy();
}
