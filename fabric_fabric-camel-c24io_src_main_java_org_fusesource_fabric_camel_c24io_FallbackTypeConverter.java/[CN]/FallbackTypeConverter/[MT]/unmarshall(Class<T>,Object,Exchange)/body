{
  Element element=getElementForType(type,exchange);
  if (element == null) {
    return null;
  }
  Source source=getSource(type,element,exchange);
  boolean configured=false;
  if (parentTypeConverter != null) {
    try {
      InputStream inputStream=parentTypeConverter.mandatoryConvertTo(InputStream.class,value);
      source.setInputStream(inputStream);
      configured=true;
    }
 catch (    NoTypeConversionAvailableException ex1) {
      try {
        Reader reader=parentTypeConverter.mandatoryConvertTo(Reader.class,value);
        source.setReader(reader);
        configured=true;
      }
 catch (      NoTypeConversionAvailableException ex2) {
      }
    }
    if (!configured) {
      if (value instanceof String) {
        value=new StringReader((String)value);
      }
      if (value instanceof InputStream) {
        source.setInputStream((InputStream)value);
        configured=true;
      }
      if (value instanceof Reader) {
        source.setReader((Reader)value);
        configured=true;
      }
    }
  }
  if (configured) {
    ComplexDataObject object=source.readObject(element);
    return ObjectHelper.cast(type,object);
  }
 else {
    return null;
  }
}
