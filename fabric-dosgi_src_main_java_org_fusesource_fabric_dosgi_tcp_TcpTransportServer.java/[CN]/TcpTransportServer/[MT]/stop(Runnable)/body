{
  if (acceptSource.isCanceled()) {
    onCompleted.run();
  }
 else {
    acceptSource.setCancelHandler(new Runnable(){
      public void run(){
        try {
          channel.close();
        }
 catch (        IOException e) {
        }
        if (onCompleted != null) {
          onCompleted.run();
        }
      }
    }
);
    acceptSource.cancel();
  }
}
