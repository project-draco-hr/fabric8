{
  CreateContainerMetadata metadata=container.getMetadata();
  if (!(metadata instanceof CreateSshContainerMetadata)) {
    throw new IllegalStateException("Container doesn't have valid create container metadata type");
  }
 else {
    CreateSshContainerMetadata sshContainerMetadata=(CreateSshContainerMetadata)metadata;
    CreateSshContainerOptions options=sshContainerMetadata.getCreateOptions();
    try {
      String script=buildStopScript(container.getId(),options);
      runScriptOnHost(options,script);
    }
 catch (    Throwable t) {
      logger.error("Failed to stop container: " + container.getId(),t);
    }
  }
}
