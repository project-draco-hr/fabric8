{
  properties=null;
  if (fragment.getSectionCode() != PROPERTIES) {
    throw new IllegalArgumentException("Expecting fragment with PROPERTIES format code, instead got " + fragment.getSectionCode());
  }
  if (fragment.getPayload().getLength() > 0) {
    properties=AmqpProperties.AmqpPropertiesBuffer.create(fragment.getPayload(),0,getMarshaller());
  }
}
