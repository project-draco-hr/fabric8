{
  NullArgumentException.validateNotEmpty(version,true,"Version");
  m_version=version;
  final String[] segments=version.split("[\\.-]");
  m_segments=new VersionSegment[segments.length];
  for (int i=0; i < segments.length; i++) {
    final String trimmedSegment=segments[i].trim();
    if ("".equals(trimmedSegment)) {
      m_segments[i]=new NullVersionSegment();
    }
 else     if ("SNAPSHOT".equals(trimmedSegment)) {
      m_segments[i]=new SnapshotVersionSegment();
    }
 else {
      try {
        m_segments[i]=new IntegerVersionSegment(trimmedSegment);
      }
 catch (      NumberFormatException ignore) {
        m_segments[i]=new StringVersionSegment(trimmedSegment);
      }
    }
  }
}
