{
  Map<String,String> dataStoreProperties=new HashMap<String,String>();
  for (  Map.Entry<String,?> entry : configuration.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (value instanceof String) {
      dataStoreProperties.put(key,(String)value);
    }
  }
  this.dataStoreProperties=Collections.unmodifiableMap(dataStoreProperties);
  try {
    activateComponent();
    activateInternal();
  }
 catch (  Exception ex) {
    deactivateComponent();
    throw ex;
  }
}
