{
  LOG.info("Starting up DataStore " + this);
  treeCache=new TreeCache(getCurator(),ZkPath.CONFIGS.getPath(),true,false,true,cacheExecutor);
  treeCache.start(TreeCache.StartMode.NORMAL);
  treeCache.getListenable().addListener(this);
  DataStoreRegistrationHandler templateRegistry=registrationHandler.get();
  DataStoreTemplate template=templateRegistry.removeRegistrationCallback();
  if (template != null) {
    LOG.info("Using template: " + template);
    template.doWith(this);
  }
}
