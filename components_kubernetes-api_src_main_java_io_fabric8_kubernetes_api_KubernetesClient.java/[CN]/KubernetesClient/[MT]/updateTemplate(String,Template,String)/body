{
  validateNamespace(namespace,entity);
  if (!KubernetesHelper.hasResourceVersion(entity)) {
    ReplicationController oldEntity=getReplicationController(name,namespace);
    if (oldEntity == null) {
      return createTemplate(entity,namespace);
    }
    String resourceVersion=KubernetesHelper.getResourceVersion(oldEntity);
    KubernetesHelper.getOrCreateMetadata(entity).setResourceVersion(resourceVersion);
  }
  return getKubernetesExtensions().updateTemplate(name,entity,namespace);
}
