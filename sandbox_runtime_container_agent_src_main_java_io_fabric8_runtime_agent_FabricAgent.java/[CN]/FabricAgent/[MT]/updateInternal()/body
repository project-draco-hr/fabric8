{
  Profile effectiveProfile;
  try {
    Profile overlayProfile=fabricService.get().getCurrentContainer().getOverlayProfile();
    effectiveProfile=Profiles.getEffectiveProfile(fabricService.get(),overlayProfile);
  }
 catch (  Exception ex) {
    LOGGER.warn("Failed to read container profile. This exception will be ignored..",ex);
    return;
  }
  List<String> resources=null;
  try {
    Map<String,File> artifacts=downloadProfileArtifacts(fabricService.get(),effectiveProfile);
    populateExplodedWar(artifacts);
    resources=updateProvisioning(artifacts,provisioner.get());
    updateStatus(Container.PROVISION_SUCCESS,null,resources);
  }
 catch (  Throwable e) {
    if (isValid()) {
      LOGGER.warn("Exception updating provisioning: " + e,e);
      updateStatus(Container.PROVISION_ERROR,e,resources);
    }
 else {
      LOGGER.debug("Exception updating provisioning: " + e,e);
    }
  }
}
