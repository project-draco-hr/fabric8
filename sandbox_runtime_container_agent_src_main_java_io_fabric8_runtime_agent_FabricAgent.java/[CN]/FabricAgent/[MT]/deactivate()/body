{
  if (objectName != null) {
    try {
      MBeanServer anMBeanServer=mbeanServer.get();
      if (anMBeanServer != null) {
        anMBeanServer.unregisterMBean(objectName);
      }
    }
 catch (    Exception e) {
      LOGGER.warn("Failed to unregister MBean " + objectName + ": "+ e,e);
    }
  }
  deactivateComponent();
  fabricService.get().untrackConfiguration(onConfigurationChange);
  executor.shutdown();
  try {
    executor.awaitTermination(1,TimeUnit.MINUTES);
  }
 catch (  InterruptedException e) {
  }
  executor.shutdownNow();
}
