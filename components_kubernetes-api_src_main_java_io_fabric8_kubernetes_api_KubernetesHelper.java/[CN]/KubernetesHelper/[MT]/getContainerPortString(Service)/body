{
  String answer=null;
  String id=getId(service);
  Service spec=service;
  if (spec != null) {
    IntOrString containerPort=spec.getContainerPort();
    Objects.notNull(containerPort,"containerPort for service " + id);
    String strValue=containerPort.getStrVal();
    if (strValue != null) {
      answer=strValue;
    }
 else {
      Integer containerPortInt=containerPort.getIntVal();
      if (containerPortInt == null) {
        throw new IllegalArgumentException("No containerPort for service " + id);
      }
      answer=containerPortInt.toString();
    }
  }
  if (answer == null) {
    throw new IllegalArgumentException("Invalid port number for service " + id + ". "+ answer);
  }
  return answer;
}
