{
  try {
    Object entity=response.getEntity();
    String message=extractErrorMessage(entity);
    message="HTTP " + response.getStatus() + " "+ message;
    return new WebApplicationException(message,response);
  }
 catch (  Exception ex) {
    return new Exception("Could not deserialize server side exception: " + ex.getMessage());
  }
}
