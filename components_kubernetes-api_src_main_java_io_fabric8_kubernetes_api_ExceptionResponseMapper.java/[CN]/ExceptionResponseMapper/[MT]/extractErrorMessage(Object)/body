{
  String message="No message";
  ObjectMapper mapper=KubernetesFactory.createObjectMapper();
  try {
    String json=null;
    if (entity instanceof InputStream) {
      InputStream inputStream=(InputStream)entity;
      json=IOHelpers.readFully(inputStream);
    }
 else     if (entity != null) {
      json=entity.toString();
    }
    if (Strings.isNotBlank(json)) {
      message=json;
      if (textLooksLikeJsonObject(json)) {
        try {
          Status error=mapper.readValue(json,Status.class);
          if (error != null) {
            message=error.getMessage();
            if (Strings.isNullOrBlank(message)) {
              message=error.getReason();
            }
          }
        }
 catch (        IOException e) {
          LOG.warn("Failed to parse Status from JSON:" + json + ". Reason: "+ e,e);
        }
      }
    }
  }
 catch (  Exception e) {
    message="Failed to extract message from request: " + e;
  }
  return message;
}
