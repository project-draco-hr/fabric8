{
  Integer answer=null;
  File pidDir=new File(baseDir,"var/run");
  if (pidDir.exists() && pidDir.isDirectory()) {
    String script=getLaunchScript();
    int idx=script.lastIndexOf("/");
    if (idx < 0) {
      idx=script.lastIndexOf("\\");
    }
    if (idx > 0) {
      script=script.substring(idx + 1);
    }
    File pidFile=new File(pidDir,script + ".pid");
    if (pidFile.exists()) {
      answer=extractPidFromFile(pidFile);
    }
    if (answer == null) {
      File[] files=pidDir.listFiles();
      for (      File file : files) {
        if (file.getName().toLowerCase().endsWith(".pid")) {
          answer=extractPidFromFile(file);
          if (answer != null) {
            break;
          }
        }
      }
    }
  }
  return answer;
}
