{
  Version version=getVersion();
  List<String> profileIds=dataStore.getContainerProfiles(id);
  List<Profile> profiles=new ArrayList<Profile>();
  for (  String profileId : profileIds) {
    profiles.add(version.getRequiredProfile(profileId));
  }
  if (profiles.isEmpty() && version != null) {
    Profile defaultProfile=version.getProfile(ZkDefs.DEFAULT_PROFILE);
    if (defaultProfile != null) {
      profiles.add(defaultProfile);
    }
  }
  return profiles.toArray(new Profile[profiles.size()]);
}
