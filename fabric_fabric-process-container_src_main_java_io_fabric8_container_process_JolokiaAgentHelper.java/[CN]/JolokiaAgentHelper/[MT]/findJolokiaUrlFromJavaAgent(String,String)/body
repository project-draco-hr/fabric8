{
  if (Strings.isNotBlank(javaAgent) && javaAgent.contains("jolokia")) {
    Properties properties=new Properties();
    String propertyText=javaAgent.trim();
    while (propertyText.endsWith("\"") || propertyText.endsWith("\'")) {
      propertyText=propertyText.substring(0,propertyText.length() - 1);
    }
    int start=javaAgent.indexOf('=');
    if (start >= 0) {
      propertyText=propertyText.substring(start + 1);
      String[] valueExpressions=propertyText.split(",");
      if (valueExpressions != null) {
        for (        String expression : valueExpressions) {
          String[] keyValue=expression.split("=");
          if (keyValue != null && keyValue.length > 1) {
            properties.put(keyValue[0],keyValue[1]);
          }
        }
      }
    }
    String port=properties.getProperty("port","8778");
    String host=properties.getProperty("host","0.0.0.0");
    if (host.equals("0.0.0.0")) {
      host=defaultHost;
    }
    return "http://" + host + ":"+ port+ "/jolokia/";
  }
  return null;
}
