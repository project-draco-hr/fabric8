{
  LOG.info("Looking up service " + serviceName + " for namespace: "+ namespace);
  io.fabric8.kubernetes.api.model.Service service=kubernetes.getService(serviceName,namespace);
  String serviceAddress=null;
  if (service != null) {
    String portalIP=service.getSpec().getClusterIP();
    if (!Strings.isNullOrEmpty(portalIP)) {
      List<ServicePort> servicePorts=service.getSpec().getPorts();
      if (servicePorts != null && !servicePorts.isEmpty()) {
        Integer port=servicePorts.iterator().next().getPort();
        String prefix="http://";
        String postfix="";
        if (port != null) {
          if (port == 443) {
            prefix="https://";
          }
          if (port != 80) {
            postfix=":" + port;
          }
        }
        serviceAddress=prefix + portalIP + postfix;
      }
    }
  }
  return serviceAddress;
}
