{
  if (features.isEmpty()) {
    Repository[] repositories=listRepositories();
    for (    Repository repository : repositories) {
      for (      Feature feature : repository.getFeatures()) {
        if (!features.contains(feature)) {
          features.add(feature);
        }
      }
    }
  }
  return features.toArray(new Feature[features.size()]);
}
