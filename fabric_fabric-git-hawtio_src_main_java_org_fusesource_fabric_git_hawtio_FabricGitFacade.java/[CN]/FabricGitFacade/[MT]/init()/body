{
  String basePath=System.getProperty("karaf.data","karaf/data") + File.separator + "git"+ File.separator;
  String fabricGitPath=basePath + "fabric-edit";
  File fabricRoot=new File(fabricGitPath);
  if (!fabricRoot.exists() && !fabricRoot.mkdirs()) {
    throw new FileNotFoundException("Could not found git root:" + basePath);
  }
  setConfigDirectory(fabricRoot);
  setCloneAllBranches(true);
  String container=System.getProperty("karaf.name");
  String login=ZooKeeperUtils.getContainerLogin(container);
  String token=ZooKeeperUtils.generateContainerToken(zookeeper,container);
  CredentialsProvider cp=new UsernamePasswordCredentialsProvider(login,token);
  setCredentials(cp);
  initCalled=true;
  updateConfiguration();
  initCheck();
}
