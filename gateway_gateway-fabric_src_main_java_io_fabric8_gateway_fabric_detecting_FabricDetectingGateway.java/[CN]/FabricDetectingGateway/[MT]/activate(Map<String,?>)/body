{
  configurer.configure(configuration,this);
  Objects.notNull(getVertxService(),"vertxService");
  Objects.notNull(getZooKeeperPath(),"zooKeeperPath");
  activateComponent();
  detectingGateway=createDetectingGateway();
  if (detectingGateway != null) {
    cache=new GatewayServiceTreeCache(getCurator(),getZooKeeperPath(),serviceMap);
    cache.init();
    detectingGateway.init();
  }
  JMXUtils.registerMBean(shutdownTacker.mbeanProxy(detectingGateway),mbeanServer,new ObjectName("io.fabric8.gateway:type=DetectingGateway"));
}
