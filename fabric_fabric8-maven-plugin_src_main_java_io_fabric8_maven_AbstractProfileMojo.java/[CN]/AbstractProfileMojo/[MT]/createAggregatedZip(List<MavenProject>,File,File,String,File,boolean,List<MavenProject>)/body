{
  projectBuildDir.mkdirs();
  for (  MavenProject reactorProject : reactorProjectList) {
    if (!reactorProject.isExecutionRoot()) {
      Log log=getLog();
      combineProfileFilesToFolder(reactorProject,projectBuildDir,log,reactorProjectOutputPath);
    }
  }
  if (includeRootReadMe) {
    for (    MavenProject pomProjects : pomZipProjects) {
      File src=pomProjects.getFile().getParentFile();
      String root=projectBaseDir.getName();
      String relativePath=Files.getRelativePath(projectBaseDir,pomProjects.getBasedir());
      relativePath=root + File.separator + relativePath;
      relativePath=pathToProfilePath(relativePath);
      File outDir=new File(reactorProjectOutputPath,relativePath);
      copyReadMe(src,outDir);
    }
  }
  Zips.createZipFile(getLog(),projectBuildDir,projectOutputFile);
  String relativePath=Files.getRelativePath(projectBaseDir,projectOutputFile);
  while (relativePath.startsWith("/")) {
    relativePath=relativePath.substring(1);
  }
  getLog().info("Created profile zip file: " + relativePath);
}
