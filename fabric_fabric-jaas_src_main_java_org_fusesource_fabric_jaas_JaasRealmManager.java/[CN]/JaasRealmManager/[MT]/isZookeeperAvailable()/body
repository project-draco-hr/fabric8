{
  boolean available=false;
  ServiceReference serviceReference=null;
  try {
    serviceReference=bundleContext.getServiceReference(ZOOKEEPER_CLIENT);
    if (serviceReference != null) {
      CuratorFramework client=(CuratorFramework)bundleContext.getService(serviceReference);
      if (client != null && client.getZookeeperClient().isConnected()) {
        available=true;
      }
    }
  }
 catch (  Exception ex) {
  }
 finally {
    if (serviceReference != null) {
      bundleContext.ungetService(serviceReference);
    }
  }
  return available;
}
