{
  if (type.isArray()) {
    if (value.getClass().isArray()) {
      int length=Array.getLength(value);
      Class<?> componentType=type.getComponentType();
      Object rc=Array.newInstance(componentType,length);
      for (int i=0; i < length; i++) {
        Object o=Array.get(value,i);
        Array.set(rc,i,convert(o,componentType));
      }
      return rc;
    }
  }
  PropertyEditor editor=PropertyEditorManager.findEditor(type);
  if (editor != null) {
    editor.setAsText(value.toString());
    return editor.getValue();
  }
  return null;
}
