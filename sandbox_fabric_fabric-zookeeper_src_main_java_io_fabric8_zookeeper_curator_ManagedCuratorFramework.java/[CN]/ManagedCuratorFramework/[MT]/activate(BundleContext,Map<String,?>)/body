{
  this.bundleContext=bundleContext;
  CuratorConfig config=new CuratorConfig();
  configurer.configure(configuration,config);
  if (!Strings.isNullOrEmpty(config.getZookeeperUrl())) {
    State next=new State(config);
    if (state.compareAndSet(null,next)) {
      executor.submit(next);
    }
  }
  activateComponent();
}
