{
  for (; ; ) {
    WatchKey key;
    try {
      key=watcher.take();
    }
 catch (    InterruptedException e) {
      return;
    }
    Path dir=keys.get(key);
    if (dir == null) {
      continue;
    }
    for (    WatchEvent<?> event : key.pollEvents()) {
      WatchEvent.Kind kind=event.kind();
      if (kind == OVERFLOW) {
        continue;
      }
      WatchEvent<Path> ev=(WatchEvent<Path>)event;
      Path name=ev.context();
      Path child=dir.resolve(name);
      if (kind == ENTRY_CREATE) {
        try {
          if (Files.isDirectory(child,NOFOLLOW_LINKS)) {
            Files.walkFileTree(child,new MavenVisitor());
          }
        }
 catch (        IOException x) {
        }
      }
    }
    boolean valid=key.reset();
    if (!valid) {
      keys.remove(key);
      if (keys.isEmpty()) {
        break;
      }
    }
  }
}
