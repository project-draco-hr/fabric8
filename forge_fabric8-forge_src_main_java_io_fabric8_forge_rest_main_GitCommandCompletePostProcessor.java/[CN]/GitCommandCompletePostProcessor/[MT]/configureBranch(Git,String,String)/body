{
  if (!Strings.isNullOrEmpty(branch)) {
    StoredConfig config=git.getRepository().getConfig();
    if (Strings.isNullOrEmpty(config.getString("branch",branch,"remote")) || Strings.isNullOrEmpty(config.getString("branch",branch,"merge"))) {
      config.setString("branch",branch,"remote",remote);
      config.setString("branch",branch,"merge","refs/heads/" + branch);
      try {
        config.save();
      }
 catch (      IOException e) {
        LOG.error("Failed to save the git configuration to " + git.getRepository().getDirectory() + " with branch "+ branch+ " on remote repo: "+ remote+ " due: "+ e.getMessage()+ ". This exception is ignored.",e);
      }
    }
  }
}
