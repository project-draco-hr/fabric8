{
  if (runAllowed.compareAndSet(false,true)) {
    try {
      processor.start();
    }
 catch (    Exception e) {
      runAllowed.set(false);
      return;
    }
    inputReader.execute(new Runnable(){
      @Override public void run(){
        readInput();
      }
    }
);
    batchReader.execute(new Runnable(){
      @Override public void run(){
        drainBatchQueue();
      }
    }
);
  }
}
