{
  ProcessBuilder processBuilder=new ProcessBuilder(args);
  processBuilder.redirectErrorStream(true);
  final Process process;
  try {
    process=processBuilder.start();
  }
 catch (  IOException e) {
    LOG.debug("Process failed to start: " + e,e);
    return -1;
  }
  new Thread("system command output processor"){
    @Override public void run(){
      StringBuffer buffer=new StringBuffer();
      BufferedReader reader=new BufferedReader(new InputStreamReader(process.getInputStream(),Charsets.UTF_8));
      try {
        while (true) {
          String line=reader.readLine();
          if (line == null)           break;
          LOG.info(String.format("%s: %s",args[0],line));
        }
      }
 catch (      IOException e) {
      }
 finally {
        Closeables.closeQuietly(reader);
      }
    }
  }
.start();
  int exitCode=0;
  try {
    return process.waitFor();
  }
 catch (  InterruptedException e) {
    LOG.debug("Thread interrupted, killing process");
    process.destroy();
    Thread.currentThread().interrupt();
    return -1;
  }
}
