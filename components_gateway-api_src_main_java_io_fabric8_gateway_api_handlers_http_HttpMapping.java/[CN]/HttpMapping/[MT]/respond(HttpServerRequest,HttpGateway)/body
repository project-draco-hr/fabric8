{
  try {
    String json=mappingRulesToJson(httpGateway.getMappedServices());
    HttpServerResponse httpServerResponse=request.response();
    httpServerResponse.headers().set("ContentType","application/json");
    httpServerResponse.setStatusCode(200);
    httpServerResponse.end(json);
    httpServerResponse.close();
  }
 catch (  Throwable e) {
    LOG.error("Caught: " + e,e);
    request.response().setStatusCode(404);
    StringWriter buffer=new StringWriter();
    e.printStackTrace(new PrintWriter(buffer));
    request.response().setStatusMessage("Error: " + e + "\nStack Trace: "+ buffer);
    request.response().close();
  }
}
