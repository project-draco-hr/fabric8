{
  File tmpFile=null;
  FileOutputStream fos=null;
  try {
    tmpFile=new File(tempLocation,name);
    if (tmpFile.exists() && !tmpFile.delete()) {
      throw new IOException("Failed to delete file");
    }
    fos=new FileOutputStream(tmpFile);
    int length;
    byte buffer[]=new byte[8192];
    while ((length=is.read(buffer)) != -1) {
      fos.write(buffer,0,length);
    }
  }
 catch (  Exception ex) {
  }
 finally {
    try {
      fos.flush();
    }
 catch (    Exception ex) {
    }
    try {
      fos.close();
    }
 catch (    Exception ex) {
    }
  }
  return tmpFile;
}
