{
  if (current.isDirectory()) {
    for (    File child : current.listFiles()) {
      getCandidates(parent,child,settings,target);
    }
    String p=buildZKPath(parent,current).replaceFirst("/","");
    settings.put(p,null);
  }
 else {
    BufferedInputStream in=new BufferedInputStream(new FileInputStream(current));
    byte[] contents=new byte[in.available()];
    in.read(contents);
    in.close();
    String p=buildZKPath(parent,current).replaceFirst("/","");
    if (p.endsWith(".cfg")) {
      p=p.substring(0,p.length() - ".cfg".length());
    }
    settings.put(p,new String(contents));
  }
}
