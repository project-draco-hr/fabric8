{
  DependencyDTO rootDependency=requirements.getRootDependency();
  if (rootDependency != null) {
    StringBuilder urlBuffer=new StringBuilder(rootDependency.toBundleUrl());
    String apparentType=rootDependency.getType();
    String apparentClassifier=rootDependency.getClassifier();
    if (OMMITTED_BUNDLE_TYPES.contains(apparentType)) {
      apparentType=null;
    }
    handleArtifactBundleType(urlBuffer,apparentType);
    handleArtifactBundleClassifier(urlBuffer,apparentClassifier);
    String urlString=urlBuffer.toString();
    if (!requirements.getBundles().contains(urlString)) {
      requirements.getBundles().add(urlString);
    }
  }
}
