{
  if (requireCommit) {
    IllegalStateAssertion.assertEquals(0,commitCount,"Cannot execute multiple commit requests");
    IllegalStateAssertion.assertEquals(0,pushCount,"Cannot execute commit after push");
    commitCount++;
  }
  return requireCommit;
}
