{
  if (jmdns != null) {
    for (Iterator<ServiceInfo> iter=serviceInfos.iterator(); iter.hasNext(); ) {
      ServiceInfo si=iter.next();
      jmdns.unregisterService(si);
    }
    final JmDNS closeTarget=jmdns;
    Thread thread=new Thread(){
      public void run(){
        try {
          if (JmDNSFactory.onClose(getLocalAddress())) {
            closeTarget.close();
          }
        }
 catch (        IOException e) {
          LOG.debug("Error closing JmDNS " + getLocalhost() + ". This exception will be ignored.",e);
        }
      }
    }
;
    thread.setDaemon(true);
    thread.start();
    jmdns=null;
  }
}
