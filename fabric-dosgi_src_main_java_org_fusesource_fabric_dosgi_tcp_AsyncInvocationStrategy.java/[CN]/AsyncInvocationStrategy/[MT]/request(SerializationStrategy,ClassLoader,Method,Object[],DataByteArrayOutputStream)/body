{
  if (!isAsyncMethod(method)) {
    throw new IllegalArgumentException("Invalid async method declaration: last argument is not a RequestCallback");
  }
  Class[] new_types=payloadTypes(method);
  Object[] new_args=new Object[args.length - 1];
  System.arraycopy(args,0,new_args,0,new_args.length);
  serializationStrategy.encodeRequest(loader,new_types,new_args,target);
  return new AsyncResponseFuture(loader,method,(AsyncCallback)args[args.length - 1],serializationStrategy,Dispatch.getCurrentQueue());
}
