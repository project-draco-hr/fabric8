{
  try {
    ServiceContract contract=contracts.get(request.getApiKey());
    if (contract == null) {
      throw new InvalidContractException(Messages.i18n.format("InMemoryRegistry.NoContractForAPIKey",request.getApiKey()));
    }
    handler.handle(AsyncResultImpl.create(contract));
  }
 catch (  Throwable t) {
    handler.handle(AsyncResultImpl.create(t,ServiceContract.class));
  }
}
