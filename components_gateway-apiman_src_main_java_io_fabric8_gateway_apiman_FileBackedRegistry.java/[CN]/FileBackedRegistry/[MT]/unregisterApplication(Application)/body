{
  String applicationKey=getApplicationKey(application);
  if (applications.containsKey(applicationKey)) {
    Application removed=applications.remove(applicationKey);
    for (    Contract contract : removed.getContracts()) {
      if (contracts.containsKey(contract.getApiKey())) {
        contracts.remove(contract.getApiKey());
      }
    }
    save();
  }
 else {
    throw new RegistrationException(Messages.i18n.format("InMemoryRegistry.AppNotFound"));
  }
}
