{
  if (isReady()) {
    System.err.println(executeCommand("fabric:create -n"));
    CreateContainerOptions options=CreateSshContainerOptions.builder().name("ssh1").host(host).port(Integer.parseInt(port)).username(username).password(password).build();
    CreateContainerMetadata[] metadata=getFabricService().createContainers(options);
    assertNotNull(metadata);
    assertEquals(1,metadata.length);
    if (metadata[0].getFailure() != null) {
      throw metadata[0].getFailure();
    }
    assertTrue("Expected successful creation of remote ssh container",metadata[0].isSuccess());
    assertNotNull("Expected successful creation of remote ssh container",metadata[0].getContainer());
    waitForProvisionSuccess(metadata[0].getContainer(),PROVISION_TIMEOUT,TimeUnit.MILLISECONDS);
    System.out.println(executeCommand("fabric:container-list -v"));
    System.out.println(executeCommand("fabric:container-resolver-list"));
    Container ssh1=getFabricService().getContainer("ssh1");
    assertTrue(ssh1.isAlive());
    createAndAssertChildContainer("ssh2","ssh1","default");
    Container ssh2=getFabricService().getContainer("ssh2");
    ssh2.stop();
    assertFalse(ssh2.isAlive());
    ssh2.start();
    waitForProvisionSuccess(ssh2,PROVISION_TIMEOUT,TimeUnit.MILLISECONDS);
    assertTrue(ssh2.isAlive());
    ssh2.stop();
    ssh1.stop();
    assertFalse(ssh1.isAlive());
    System.out.println(executeCommand("fabric:container-list -v"));
    ssh1.start();
    waitForProvisionSuccess(ssh1,PROVISION_TIMEOUT,TimeUnit.MILLISECONDS);
    System.out.println(executeCommand("fabric:container-list -v"));
    assertTrue(ssh1.isAlive());
  }
}
