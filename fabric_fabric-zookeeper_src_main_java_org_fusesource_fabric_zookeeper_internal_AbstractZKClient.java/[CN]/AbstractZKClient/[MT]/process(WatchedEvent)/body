{
  if (event.getState() != null) {
    LOG.debug("event: {}",event.getState());
synchronized (_lock) {
switch (event.getState()) {
case SyncConnected:
        changeState(State.CONNECTED);
      break;
case Disconnected:
    if (_state != State.NONE) {
      changeState(State.RECONNECTING);
    }
  break;
case Expired:
_zk=null;
LOG.warn("Expiration detected: trying to restart...");
tryConnect();
break;
default :
LOG.warn("unprocessed event state: {}",event.getState());
}
}
}
}
