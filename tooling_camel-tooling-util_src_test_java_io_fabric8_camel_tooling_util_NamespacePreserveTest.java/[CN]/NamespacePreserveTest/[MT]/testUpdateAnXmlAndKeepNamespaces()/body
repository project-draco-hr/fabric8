{
  File file=new File(getBaseDir(),"src/test/resources/namespaceRoute.xml");
  XmlModel xm=assertRoutes(file,1,null);
  List<RouteDefinition> definitionList=xm.getRouteDefinitionList();
  RouteDefinition route=new RouteDefinition().from("file:foo").to("file:bar");
  definitionList.add(route);
  System.out.println("Routes now: " + xm.getRouteDefinitionList());
  String text=FileCopyUtils.copyToString(new FileReader(file));
  RouteXml helper=new RouteXml();
  String newText=helper.marshalToText(text,definitionList);
  System.out.println("newText: " + newText);
  assertTrue("Generated XML has missing XML namespace declaration " + "http://acme.com/foo",newText.contains("http://acme.com/foo"));
  assertTrue("Generated XML has missing XML namespace declaration " + "urn:barNamespace",newText.contains("urn:barNamespace"));
}
