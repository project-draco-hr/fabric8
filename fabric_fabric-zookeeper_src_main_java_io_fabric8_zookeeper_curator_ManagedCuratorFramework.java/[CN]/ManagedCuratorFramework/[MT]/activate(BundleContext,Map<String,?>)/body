{
  this.bundleContext=bundleContext;
  configurer.configure(configuration,this);
  if (!Strings.isNullOrEmpty(zookeeperUrl)) {
    State next=new State(configuration);
    if (state.compareAndSet(null,next)) {
      executor.submit(next);
    }
  }
  activateComponent();
}
