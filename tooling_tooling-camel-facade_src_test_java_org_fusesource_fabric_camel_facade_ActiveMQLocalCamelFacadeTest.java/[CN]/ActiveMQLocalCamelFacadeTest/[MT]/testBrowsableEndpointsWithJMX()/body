{
  template.sendBody("direct:start","Hello World");
  Thread.sleep(2000);
  List<CamelEndpointMBean> endpoints=local.getEndpoints("myCamel");
  CamelBrowsableEndpointMBean browsable=null;
  for (  CamelEndpointMBean endpoint : endpoints) {
    if (endpoint.getEndpointUri().endsWith("activemq://queue:out")) {
      browsable=(CamelBrowsableEndpointMBean)endpoint;
      break;
    }
  }
  assertNotNull("Should find browsable",browsable);
  assertEquals(1,browsable.queueSize());
  assertNotNull(browsable.browseExchange(0));
  assertEquals("Hello World",browsable.browseMessageBody(0));
  String xml=browsable.browseMessageAsXml(0,true);
  log.info(xml);
  assertTrue(xml,xml.endsWith("<body type=\"java.lang.String\">Hello World</body>\n</message>"));
}
