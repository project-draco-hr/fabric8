{
  DownloadManager dm=createDownloadManager("non-existing-settings.xml",null);
  File dir=new File(systemRepo,"x/y/z/1.0");
  dir.mkdirs();
  FileOutputStream artifact=new FileOutputStream(new File(dir,"z-1.0.jar"));
  artifact.write(new byte[]{0x42});
  artifact.close();
  final CountDownLatch latch=new CountDownLatch(1);
  DownloadFuture df=dm.download("mvn:x.y/z/1.0");
  df.addListener(new FutureListener<DownloadFuture>(){
    @Override public void operationComplete(    DownloadFuture future){
      latch.countDown();
    }
  }
);
  latch.await(30,TimeUnit.SECONDS);
  assertNotNull(df.getUrl());
  assertNotNull(df.getFile());
  assertEquals("z-1.0.jar",df.getFile().getName());
  LOG.info("Downloaded URL={}, FILE={}",df.getUrl(),df.getFile());
}
