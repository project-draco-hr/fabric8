{
  SourceConnector outboundConnector=new SourceConnector();
  outboundConnector.setId(getId() + "." + remoteBridge.getId()+ ".outboundConnector");
  outboundConnector.setAutoStartup(isAutoStartup());
  outboundConnector.setPhase(getPhase());
  outboundConnector.setLocalBrokerConfig(localBrokerConfig);
  outboundConnector.setRemoteBrokerConfig(remoteBridge.getRemoteBrokerConfig());
  if (remoteBridge.getOutboundDestinations() == null) {
    LOG.warn("Remote bridge " + remoteBridge + " does not specify outbound destinations"+ (outboundDestinations == null ? ", it is unidirectional!" : ", will load balance messages from default outbound destinations!"));
    outboundConnector.setOutboundDestinations(outboundDestinations);
  }
 else {
    outboundConnector.setOutboundDestinations(remoteBridge.getOutboundDestinations());
  }
  try {
    outboundConnector.afterPropertiesSet();
  }
 catch (  Exception e) {
    String msg="Error creating outbound connector for " + remoteBridge + " : "+ e.getMessage();
    LOG.error(msg,e);
    throw new IllegalArgumentException(msg,e);
  }
  return outboundConnector;
}
