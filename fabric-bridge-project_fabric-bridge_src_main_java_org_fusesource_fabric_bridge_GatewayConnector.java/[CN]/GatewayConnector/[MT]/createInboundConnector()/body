{
  inboundConnector=new TargetConnector();
  inboundConnector.setAutoStartup(isAutoStartup());
  inboundConnector.setPhase(getPhase());
  inboundConnector.setLocalBrokerConfig(localBrokerConfig);
  inboundConnector.setInboundDestinations(inboundDestinations);
  try {
    inboundConnector.afterPropertiesSet();
  }
 catch (  Exception e) {
    String msg="Error creating inbound connector: " + e.getMessage();
    LOG.error(msg,e);
    throw new IllegalArgumentException(msg,e);
  }
}
