{
  try {
    FabricValidations.validateProfileName(profileId);
  }
 catch (  IllegalArgumentException e) {
    System.out.println(e.getMessage());
    return null;
  }
  if (versionId != null) {
    profileService.getRequiredVersion(versionId);
  }
 else {
    versionId=fabricService.getDefaultVersionId();
  }
  Profile[] parents=FabricCommand.getExistingProfiles(fabricService,versionId,this.parents);
  ProfileBuilder builder=ProfileBuilder.Factory.create(versionId,profileId);
  for (  Profile parent : parents) {
    builder.addParent(parent.getId());
  }
  profileService.createProfile(builder.getProfile());
  return null;
}
