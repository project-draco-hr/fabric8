{
  ClassLoader oldTccl=Thread.currentThread().getContextClassLoader();
  try {
    Thread.currentThread().setContextClassLoader(getClass().getClassLoader());
    deleted(pid);
    JobConf conf=new JobConf();
    for (Enumeration e=properties.keys(); e.hasMoreElements(); ) {
      Object key=e.nextElement();
      Object val=properties.get(key);
      conf.set(key.toString(),val.toString());
    }
    JobTracker jobTracker=JobTracker.startTracker(conf);
    jobTracker.offerService();
    jobTrackers.put(pid,jobTracker);
    services.put(pid,bundleContext.registerService(JobTracker.class.getName(),jobTracker,properties));
  }
 catch (  Exception e) {
    throw (ConfigurationException)new ConfigurationException(null,"Unable to parse HDFS configuration: " + e.getMessage()).initCause(e);
  }
 finally {
    Thread.currentThread().setContextClassLoader(oldTccl);
  }
}
