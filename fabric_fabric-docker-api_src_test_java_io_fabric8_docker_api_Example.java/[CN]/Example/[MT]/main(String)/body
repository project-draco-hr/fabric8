{
  DockerFactory dockerFactory=new DockerFactory();
  if (args.length > 0) {
    dockerFactory.setAddress(args[0]);
  }
  System.out.println("Connecting to docker on: " + dockerFactory.getAddress());
  try {
    Docker docker=dockerFactory.createDocker();
    displayVersion(docker);
    displayInfo(docker);
    createImage(docker);
    displayPorts(docker);
    displayContainers(docker);
    displayImages(docker);
    String name="cheese";
    String newContainer=createContainer(docker,name);
    System.out.println("Working on new container id: " + newContainer);
    containerStart(docker,newContainer);
    inspectContainer(docker,newContainer);
    if (useTop) {
      containerTop(docker,newContainer);
    }
    containerChanges(docker,newContainer);
    if (pauseBeforeStopping) {
      System.out.println("Press enter to kill the container: ");
      try {
        System.in.read();
      }
 catch (      IOException e) {
      }
    }
    System.out.println("Now stopping the container");
    containerStop(docker,newContainer);
    if (killContainer) {
      Thread.sleep(2000);
      System.out.println("Now killing the container");
      containerKill(docker,newContainer);
    }
    deleteContainer(docker,newContainer);
    displayContainers(docker);
  }
 catch (  Exception e) {
    handleException(e);
  }
}
