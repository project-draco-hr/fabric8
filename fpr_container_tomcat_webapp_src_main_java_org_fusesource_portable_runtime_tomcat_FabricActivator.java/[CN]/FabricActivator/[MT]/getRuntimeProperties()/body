{
  Properties properties=new Properties();
  File catalinaWork=new File(catalinaHome.getPath() + File.separator + "work");
  File karafHome=new File(catalinaWork.getPath() + File.separator + "fabric");
  File karafData=new File(karafHome.getPath() + File.separator + "data");
  File profilesImport=new File(karafHome.getPath() + File.separator + "import");
  File storageDir=new File(karafData.getPath() + File.separator + Constants.RUNTIME_STORAGE_DEFAULT);
  properties.setProperty(Constants.RUNTIME_STORAGE_CLEAN,Constants.RUNTIME_STORAGE_CLEAN_ONFIRSTINIT);
  properties.setProperty(Constants.RUNTIME_STORAGE,storageDir.getAbsolutePath());
  properties.setProperty(Constants.RUNTIME_TYPE,"tomcat");
  properties.setProperty(CreateEnsembleOptions.ENSEMBLE_AUTOSTART,Boolean.TRUE.toString());
  properties.setProperty(CreateEnsembleOptions.PROFILES_AUTOIMPORT_PATH,profilesImport.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_HOME,karafHome.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_BASE,karafHome.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_DATA,karafData.getAbsolutePath());
  properties.setProperty(SystemProperties.KARAF_NAME,"root");
  return properties;
}
