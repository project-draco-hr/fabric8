{
  final ConnectionStateListener listener=bundleContext.getService(reference);
  if (listener != null) {
    if (curator.getZookeeperClient().isConnected()) {
      listener.stateChanged(curator,ConnectionState.CONNECTED);
    }
    curator.getConnectionStateListenable().addListener(listener,executor);
  }
  return listener;
}
