{
  try {
    DataByteArrayInputStream in=new DataByteArrayInputStream(body);
    if (in.available() > 0) {
      setPerformative((Frame)TypeReader.read(in));
    }
 else {
      setPerformative(NoPerformative.INSTANCE);
    }
    if (in.available() > 0) {
      Buffer payload=new Buffer(in.available());
      payload.readFrom((DataInput)in);
      setPayload(payload);
    }
 else {
      setPayload(EMPTY);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Error creating frame from buffer : " + e.getMessage());
  }
}
