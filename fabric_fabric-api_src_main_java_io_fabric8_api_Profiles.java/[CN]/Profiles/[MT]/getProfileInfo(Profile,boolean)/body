{
  IllegalArgumentAssertion.assertNotNull(profile,"profile");
  StringBuilder builder=new StringBuilder("Profile[ver=" + profile.getVersion() + ",id="+ profile.getId()+ "]");
  builder.append("\nAttributes");
  Map<String,String> attributes=new TreeMap<>(profile.getAttributes());
  for (  Entry<String,String> entry : attributes.entrySet()) {
    builder.append("\n  " + entry.getKey() + " = "+ entry.getValue());
  }
  builder.append("\nConfigurations");
  for (  String pid : new TreeSet<>(profile.getConfigurations().keySet())) {
    builder.append("\n  " + pid);
    Map<String,String> config=new TreeMap<>(profile.getConfiguration(pid));
    for (    Entry<String,String> citem : config.entrySet()) {
      builder.append("\n    " + citem.getKey() + " = "+ citem.getValue());
    }
  }
  builder.append("\nFiles");
  for (  String fileKey : new TreeSet<>(profile.getFileConfigurations().keySet())) {
    if (!fileKey.endsWith(Profile.PROPERTIES_SUFFIX)) {
      builder.append("\n  " + fileKey);
    }
  }
  if (parents) {
    appendParentProfiles(builder,profile,new HashSet<String>());
  }
  return builder.toString();
}
