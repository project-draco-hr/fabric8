{
  Archetypes archetypes=new Archetypes();
  archetypes.add(new Archetype("foo","bar","1.1","Some description"));
  archetypes.add(new Archetype("xyz","whatever","2.3","Docs..."));
  StringWriter buffer=new StringWriter();
  Archetypes.newMarshaller().marshal(archetypes,buffer);
  System.out.println("Generated XML: " + buffer);
  Object result=Archetypes.newUnmarshaller().unmarshal(new StringReader(buffer.toString()));
  if (result instanceof Archetypes) {
    assertEquals(2,((Archetypes)result).archetypes.size());
    for (    Archetype a : ((Archetypes)result).archetypes) {
      System.out.println(a);
    }
  }
 else {
    fail("Found " + result.getClass().getName() + " when expected an "+ Archetypes.class.getName());
  }
}
