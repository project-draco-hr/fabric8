{
  List<Requirement> reqList=new ArrayList<Requirement>();
  for (  ParsedHeaderClause clause : clauses) {
    for (    String path : clause.paths) {
      Map<String,Object> attrs=clause.attrs;
      Map<String,Object> newAttrs=new LinkedHashMap<String,Object>(attrs.size() + 1);
      newAttrs.put(BundleRevision.BUNDLE_NAMESPACE,path);
      newAttrs.putAll(attrs);
      newAttrs.put(BundleRevision.BUNDLE_NAMESPACE,path);
      FilterImpl sf=FilterImpl.convert(newAttrs);
      Map<String,String> dirs=clause.dirs;
      Map<String,String> newDirs=new HashMap<String,String>(dirs.size() + 1);
      newDirs.putAll(dirs);
      newDirs.put(Constants.FILTER_DIRECTIVE,sf.toString());
      reqList.add(new RequirementImpl(resource,BundleRevision.BUNDLE_NAMESPACE,newDirs,newAttrs));
    }
  }
  return reqList;
}
