{
  List<ParsedHeaderClause> clauses=parseStandardHeader(headerMap.get(Constants.BUNDLE_SYMBOLICNAME));
  if (clauses.size() > 0) {
    if (clauses.size() > 1 || clauses.get(0).paths.size() > 1) {
      throw new BundleException("Cannot have multiple symbolic names: " + headerMap.get(Constants.BUNDLE_SYMBOLICNAME));
    }
    Version bundleVersion=Version.emptyVersion;
    if (headerMap.get(Constants.BUNDLE_VERSION) != null) {
      bundleVersion=Version.parseVersion(headerMap.get(Constants.BUNDLE_VERSION));
    }
    ParsedHeaderClause clause=clauses.get(0);
    String symName=clause.paths.get(0);
    clause.attrs.put(BundleRevision.BUNDLE_NAMESPACE,symName);
    clause.attrs.put(Constants.BUNDLE_VERSION_ATTRIBUTE,bundleVersion);
    return clause;
  }
  return null;
}
