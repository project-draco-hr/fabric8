{
  List<Profile> list=new ArrayList<Profile>();
  for (  String parentProfileId : parentProfileIds) {
    if (!Strings.isNullOrBlank(parentProfileId)) {
      Profile parentProfile=null;
      if (version.hasProfile(parentProfileId)) {
        parentProfile=version.getProfile(parentProfileId);
      }
      if (parentProfile != null) {
        list.add(parentProfile);
      }
 else {
        LOG.warn("Could not find parent profile: " + parentProfileId + " in version "+ version.getId());
      }
    }
  }
  Profile[] parents=list.toArray(new Profile[list.size()]);
  profile.setParents(parents);
}
