{
  AddonRegistry addonRegistry=furnace.getAddonRegistry();
  Imported<ResourceFactory> resourceFactoryImport=addonRegistry.getServices(ResourceFactory.class);
  ResourceFactory resourceFactory=null;
  try {
    resourceFactory=resourceFactoryImport.get();
  }
 catch (  Exception e) {
    LOG.warn("Failed to get ResourceFactory injected: " + e,e);
  }
  if (resourceFactory == null) {
    resourceFactory=resourceFactoryImport.get();
  }
  return resourceFactory;
}
