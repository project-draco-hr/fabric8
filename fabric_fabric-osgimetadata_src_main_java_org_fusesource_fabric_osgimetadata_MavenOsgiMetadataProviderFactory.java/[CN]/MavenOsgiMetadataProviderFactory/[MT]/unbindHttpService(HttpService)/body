{
  if (isDestroyed()) {
    return;
  }
  try {
    execute(new Runnable(){
      @Override public void run(){
        for (        Pair<AliasedProvider,ServiceRegistration> service : getServices().values()) {
          AliasedProvider provider=service.getFirst();
          doUnregister(provider);
        }
      }
    }
).get();
  }
  finally {
    this.httpService=null;
  }
}
