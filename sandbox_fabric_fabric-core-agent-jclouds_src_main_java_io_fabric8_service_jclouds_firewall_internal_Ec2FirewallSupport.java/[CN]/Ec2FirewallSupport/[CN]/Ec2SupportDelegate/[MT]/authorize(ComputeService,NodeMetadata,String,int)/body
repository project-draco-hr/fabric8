{
  String region=AWSUtils.parseHandle(node.getId())[0];
  EC2Api ec2Api=service.getContext().unwrapApi(EC2Api.class);
  String groupName="jclouds#" + node.getGroup();
  for (  int port : ports) {
    try {
      ec2Api.getSecurityGroupApi().get().authorizeSecurityGroupIngressInRegion(region,groupName,IpProtocol.TCP,port,port,source);
    }
 catch (    IllegalStateException e) {
    }
  }
}
