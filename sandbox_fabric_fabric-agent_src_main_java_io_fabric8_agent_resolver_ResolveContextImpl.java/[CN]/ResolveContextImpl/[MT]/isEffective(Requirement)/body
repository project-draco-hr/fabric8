{
  return resolveOptional || !Constants.RESOLUTION_OPTIONAL.equals(requirement.getDirectives().get(Constants.RESOLUTION_DIRECTIVE)) || IdentityNamespace.IDENTITY_NAMESPACE.equals(requirement.getNamespace()) && FeatureNamespace.TYPE_FEATURE.equals(requirement.getAttributes().get(IdentityNamespace.CAPABILITY_TYPE_ATTRIBUTE));
}
