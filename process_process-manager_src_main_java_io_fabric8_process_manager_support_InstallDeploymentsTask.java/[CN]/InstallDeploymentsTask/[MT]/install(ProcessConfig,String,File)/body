{
  File baseDir=ProcessUtils.findInstallDir(installDir);
  String sharedLibraryPath=config.getSharedLibraryPath();
  String deployPath=config.getDeployPath();
  File sharedLibDir=new File(baseDir,sharedLibraryPath);
  File deployDir=new File(baseDir,deployPath);
  sharedLibDir.mkdirs();
  deployDir.mkdirs();
  SortedSet<String> sharedLibraries=new TreeSet<String>();
  SortedSet<String> deployments=new TreeSet<String>();
  Set<Map.Entry<String,File>> entries=javaArtifacts.entrySet();
  for (  Map.Entry<String,File> entry : entries) {
    String uri=entry.getKey();
    File file=entry.getValue();
    String fileName=file.getName();
    File destDir;
    if (fileName.endsWith(".jar")) {
      destDir=sharedLibDir;
      sharedLibraries.add(fileName);
    }
 else {
      destDir=deployDir;
      deployments.add(fileName);
    }
    File destFile=new File(destDir,fileName);
    Files.copy(file,destFile);
  }
  LOG.info("Deployed " + deployments.size() + " deployment(s)");
  for (  String deployment : deployments) {
    LOG.info("   deployed: " + deployment);
  }
  LOG.info("Installed " + sharedLibraries.size() + " shared jar(s)");
  for (  String sharedLib : sharedLibraries) {
    LOG.info("   jar: " + sharedLib);
  }
}
