{
  file.getParentFile().mkdirs();
  PrintWriter writer=new PrintWriter(new FileWriter(file));
  try {
    String profileId=requirements.getProfileId();
    writer.write("profile-create");
    List<String> parentProfiles=notNullList(requirements.getParentProfiles());
    for (    String parentProfile : parentProfiles) {
      writer.write(" --parents ");
      writer.write(parentProfile);
    }
    writer.write(" ");
    writer.println(profileId);
    List<String> bundles=notNullList(requirements.getBundles());
    List<String> features=notNullList(requirements.getFeatures());
    List<String> repos=notNullList(requirements.getFeatureRepositories());
    for (    String bundle : bundles) {
      if (Strings.isNotBlank(bundle)) {
        writer.println("profile-edit --bundles " + bundle);
      }
    }
    for (    String feature : features) {
      if (Strings.isNotBlank(feature)) {
        writer.println("profile-edit --features " + feature);
      }
    }
    for (    String repo : repos) {
      if (Strings.isNotBlank(repo)) {
        writer.println("profile-edit --repositories " + repo);
      }
    }
  }
  finally {
    try {
      writer.close();
    }
 catch (    Exception e) {
    }
  }
}
