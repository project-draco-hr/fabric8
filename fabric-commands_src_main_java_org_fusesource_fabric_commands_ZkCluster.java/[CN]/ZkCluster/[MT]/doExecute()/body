{
  if (agents == null || agents.isEmpty()) {
    List<String> cluster=service.getClusterAgents();
    if (cluster == null || cluster.isEmpty()) {
      throw new IllegalStateException("No ZooKeeper server set up.  Use \"fabric:zk-cluster " + System.getProperty("karaf.name") + "\" to set up one.");
    }
 else {
      System.out.println("ZooKeeper agents: ");
      for (      String agent : service.getClusterAgents()) {
        System.out.println("  " + agent);
      }
    }
  }
 else   if (add) {
    service.addToCluster(agents);
  }
 else   if (remove) {
    service.removeFromCluster(agents);
  }
 else {
    service.createCluster(agents);
  }
  return null;
}
