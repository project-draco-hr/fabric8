{
  Assume.assumeTrue(Boolean.valueOf(System.getProperty("hasFabric")));
  final String version="1.0";
  final String profile="hawtio";
  final String pid="org.fusesource.fabric.agent.properties";
  final String key="feature.fabric-hawtio";
  final String origVal="fabric-hawtio";
  final String testVal="test1";
  FabricService service=getFabricService();
  String val=service.getConfigurationValue(version,profile,pid,key);
  System.out.println("Original Value: " + val);
  Assume.assumeNotNull(val);
  Assume.assumeTrue(origVal.equals(val));
  service.setConfigurationValue(version,profile,pid,key,testVal);
  String val2=service.getConfigurationValue(version,profile,pid,key);
  System.out.println("New Value: " + val2);
  Assume.assumeNotNull(val2);
  Assume.assumeTrue(testVal.equals(val2));
  service.setConfigurationValue(version,profile,pid,key,origVal);
  val2=service.getConfigurationValue(version,profile,pid,key);
  System.out.println("Restored Value: " + val2);
  Assume.assumeNotNull(val2);
  Assume.assumeTrue(origVal.equals(val2));
}
