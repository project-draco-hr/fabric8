{
  getZooKeeper().deleteWithChildren(ZkPath.CLOUD_PROVIDER.getPath(provider));
  Container current=fabricService.getCurrentContainer();
  if (!current.isManaged()) {
    Configuration[] computeConfigs=findConfigurationByFactoryPid("org.jclouds.compute");
    for (    Configuration configuration : computeConfigs) {
      configuration.delete();
    }
  }
  return null;
}
