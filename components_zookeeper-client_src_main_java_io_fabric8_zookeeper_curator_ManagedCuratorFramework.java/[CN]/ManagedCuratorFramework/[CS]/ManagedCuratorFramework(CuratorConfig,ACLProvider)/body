{
  this.config=config;
  this.aclProvider=aclProvider;
  if (!Strings.isNullOrEmpty(config.getZookeeperUrl())) {
    State next=new State(config);
    if (state.compareAndSet(null,next)) {
      executor.submit(next);
    }
  }
}
