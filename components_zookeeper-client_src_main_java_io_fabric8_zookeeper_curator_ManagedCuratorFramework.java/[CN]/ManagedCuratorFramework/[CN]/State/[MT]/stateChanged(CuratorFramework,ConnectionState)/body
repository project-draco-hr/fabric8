{
  for (  ConnectionStateListener listener : connectionStateListeners) {
    listener.stateChanged(client,newState);
  }
  if (newState == ConnectionState.LOST) {
    run();
  }
}
