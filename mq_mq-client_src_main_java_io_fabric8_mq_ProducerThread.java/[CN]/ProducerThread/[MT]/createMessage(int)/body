{
  Message message=null;
  if (payload != null) {
    message=service.createBytesMessage(payload);
  }
 else {
    if (textMessageSize == null) {
      message=service.createTextMessage("test message: " + i);
    }
 else {
      if (sizeTypes.contains(textMessageSize)) {
        if (textMessageSize.equals("100b")) {
          message=service.createTextMessage(i + "::" + dummy100bMessage());
        }
 else         if (textMessageSize.equals("1K")) {
          message=service.createTextMessage(i + "::" + dummy1KMessage());
        }
 else         if (textMessageSize.equals("10K")) {
          message=service.createTextMessage(i + "::" + dummy10KMessage());
        }
      }
 else {
        LOG.info(Thread.currentThread().getName() + "Type size unknown : " + textMessageSize+ ", we will use a text message of 100b");
        message=service.createTextMessage(i + "::" + dummy100bMessage());
      }
    }
  }
  return message;
}
