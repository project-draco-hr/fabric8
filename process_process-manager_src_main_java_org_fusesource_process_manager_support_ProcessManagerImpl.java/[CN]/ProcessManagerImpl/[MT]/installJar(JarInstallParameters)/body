{
  InstallScript installScript=new InstallScript(){
    @Override public void doInstall(    ProcessConfig config,    int id,    File installDir) throws Exception {
      String name=parameters.getGroupId() + ":" + parameters.getArtifactId();
      String version=parameters.getVersion();
      if (!Strings.isNullOrEmpty(version)) {
        name+=":" + version;
      }
      config.setName(name);
      String resourceName="process-launcher.tar.gz";
      final InputStream in=getClass().getClassLoader().getResourceAsStream(resourceName);
      Preconditions.checkNotNull(in,"Could not find " + resourceName + " on the file system");
      File tmpFile=File.createTempFile("process-launcher",".tar.gz");
      Files.copy(new InputSupplier<InputStream>(){
        @Override public InputStream getInput() throws IOException {
          return in;
        }
      }
,tmpFile);
      FileUtils.extractTar(tmpFile,installDir,untarTimeout,executor);
      File etc=new File(installDir,"etc");
      etc.mkdirs();
      Files.write("",new File(etc,"config.properties"),Charsets.UTF_8);
      Files.write("",new File(etc,"jvm.config"),Charsets.UTF_8);
      JarInstaller installer=new JarInstaller();
      installer.unpackJarProcess(config,id,installDir,parameters);
    }
  }
;
  return installViaScript(parameters.getControllerJson(),installScript);
}
