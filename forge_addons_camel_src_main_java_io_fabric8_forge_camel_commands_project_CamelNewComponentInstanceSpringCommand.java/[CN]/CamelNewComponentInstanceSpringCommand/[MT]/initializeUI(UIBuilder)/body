{
  Project project=getSelectedProject(builder.getUIContext());
  final JavaSourceFacet facet=project.getFacet(JavaSourceFacet.class);
  componentNameFilter.setValueChoices(CamelCommandsHelper.createComponentLabelValues(project));
  componentNameFilter.setDefaultValue("<all>");
  componentName.setValueChoices(CamelCommandsHelper.createComponentDtoValues(project,componentNameFilter,false));
  componentName.setValueConverter(new Converter<String,ComponentDto>(){
    @Override public ComponentDto convert(    String name){
      return createComponentDto(name);
    }
  }
);
  componentName.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChanged(    ValueChangeEvent event){
      String component=event.getNewValue() != null ? event.getNewValue().toString() : null;
      if (component != null) {
        String description=CamelCatalogHelper.getComponentDescription(component);
        componentName.setNote(description != null ? description : "");
      }
 else {
        componentName.setNote("");
      }
    }
  }
);
  targetPackage.setCompleter(new PackageNameCompleter(facet));
  targetPackage.addValidator(new PackageNameValidator());
  targetPackage.getFacet(HintsFacet.class).setInputType(InputType.JAVA_PACKAGE_PICKER);
  className.addValidator(new ClassNameValidator(false));
  className.setDefaultValue(new Callable<String>(){
    @Override public String call() throws Exception {
      return getDefaultProducerClassName();
    }
  }
);
  className.getFacet(HintsFacet.class).setInputType(InputType.JAVA_CLASS_PICKER);
  builder.add(componentNameFilter).add(componentName).add(instanceName).add(targetPackage).add(className);
}
