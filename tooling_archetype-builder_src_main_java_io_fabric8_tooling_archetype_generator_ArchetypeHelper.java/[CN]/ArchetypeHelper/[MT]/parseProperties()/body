{
  final Map<String,String> replaceProperties=new HashMap<String,String>();
  ZipFile zip=null;
  try {
    zip=new ZipFile(archetypeFile);
    ZipEntry entry=zip.getEntry("META-INF/maven/archetype-metadata.xml");
    if (entry != null) {
      try (InputStream inputStream=zip.getInputStream(entry)){
        parseReplaceProperties(inputStream,replaceProperties);
      }
     }
  }
 catch (  Exception e) {
    throw new IOException(e.getMessage(),e);
  }
 finally {
    if (zip != null) {
      zip.close();
    }
  }
  return replaceProperties;
}
