{
  DBObject filter=new BasicDBObject();
  filter.put("_id",ev.getBreadCrumbId());
  DBObject toApply=new BasicDBObject();
  toApply.put("$push",new BasicDBObject("exchanges",new BasicDBObject()));
  DBObject exchangeToPush=(BasicDBObject)((BasicDBObject)toApply.get("$push")).get("exchanges");
  exchangeToPush.put("endpointUri",ev.getEndpointURI());
  exchangeToPush.put("startTimestamp",ev.getTimestamp());
  exchangeToPush.put("status","in_progress");
  exchangeToPush.put("exchangeId",ev.getEvent().getExchange().getExchangeId());
  exchangeToPush.put("exchangePattern",ev.getEvent().getExchange().getPattern().toString());
  exchangeToPush.put("dispatchId",ev.getEvent().getExchange().getProperty(AuditConstants.DISPATCH_ID,String.class));
  addCurrentRouteIdIfNeeded(ev,exchangeToPush);
  try {
    exchangeToPush.put("in",convertPayload(ev.getExchange().getIn().getBody(),ev.getExchange()));
  }
 catch (  Exception e) {
  }
  collectionFor(ev).update(filter,toApply);
}
