{
  Element plugin=getOrCreatePlugin(plugins,"maven-dependency-plugin","2.8");
  Element executions=getOrCreateChild(plugin,"executions",6);
  List<Parser> warArtifacts=new ArrayList<Parser>();
  List<Parser> jarArtifacts=new ArrayList<Parser>();
  for (  Parser artifact : artifacts) {
    String type=artifact.getType();
    if (Objects.equal("war",type)) {
      warArtifacts.add(artifact);
    }
 else {
      jarArtifacts.add(artifact);
    }
  }
  if (Strings.isNotBlank(webAppDir) && !warArtifacts.isEmpty()) {
    recreateDependencyExecution(executions,dependencies,"fuse-fabric-deploy-webapps",webAppDir,warArtifacts,true);
  }
  if (Strings.isNotBlank(deployDir) && !jarArtifacts.isEmpty()) {
    recreateDependencyExecution(executions,dependencies,"fuse-fabric-deploy-shared",deployDir,jarArtifacts,false);
  }
}
