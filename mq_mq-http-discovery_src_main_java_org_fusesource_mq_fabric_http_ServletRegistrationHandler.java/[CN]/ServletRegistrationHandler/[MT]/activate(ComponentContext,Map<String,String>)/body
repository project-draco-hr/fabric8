{
  activateComponent();
  try {
    FabricDiscoveryServlet discoveryServlet=new FabricDiscoveryServlet();
    discoveryServlet.setCurator(curator.get());
    HttpContext base=httpService.get().createDefaultHttpContext();
    httpService.get().registerServlet("/mq-discovery",discoveryServlet,createParams("mq-discovery"),base);
  }
 catch (  Throwable t) {
    deactivateComponent();
    LOGGER.warn("Failed to register fabric maven proxy servlets, due to:" + t.getMessage());
  }
}
