{
  ArrayList<String> list=new ArrayList<String>();
  if (regex != null) {
    for (    String r : regex) {
      list.add(r);
    }
  }
  if (versions != null && profiles != null) {
    for (    String v : versions) {
      for (      String p : profiles) {
        list.add(String.format(VERSION_PROFILE_REGEX_FORMAT,v,p));
      }
    }
  }
 else   if (versions != null) {
    for (    String v : versions) {
      list.add(String.format(VERSION_REGEX_FORMAT,v));
    }
  }
 else   if (profiles != null) {
    for (    String p : profiles) {
      list.add(String.format(PROFILE_REGEX_FORMAT,p));
    }
  }
  if (file.exists() && file.isFile()) {
    BufferedReader reader=null;
    try {
      reader=new BufferedReader(new FileReader(file));
      String s=reader.readLine();
      while (s != null) {
        list.add(s);
        s=reader.readLine();
      }
    }
 catch (    Exception e) {
      throw new RuntimeException("Error reading from " + file + " : "+ e);
    }
 finally {
      Closeables.closeQuitely(reader);
    }
  }
  String rc[]=new String[list.size()];
  list.toArray(rc);
  return rc;
}
