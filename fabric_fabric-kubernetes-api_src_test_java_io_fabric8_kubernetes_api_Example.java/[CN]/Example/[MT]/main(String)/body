{
  KubernetesFactory kubeFactory=new KubernetesFactory();
  if (args.length > 0) {
    kubeFactory.setAddress(args[0]);
  }
  System.out.println("Connecting to kubernetes on: " + kubeFactory.getAddress());
  try {
    Kubernetes kube=kubeFactory.createKubernetes();
    System.out.println("Looking up pods");
    PodListSchema pods=kube.getPods();
    System.out.println("Got pods: " + pods);
    List<PodSchema> items=pods.getItems();
    for (    PodSchema item : items) {
      System.out.println("PodSchema " + item.getId() + " created: "+ item.getCreationTimestamp());
      DesiredState desiredState=item.getDesiredState();
      if (desiredState != null) {
        ManifestSchema manifest=desiredState.getManifest();
        if (manifest != null) {
          List<ManifestContainer> containers=manifest.getContainers();
          for (          ManifestContainer container : containers) {
            System.out.println("Container " + container.getImage() + " "+ container.getCommand()+ " ports: "+ container.getPorts());
          }
        }
      }
    }
  }
 catch (  Exception e) {
    System.out.println("FAILED: " + e);
    e.printStackTrace();
  }
}
