{
  this.profileId=profileId;
  this.versionId=versionId;
  this.lastModified=lastModified;
  this.isOverlay=isOverlay;
  this.fileConfigurations.putAll(fileConfigurations);
  for (  Profile parent : parents) {
    this.parents.put(parent.getId(),parent);
  }
  Map<String,String> agentConfig=configs.get(Constants.AGENT_PID);
  if (agentConfig != null) {
    int prefixLength=Profile.ATTRIBUTE_PREFIX.length();
    for (    Entry<String,String> entry : agentConfig.entrySet()) {
      String key=entry.getKey();
      if (key.startsWith(Profile.ATTRIBUTE_PREFIX)) {
        attributes.put(key.substring(prefixLength),entry.getValue());
      }
    }
  }
  for (  Entry<String,Map<String,String>> entry : configs.entrySet()) {
    String pid=entry.getKey();
    Map<String,String> value=new HashMap<>(entry.getValue());
    configurations.put(pid,Collections.unmodifiableMap(value));
  }
}
