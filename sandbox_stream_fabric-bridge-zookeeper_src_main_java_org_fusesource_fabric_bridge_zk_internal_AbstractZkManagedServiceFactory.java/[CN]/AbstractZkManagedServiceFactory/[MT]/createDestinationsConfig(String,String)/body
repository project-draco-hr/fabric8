{
  ZkBridgeDestinationsConfigFactory factory=new ZkBridgeDestinationsConfigFactory();
  factory.setFabricService(fabricService);
  factory.setId(destinationsRef);
  try {
    BridgeDestinationsConfig destinationsConfig=factory.getObject();
    if (LOG.isDebugEnabled()) {
      LOG.debug("Found [" + pid + "."+ destinationsRef+ "]: "+ destinationsConfig);
    }
    DispatchPolicy dispatchPolicy=destinationsConfig.getDispatchPolicy();
    resolveDispatchPolicyRefs(pid,dispatchPolicy);
    for (    BridgedDestination destination : destinationsConfig.getDestinations()) {
      if (destination.getDispatchPolicy() != null) {
        resolveDispatchPolicyRefs(pid,destination.getDispatchPolicy());
      }
    }
    return destinationsConfig;
  }
 catch (  Exception e) {
    String msg="Error getting destinations for " + pid + "."+ destinationsRef+ " : "+ e.getMessage();
    LOG.error(msg,e);
    throw new ConfigurationException(destinationsRef,msg,e);
  }
}
