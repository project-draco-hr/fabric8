{
  createAgentConfig(parent.getId(),name);
  AgentTemplate agentTemplate=getAgentTemplate(parent);
  if (agentTemplate.execute(new AgentTemplate.FabricServiceCallback<Boolean>(){
    public Boolean doWithFabricService(    FabricServiceImplMBean fabricService) throws Exception {
      return fabricService.createRemoteAgent(args,name);
    }
  }
)) {
    return new AgentImpl(null,name,FabricServiceImpl.this);
  }
 else {
    return null;
  }
}
