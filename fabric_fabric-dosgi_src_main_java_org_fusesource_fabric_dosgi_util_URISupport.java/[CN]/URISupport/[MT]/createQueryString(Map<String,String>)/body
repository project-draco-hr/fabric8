{
  try {
    if (options.size() > 0) {
      StringBuffer rc=new StringBuffer();
      boolean first=true;
      for (      Map.Entry<String,String> entry : options.entrySet()) {
        if (first) {
          first=false;
        }
 else {
          rc.append("&");
        }
        String key=entry.getKey();
        String value=entry.getValue();
        rc.append(URLEncoder.encode(key,"UTF-8"));
        rc.append("=");
        rc.append(URLEncoder.encode(value,"UTF-8"));
      }
      return rc.toString();
    }
 else {
      return "";
    }
  }
 catch (  UnsupportedEncodingException e) {
    throw (URISyntaxException)new URISyntaxException(e.toString(),"Invalid encoding").initCause(e);
  }
}
