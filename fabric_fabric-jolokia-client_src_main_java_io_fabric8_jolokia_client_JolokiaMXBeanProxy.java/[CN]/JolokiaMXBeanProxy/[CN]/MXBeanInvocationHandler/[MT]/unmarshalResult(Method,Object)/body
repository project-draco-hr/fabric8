{
  if (value == null)   return null;
  OpenType<?> openType=null;
  if (isGetter(method)) {
    String attname=getAttributeName(method);
    MBeanAttributeInfo attInfo=attributes.get(attname);
    if (attInfo instanceof OpenMBeanAttributeInfo) {
      openType=((OpenMBeanAttributeInfo)attInfo).getOpenType();
    }
  }
 else {
    MBeanOperationInfo opinfo=getOperationInfo(method);
    if (opinfo instanceof OpenMBeanOperationInfo) {
      openType=((OpenMBeanOperationInfo)opinfo).getReturnOpenType();
    }
  }
  if (value instanceof JSONAware) {
    value=JSONTypeGenerator.toOpenData(openType,classLoader,(JSONAware)value);
  }
  if (openType != null) {
    value=OpenTypeGenerator.fromOpenData(openType,classLoader,value);
  }
  return OpenTypeGenerator.toTargetType(method.getReturnType(),value);
}
