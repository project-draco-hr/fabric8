{
  List<DependencyTree> sharedDependencies=resolver.getSharedDependencies();
  List<Bundle> bundles=new ArrayList<Bundle>();
  for (  DependencyTree dependency : sharedDependencies) {
    addBundlesForDependency(dependency,bundles);
  }
  bundles.add(bundle);
  Set<Bundle> bundleSet=new HashSet<Bundle>(bundles);
  for (  Bundle b : bundles) {
    if (!bundleUsedByOtherBundles(b,bundleSet)) {
      processBundle(b);
    }
  }
}
