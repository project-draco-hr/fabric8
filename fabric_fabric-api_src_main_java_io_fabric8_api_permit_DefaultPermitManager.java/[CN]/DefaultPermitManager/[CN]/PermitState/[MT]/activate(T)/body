{
  boolean nowactive=active.compareAndSet(false,true);
  IllegalStateAssertion.assertTrue(nowactive,"Cannot activate an already active state");
  LOGGER.debug("activating: {}",key);
  activeInstance.set(instance);
  semaphore.release(1);
}
