{
  String cxfBus=null;
  try {
    Object value=mBeanServer.getAttribute(oName,"ServletContext");
    if (value instanceof String) {
      cxfBus=(String)value;
    }
  }
 catch (  Exception e) {
    LOGGER.warn("Failed to get CxfServlet attribute on " + oName + ". "+ e,e);
  }
  if (Strings.isNullOrBlank(cxfBus)) {
    try {
      ConfigurationAdmin admin=getConfigAdmin();
      if (admin != null) {
        Configuration configuration=admin.getConfiguration("org.apache.cxf.osgi");
        if (configuration != null) {
          Dictionary<String,Object> properties=configuration.getProperties();
          if (properties != null) {
            Object value=properties.get("org.apache.cxf.servlet.context");
            if (value != null) {
              cxfBus=value.toString();
            }
          }
        }
      }
    }
 catch (    Exception e) {
      LOGGER.warn("Failed to lookup the cxf servlet path. " + e,e);
    }
  }
  if (Strings.isNullOrBlank(cxfBus)) {
    cxfBus="/cxf";
    LOGGER.warn("Could not find the CXF servlet path in config admin so using a default value: " + cxfBus);
  }
 else {
    LOGGER.info("Found CXF servlet path from config admin: " + cxfBus);
  }
  return cxfBus;
}
