{
  if (map.containsKey(ENVIRONMENT_CONFIG_URL)) {
    return new URL(map.get(ENVIRONMENT_CONFIG_URL));
  }
 else   if (map.containsKey(ENVIRONMENT_CONFIG_RESOURCE_NAME)) {
    String resourceName=map.get(ENVIRONMENT_CONFIG_RESOURCE_NAME);
    return resourceName.startsWith("/") ? Configuration.class.getResource(resourceName) : Configuration.class.getResource("/" + resourceName);
  }
 else   if (Strings.isNotBlank(Utils.getSystemPropertyOrEnvVar(ENVIRONMENT_CONFIG_URL,""))) {
    return new URL(Utils.getSystemPropertyOrEnvVar(ENVIRONMENT_CONFIG_URL,""));
  }
 else {
    String resourceName=Utils.getSystemPropertyOrEnvVar(ENVIRONMENT_CONFIG_RESOURCE_NAME,"/" + DEFAULT_CONFIG_FILE_NAME);
    return resourceName.startsWith("/") ? Configuration.class.getResource(resourceName) : Configuration.class.getResource("/" + resourceName);
  }
}
