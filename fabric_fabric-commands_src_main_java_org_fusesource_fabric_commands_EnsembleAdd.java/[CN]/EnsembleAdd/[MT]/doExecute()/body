{
  checkFabricAvailable();
  validateContainersName(containers);
  if (checkIfShouldModify(session,force)) {
    if (containers != null && !containers.isEmpty()) {
      StringBuilder builder=new StringBuilder();
      builder.append("Adding containers:");
      for (      String container : containers) {
        builder.append(" ").append(container);
      }
      builder.append(" to the ensemble. This may take a while.");
      System.out.println(builder.toString());
      if (generateZookeeperPassword) {
        CreateEnsembleOptions options=CreateEnsembleOptions.builder().build();
        service.addToCluster(containers,options);
      }
 else       if (zookeeperPassword == null || zookeeperPassword.isEmpty()) {
        service.addToCluster(containers);
      }
 else {
        CreateEnsembleOptions options=CreateEnsembleOptions.builder().zookeeperPassword(zookeeperPassword).migrationTimeout(migrationTimeout).build();
        service.addToCluster(containers,options);
      }
    }
    System.out.println("Updated Zookeeper connection string: " + service.getZooKeeperUrl());
  }
  return null;
}
