{
  checkFabricAvailable();
  validateContainersName(containers);
  if (checkIfShouldModify(session,force)) {
    if (containers != null && !containers.isEmpty()) {
      StringBuilder sb=new StringBuilder();
      sb.append("Adding containers:");
      for (      String container : containers) {
        sb.append(" ").append(container);
      }
      sb.append(" to the ensemble. This may take a while.");
      CreateEnsembleOptions.Builder builder=CreateEnsembleOptions.builder();
      applyEnsembleConfiguration();
      builder=builder.zooKeeperServerTickTime(zooKeeperTickTime).zooKeeperServerInitLimit(zooKeeperInitLimit).zooKeeperServerSyncLimit(zooKeeperSyncLimit).zooKeeperServerDataDir(zooKeeperDataDir).migrationTimeout(migrationTimeout);
      if (generateZookeeperPassword) {
      }
 else       if (zookeeperPassword == null || zookeeperPassword.isEmpty()) {
        builder=builder.zookeeperPassword(service.getZookeeperPassword());
      }
 else {
        builder=builder.zookeeperPassword(zookeeperPassword);
      }
      service.addToCluster(containers,builder.build());
      System.out.println("Updated Zookeeper connection string: " + service.getZooKeeperUrl());
    }
  }
  return null;
}
