{
  Map<String,Profile> profiles=new HashMap<String,Profile>();
  Map<String,List<Profile>> extensions=new HashMap<String,List<Profile>>();
  for (  String profileName : children) {
    if (!profiles.containsKey(profileName)) {
      profiles.put(profileName,createProfile(profiles,extensions,profileName));
    }
  }
  for (  Map.Entry<String,List<Profile>> entry : extensions.entrySet()) {
    String key=entry.getKey();
    List<Profile> value=entry.getValue();
    if (profiles.containsKey(key)) {
      profiles.get(key).setExtensions(value.toArray(new Profile[value.size()]));
    }
  }
  return profiles;
}
