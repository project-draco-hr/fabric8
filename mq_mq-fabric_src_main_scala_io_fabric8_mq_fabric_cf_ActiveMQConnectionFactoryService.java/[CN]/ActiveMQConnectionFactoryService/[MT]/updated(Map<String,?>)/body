{
  String group=Maps.stringValue(properties,"group","default");
  String brokerUrl=Maps.stringValue(properties,"brokerUrl");
  if (brokerUrl == null) {
    brokerUrl="discovery:(fabric:" + group + ")";
  }
  setBrokerURL(brokerUrl);
  String user=Maps.stringValue(properties,"user",(fabricService != null ? fabricService.getZooKeeperUser() : "admin"));
  String password=Maps.stringValue(properties,"password",(fabricService != null ? fabricService.getZookeeperPassword() : "admin"));
  setUserName(user);
  setPassword(password);
  LOG.info("Configuring " + this + " with brokerUrl: "+ brokerUrl+ " and user: "+ user);
}
