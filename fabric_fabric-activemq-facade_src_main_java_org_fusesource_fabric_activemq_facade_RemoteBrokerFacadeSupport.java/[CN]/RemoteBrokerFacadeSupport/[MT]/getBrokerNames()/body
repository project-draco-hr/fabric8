{
  MBeanServerConnection connection=getMBeanServerConnection();
  ObjectName names=new ObjectName("org.apache.activemq:type=Broker,brokerName=*");
  Set<String> rc=new HashSet<String>();
  Set<ObjectName> objectNames=connection.queryNames(names,null);
  for (  ObjectName name : objectNames) {
    String bn=name.getKeyProperty("brokerName");
    if (bn != null) {
      rc.add(bn);
    }
  }
  return rc.toArray(new String[rc.size()]);
}
