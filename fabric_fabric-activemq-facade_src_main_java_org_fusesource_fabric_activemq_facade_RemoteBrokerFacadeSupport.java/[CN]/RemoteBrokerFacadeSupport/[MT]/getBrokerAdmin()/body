{
  MBeanServerConnection connection=getMBeanServerConnection();
  Set brokers=findBrokers(connection);
  if (brokers.size() == 0) {
    throw new IOException("No broker could be found in the JMX.");
  }
  ObjectName name=(ObjectName)brokers.iterator().next();
  BrokerViewMBean mbean=(BrokerViewMBean)MBeanServerInvocationHandler.newProxyInstance(connection,name,BrokerViewMBean.class,true);
  return proxy(BrokerViewFacade.class,mbean,name.getCanonicalName());
}
