{
  StringBuffer sb=new StringBuffer();
  System.out.print(msg);
  System.out.flush();
  for (; ; ) {
    int c=session.getKeyboard().read();
    if (c < 0) {
      return null;
    }
    if (!hidden) {
      System.out.print((char)c);
      System.out.flush();
    }
    if (c == '\r' || c == '\n') {
      break;
    }
    sb.append((char)c);
  }
  return sb.toString();
}
