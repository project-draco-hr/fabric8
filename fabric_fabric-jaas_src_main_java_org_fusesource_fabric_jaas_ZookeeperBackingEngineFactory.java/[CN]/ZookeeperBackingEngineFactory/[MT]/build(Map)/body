{
  ZookeeperBackingEngine engine=null;
  EncryptionSupport encryptionSupport=new BasicEncryptionSupport(options);
  String path=(String)options.get("path");
  if (path == null) {
    path=ZookeeperBackingEngine.USERS_NODE;
  }
  try {
    ZookeeperProperties users=new ZookeeperProperties(curator.get(),path);
    users.load();
    engine=new ZookeeperBackingEngine(users,encryptionSupport);
  }
 catch (  Exception e) {
    LOGGER.warn("Cannot initialize engine",e);
  }
 finally {
    return engine;
  }
}
