{
  int size=1;
  if (o != null) {
    DataStructure c=(DataStructure)o;
    byte type=c.getDataStructureType();
    DataStreamMarshaller dsm=(DataStreamMarshaller)dataMarshallers[type & 0xFF];
    if (dsm == null) {
      throw new IOException("Unknown data type: " + type);
    }
    size+=dsm.tightMarshal1(this,c,bs);
    size+=bs.marshalledSize();
  }
  return size;
}
