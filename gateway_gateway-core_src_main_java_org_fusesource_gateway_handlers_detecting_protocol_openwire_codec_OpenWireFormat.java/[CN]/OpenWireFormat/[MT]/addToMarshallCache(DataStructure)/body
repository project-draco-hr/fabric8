{
  short i=nextMarshallCacheIndex++;
  if (nextMarshallCacheIndex >= marshallCache.length) {
    nextMarshallCacheIndex=0;
  }
  if (marshallCacheMap.size() < marshallCache.length) {
    marshallCache[i]=o;
    Short index=new Short(i);
    marshallCacheMap.put(o,index);
    return index;
  }
 else {
    return new Short((short)-1);
  }
}
