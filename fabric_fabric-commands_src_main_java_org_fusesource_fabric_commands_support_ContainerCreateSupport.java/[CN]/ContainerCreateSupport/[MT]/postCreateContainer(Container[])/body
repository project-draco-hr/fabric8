{
  Version ver=version != null ? fabricService.getVersion(version) : fabricService.getDefaultVersion();
  List<String> names=getProfileNames();
  try {
    Profile[] profiles=getProfiles(version,names);
    for (    Container child : containers) {
      log.trace("Setting version " + ver.getName() + " on container "+ child.getId());
      child.setVersion(ver);
      log.trace("Setting profiles " + Arrays.asList(profiles) + " on container "+ child.getId());
      child.setProfiles(profiles);
    }
  }
 catch (  Exception ex) {
    log.warn("Error during postCreateContainer. This exception will be ignored.",ex);
  }
  if (log.isDebugEnabled()) {
    log.debug("postCreateContainer completed for " + Arrays.asList(containers) + " containers.");
  }
}
