{
  return vertx.createNetClient().connect(url.getPort(),url.getHost(),new Handler<AsyncResult<NetSocket>>(){
    public void handle(    final AsyncResult<NetSocket> asyncSocket){
      final NetSocket socketToServer=asyncSocket.result();
      Handler<Void> endHandler=new Handler<Void>(){
        @Override public void handle(        Void event){
          socketFromClient.close();
          socketToServer.close();
        }
      }
;
      Handler<Throwable> exceptionHandler=new Handler<Throwable>(){
        @Override public void handle(        Throwable event){
          socketFromClient.close();
          socketToServer.close();
        }
      }
;
      socketFromClient.readStream().endHandler(endHandler);
      socketFromClient.readStream().exceptionHandler(exceptionHandler);
      socketToServer.endHandler(endHandler);
      socketToServer.exceptionHandler(exceptionHandler);
      socketToServer.write(received);
      Pump.createPump(socketToServer,socketFromClient.writeStream()).start();
      Pump.createPump(socketFromClient.readStream(),socketToServer).start();
    }
  }
);
}
