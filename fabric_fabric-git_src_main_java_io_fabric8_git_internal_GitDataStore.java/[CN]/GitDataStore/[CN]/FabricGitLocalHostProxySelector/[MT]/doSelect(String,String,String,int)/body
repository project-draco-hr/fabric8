{
  StringTokenizer st=new StringTokenizer(nonProxy,"|",false);
  while (st.hasMoreTokens()) {
    String token=st.nextToken();
    if (host.matches(token)) {
      return noProxy;
    }
  }
  if (proxyHost != null) {
    InetSocketAddress adr=InetSocketAddress.createUnresolved(proxyHost,proxyPort);
    List<Proxy> answer=new ArrayList<Proxy>(1);
    answer.add(new Proxy(Proxy.Type.HTTP,adr));
    return answer;
  }
 else {
    return noProxy;
  }
}
