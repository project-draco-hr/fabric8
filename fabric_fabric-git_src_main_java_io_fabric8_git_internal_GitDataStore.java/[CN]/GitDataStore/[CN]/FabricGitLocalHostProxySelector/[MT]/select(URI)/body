{
  String host=uri.getHost();
  String path=uri.getPath();
  if (LOG.isTraceEnabled()) {
    LOG.trace("ProxySelector uri: {}",uri);
    LOG.trace("ProxySelector nonProxyHosts {}",proxyService.getNonProxyHosts());
    LOG.trace("ProxySelector proxyHost {}",proxyService.getProxyHost());
  }
  List<Proxy> answer;
  if (path != null && path.startsWith(GIT_FABRIC_PATH)) {
    answer=doSelect(host,proxyService.getNonProxyHosts(),proxyService.getProxyHost(),proxyService.getProxyPort());
  }
 else {
    answer=delegate.select(uri);
  }
  LOG.debug("ProxySelector uri: {} -> {}",uri,answer);
  return answer;
}
