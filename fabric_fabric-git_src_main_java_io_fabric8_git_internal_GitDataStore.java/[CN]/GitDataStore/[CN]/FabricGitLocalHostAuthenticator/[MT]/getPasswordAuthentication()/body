{
  String host=getRequestingHost();
  if (LOG.isTraceEnabled()) {
    LOG.trace("ProxyAuthenticator type: {}",getRequestorType());
    LOG.trace("ProxyAuthenticator url: {}",getRequestingURL());
    LOG.trace("ProxyAuthenticator host: {}",getRequestingHost());
    LOG.trace("ProxyAuthenticator port: {}",getRequestingPort());
    LOG.trace("ProxyAuthenticator prompt: {}",getRequestingPrompt());
    LOG.trace("ProxyAuthenticator protocol: {}",getRequestingProtocol());
    LOG.trace("ProxyAuthenticator scheme: {}",getRequestingScheme());
    LOG.trace("ProxyAuthenticator site: {}",getRequestingSite());
  }
  if (proxyService.getProxyUsername() != null && getRequestorType() == RequestorType.PROXY && host.equalsIgnoreCase(proxyService.getProxyHost()) && getRequestingPort() == proxyService.getProxyPort()) {
    char[] pw="".toCharArray();
    if (proxyService.getProxyPassword() != null) {
      pw=proxyService.getProxyPassword().toCharArray();
    }
    LOG.trace("ProxyAuthenticator username: {}",proxyService.getProxyUsername());
    return new PasswordAuthentication(proxyService.getProxyUsername(),pw);
  }
  return null;
}
