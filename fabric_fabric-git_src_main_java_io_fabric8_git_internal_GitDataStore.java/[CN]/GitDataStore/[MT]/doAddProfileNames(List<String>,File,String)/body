{
  if (profilesDir.exists()) {
    File[] files=profilesDir.listFiles();
    if (files != null) {
      for (      File file : files) {
        if (file.isDirectory()) {
          String name=file.getName();
          if (Profiles.useDirectoriesForProfiles) {
            if (name.endsWith(Profiles.PROFILE_FOLDER_SUFFIX)) {
              name=name.substring(0,name.length() - Profiles.PROFILE_FOLDER_SUFFIX.length());
              answer.add(prefix + name);
            }
 else {
              doAddProfileNames(answer,file,prefix + name + "-");
            }
          }
 else {
            answer.add(name);
          }
        }
      }
    }
  }
}
