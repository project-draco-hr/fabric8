{
  if (proc == null) {
    return null;
  }
  RouteDefinition route=ProcessorDefinitionHelper.getRoute(definition);
  if (route != null) {
    if (routeContext.getCamelContext().getNodeIdFactory() != null) {
      RouteDefinitionHelper.forceAssignIds(routeContext.getCamelContext(),route);
    }
  }
  return new ProfilerProcessor(this,proc,getStats(definition),exchanges);
}
