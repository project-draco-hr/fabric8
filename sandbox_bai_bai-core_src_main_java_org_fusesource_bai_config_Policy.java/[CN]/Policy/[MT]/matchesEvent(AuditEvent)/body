{
  if (isEnabled() && (events == null || events.matches(event)) && (endpoints == null || endpoints.matches(event))) {
    Exchange exchange=event.getExchange();
    if (exchange != null) {
      if (predicate == null) {
        ExpressionDefinition expression=null;
        if (filter != null) {
          expression=filter.getExpression();
        }
        if (expression != null) {
          predicate=expression.createPredicate(event.getCamelContext());
        }
      }
      if (predicate != null) {
        return predicate.matches(exchange);
      }
    }
    return true;
  }
  return false;
}
