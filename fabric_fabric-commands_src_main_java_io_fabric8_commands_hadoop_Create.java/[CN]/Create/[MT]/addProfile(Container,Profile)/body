{
  List<Profile> profiles=new ArrayList<Profile>();
  for (  Profile p : container.getProfiles()) {
    if (!isAncestor(p,profile)) {
      profiles.add(p);
    }
  }
  profiles.add(profile);
  container.setProfiles(profiles.toArray(new Profile[profiles.size()]));
}
