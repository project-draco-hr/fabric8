{
  if (started.compareAndSet(true,false)) {
    client.getConnectionStateListenable().removeListener(connectionStateListener);
    executorService.shutdown();
    try {
      if (!executorService.awaitTermination(5,TimeUnit.SECONDS)) {
        executorService.shutdownNow();
      }
    }
 catch (    InterruptedException e) {
      throw (IOException)new InterruptedIOException().initCause(e);
    }
    try {
      if (isConnected()) {
        doUpdate(null);
        callListeners(GroupListener.GroupEvent.DISCONNECTED);
      }
    }
 catch (    Exception e) {
      handleException(e);
    }
  }
}
