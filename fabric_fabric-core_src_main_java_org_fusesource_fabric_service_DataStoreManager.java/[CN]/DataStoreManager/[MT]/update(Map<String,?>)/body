{
synchronized (this) {
    this.configuration=Collections.unmodifiableMap(configuration);
    this.type=readType(this.configuration);
  }
  updateServiceRegistration();
}
