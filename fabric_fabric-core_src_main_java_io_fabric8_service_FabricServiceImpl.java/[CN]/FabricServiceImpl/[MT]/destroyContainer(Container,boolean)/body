{
  assertValid();
  String containerId=container.getId();
  LOGGER.info("Destroying container {}",containerId);
  boolean destroyed=false;
  try {
    ContainerProvider provider=getProvider(container,true);
    if (provider != null) {
      try {
        provider.stop(container);
      }
 catch (      Exception ex) {
      }
      provider.destroy(container);
      destroyed=true;
    }
  }
  finally {
    try {
      if (destroyed || force) {
        try {
          portService.get().unregisterPort(container);
        }
 catch (        Exception e) {
          LOGGER.warn("Failed to cleanup container {} entries due to: {}. This will be ignored.",containerId,e.getMessage());
        }
        dataStore.get().deleteContainer(this,container.getId());
      }
    }
 catch (    Exception e) {
      LOGGER.warn("Failed to cleanup container {} entries due to: {}. This will be ignored.",containerId,e.getMessage());
    }
  }
}
