{
  assertValid();
  String containerId=container.getId();
  LOGGER.info("Destroying container {}",containerId);
  boolean destroyed=false;
  try {
    ContainerProvider provider=getProvider(container,true);
    provider.stop(container);
    provider.destroy(container);
    destroyed=true;
  }
  finally {
    try {
      if (destroyed || force) {
        portService.get().unregisterPort(container);
        getDataStore().deleteContainer(container.getId());
      }
    }
 catch (    Exception e) {
      LOGGER.warn("Failed to cleanup container {} entries due to: {}. This will be ignored.",containerId,e.getMessage());
    }
  }
}
