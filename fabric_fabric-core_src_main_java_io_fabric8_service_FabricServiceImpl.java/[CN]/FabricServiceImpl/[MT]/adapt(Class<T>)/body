{
  assertValid();
  if (type.isAssignableFrom(CuratorFramework.class)) {
    return (T)curator.get();
  }
 else   if (type.isAssignableFrom(DataStore.class)) {
    return (T)dataStore.get();
  }
 else   if (type.isAssignableFrom(ProfileService.class)) {
    return (T)profileService.get();
  }
 else   if (type.isAssignableFrom(ProfileRegistry.class)) {
    return (T)profileRegistry.get();
  }
  return null;
}
