{
  FabricService service=getFabricService();
  List<String> kubelets=getKubeletFileNames(service,options);
  if (kubelets.size() > 0) {
    return doCreateKubernetesPodsControllersServices(service,options,kubelets);
  }
  DockerCreateContainerParameters parameters=new DockerCreateContainerParameters(options).invoke();
  doCreateDockerContainer(options,parameters);
  ContainerConfig containerConfig=parameters.getContainerConfig();
  Map<String,String> environmentVariables=parameters.getEnvironmentVariables();
  String containerType=parameters.getContainerType();
  ContainerCreateStatus status=null;
  CreateKubernetesContainerMetadata metadata=null;
  metadata=createKubernetesContainerMetadata(options,status,containerType);
  publishZooKeeperValues(options,environmentVariables);
  return metadata;
}
