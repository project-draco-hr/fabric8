{
  FabricService service=getFabricService();
  KubernetesConfig config=getKubernetesConfig(service,options);
  if (config != null) {
    List<String> definitions=config.getDefinitions();
    if (definitions != null && definitions.size() > 0) {
      return doCreateKubernetesPodsControllersServices(service,options,config);
    }
  }
  DockerCreateContainerParameters parameters=new DockerCreateContainerParameters(options).invoke();
  doCreateDockerContainer(options,parameters);
  ContainerConfig containerConfig=parameters.getContainerConfig();
  Map<String,String> environmentVariables=parameters.getEnvironmentVariables();
  String containerType=parameters.getContainerType();
  ContainerCreateStatus status=null;
  CreateKubernetesContainerMetadata metadata=null;
  metadata=createKubernetesContainerMetadata(options,status,containerType);
  publishZooKeeperValues(options,environmentVariables);
  return metadata;
}
