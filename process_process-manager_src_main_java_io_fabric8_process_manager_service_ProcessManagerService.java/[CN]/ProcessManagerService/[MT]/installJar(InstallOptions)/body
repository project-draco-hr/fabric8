{
  @SuppressWarnings("serial") InstallTask installTask=new InstallTask(){
    @Override public void install(    ProcessConfig config,    String id,    File installDir) throws Exception {
      config.setName(parameters.getName());
      String resourceName="process-launcher.tar.gz";
      final InputStream in=getClass().getClassLoader().getResourceAsStream(resourceName);
      Preconditions.checkNotNull(in,"Could not find " + resourceName + " on the file system");
      File tmpFile=File.createTempFile("process-launcher",".tar.gz");
      Files.copy(new InputSupplier<InputStream>(){
        @Override public InputStream getInput() throws IOException {
          return in;
        }
      }
,tmpFile);
      FileUtils.extractArchive(tmpFile,installDir,"tar zxf",untarTimeout,executor);
      File etc=new File(installDir,"etc");
      etc.mkdirs();
      Files.write("",new File(etc,"config.properties"),Charsets.UTF_8);
      Files.write("",new File(etc,"jvm.config"),Charsets.UTF_8);
      JarInstaller installer=new JarInstaller(executor);
      installer.unpackJarProcess(config,id,installDir,parameters);
    }
  }
;
  return installViaScript(parameters,installTask);
}
