{
  String id=CONTAINER_ID;
  String version="1.0";
  GetDataBuilder getBuilder=createMock(GetDataBuilder.class);
  SetDataBuilder setBuilder=createMock(SetDataBuilder.class);
  expect(getBuilder.forPath(CONFIG_CONTAINER.getPath(id))).andReturn(version.getBytes()).anyTimes();
  expect(getBuilder.forPath(CONFIG_VERSIONS_CONTAINER.getPath(version,id))).andReturn(DEFAULT_PROFILE.getBytes()).anyTimes();
  expect(setBuilder.forPath(eq(CONFIG_VERSIONS_CONTAINER.getPath(version,id)),(byte[])anyObject())).andReturn(null).anyTimes();
  expect(curator.getData()).andReturn(getBuilder).anyTimes();
  expect(curator.setData()).andReturn(setBuilder).anyTimes();
  replay(getBuilder);
  replay(setBuilder);
  replay(curator);
  container.setProfiles(null);
  container.setProfiles(new Profile[0]);
  verify(curator);
  verify(getBuilder);
  verify(setBuilder);
}
