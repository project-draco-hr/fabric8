{
  RepositorySystem repo=getRepositorySystem();
  MavenRepositorySystemSession session=createSession(offline,repo);
  List<RemoteRepository> repos=getRemoteRepositories();
  Map<String,String> props=Collections.singletonMap(ArtifactProperties.LOCAL_PATH,rootPom.toString());
  Artifact root=new DefaultArtifact("#groupId","#artifactId",null,"pom","#version",props,rootPom);
  ArtifactDescriptorResult artifactDescriptorResult=repo.readArtifactDescriptor(session,new ArtifactDescriptorRequest(root,repos,null));
  CollectRequest request=new CollectRequest(artifactDescriptorResult.getDependencies(),null,repos);
  DependencyFilter filter=new AndDependencyFilter();
  return repo.resolveDependencies(session,request,filter);
}
