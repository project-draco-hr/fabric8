{
  String containerPortsPidPath=ZkPath.PORTS_CONTAINER_PID.getPath(container.getId(),pid);
  try {
    if (lock.tryLock(60,TimeUnit.SECONDS)) {
      if (zooKeeper.exists(containerPortsPidPath) != null) {
        for (        String key : zooKeeper.getChildren(containerPortsPidPath)) {
          unRegisterPort(container,pid,key);
        }
        ZooKeeperUtils.deleteSafe(zooKeeper,containerPortsPidPath);
      }
    }
 else {
      throw new FabricException("Could not acquire port lock");
    }
  }
 catch (  Exception ex) {
    throw new FabricException(ex);
  }
 finally {
    lock.unlock();
  }
}
