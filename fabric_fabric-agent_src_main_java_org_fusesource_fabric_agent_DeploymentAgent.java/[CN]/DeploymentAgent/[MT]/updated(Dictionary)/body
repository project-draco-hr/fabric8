{
  if (executor.isShutdown()) {
    return;
  }
  executor.submit(new Runnable(){
    public void run(){
      Throwable result=null;
      try {
        doUpdate(props);
      }
 catch (      Throwable e) {
        result=e;
        LOGGER.error("Unable to update agent",e);
      }
      updateStatus(result == null ? ZkDefs.SUCCESS : ZkDefs.ERROR,result);
    }
  }
);
}
