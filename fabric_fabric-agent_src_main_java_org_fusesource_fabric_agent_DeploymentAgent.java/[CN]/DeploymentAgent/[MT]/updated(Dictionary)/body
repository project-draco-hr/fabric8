{
  executor.submit(new Runnable(){
    public void run(){
      Exception result=null;
      try {
        doUpdate(props);
      }
 catch (      Exception e) {
        result=e;
        LOGGER.error("Unable to update agent",e);
      }
      updateStatus(result == null ? ZkDefs.SUCCESS : ZkDefs.ERROR,result);
    }
  }
);
}
