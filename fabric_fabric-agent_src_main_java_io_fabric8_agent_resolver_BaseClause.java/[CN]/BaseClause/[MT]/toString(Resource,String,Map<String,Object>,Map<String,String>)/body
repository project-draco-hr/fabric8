{
  StringBuilder sb=new StringBuilder();
  if (res != null) {
    sb.append("[").append(res).append("] ");
  }
  sb.append(namespace);
  for (  String key : attrs.keySet()) {
    sb.append("; ");
    append(sb,key,attrs.get(key),true);
  }
  for (  String key : dirs.keySet()) {
    sb.append("; ");
    append(sb,key,dirs.get(key),false);
  }
  return sb.toString();
}
