{
  this.name=name;
  ParameterizedType genericSuperclass=(ParameterizedType)getClass().getGenericSuperclass();
  this.beanType=(Class<T>)genericSuperclass.getActualTypeArguments()[0];
  List<Type> allTypes=new ArrayList<>();
  allTypes.add(beanType);
  for (Type t=((Class)beanType).getSuperclass(); !allTypes.contains(Object.class); t=((Class)t).getSuperclass()) {
    allTypes.add(t);
  }
  types=Collections.unmodifiableSet(new HashSet<>(allTypes));
  qualifiers=Collections.unmodifiableSet(new HashSet<>(Arrays.asList(annotations)));
}
