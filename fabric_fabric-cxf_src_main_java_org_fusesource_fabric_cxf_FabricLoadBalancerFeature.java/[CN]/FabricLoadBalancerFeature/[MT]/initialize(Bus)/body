{
  try {
    FabricServerListener lister=new FabricServerListener(getGroup(),addressResolver);
    ServerLifeCycleManager serverMgr=bus.getExtension(ServerLifeCycleManager.class);
    if (serverMgr != null) {
      serverMgr.registerListener(lister);
    }
 else {
      LOG.error("Cannot find the ServerLifeCycleManager, we cannot publish the service through fabric.");
    }
    ClientLifeCycleManager clientMgr=bus.getExtension(ClientLifeCycleManager.class);
    FabricClientListener clientListener=new FabricClientListener(this);
    if (clientMgr != null) {
      clientMgr.registerListener(clientListener);
    }
 else {
      LOG.error("Cannot find the ClientLifeCycleManager, the client cannot access the service through fabric");
    }
  }
 catch (  Exception ex) {
    LOG.error("Cannot initialize the bus with FabricLoadBalancerFeature due to " + ex);
  }
  BusLifeCycleManager manager=bus.getExtension(BusLifeCycleManager.class);
  manager.registerLifeCycleListener(this);
}
