{
  if (group.isMaster()) {
    LOGGER.info("AutoScaleController is the master");
  }
 else {
    LOGGER.info("AutoScaleController is not the master");
  }
  try {
    DataStore dataStore=null;
    if (fabricService != null) {
      dataStore=fabricService.getDataStore();
    }
 else {
      LOGGER.warn("No fabricService yet!");
    }
    if (group.isMaster()) {
      AutoScalerNode state=createState();
      group.update(state);
    }
    if (dataStore != null) {
      if (group.isMaster()) {
        LOGGER.info("tracking configuration");
        dataStore.trackConfiguration(runnable);
        onConfigurationChanged();
      }
 else {
        LOGGER.info("untracking configuration");
        dataStore.unTrackConfiguration(runnable);
      }
    }
  }
 catch (  IllegalStateException e) {
  }
}
