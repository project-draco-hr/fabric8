{
  boolean exists=false;
  ZKClient zkClient=null;
  try {
    zkClient=new ZKClient(zookeeperUrl,Timespan.ONE_MINUTE,null);
    if (registryPassword != null && !registryPassword.isEmpty()) {
      zkClient.setPassword(registryPassword);
    }
    zkClient.start();
    zkClient.waitForConnected();
    exists=exists(zkClient,ZkPath.CONTAINER.getPath(name)) != null;
    if (!exists || force) {
      ZkPath.createContainerPaths(zkClient,containerName,version,profile);
    }
  }
  finally {
    if (zkClient != null) {
      zkClient.close();
    }
  }
  return !exists || force;
}
