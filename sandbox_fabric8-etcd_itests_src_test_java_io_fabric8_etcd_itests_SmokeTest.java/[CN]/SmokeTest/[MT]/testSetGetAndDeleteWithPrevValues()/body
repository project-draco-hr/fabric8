{
  Response response=client.setData().value("smoke").forKey("key");
  assertNotNull(response);
  assertEquals("smoke",response.getNode().getValue());
  response=client.getData().forKey("key");
  assertValue("smoke",response);
  try {
    client.setData().value("smoke updated").prevValue("wrong").forKey("key");
  }
 catch (  EtcdException e) {
    assertEquals(101,e.getErrorCode());
  }
  response=client.setData().value("smoke updated").prevValue("smoke").forKey("key");
  assertPrevValue("smoke",response);
  response=client.delete().forKey("key");
  assertPrevValue("smoke updated",response);
}
