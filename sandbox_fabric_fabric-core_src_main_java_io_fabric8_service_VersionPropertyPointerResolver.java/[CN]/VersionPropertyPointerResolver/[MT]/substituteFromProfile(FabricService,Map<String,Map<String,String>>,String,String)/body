{
  Map<String,String> configuration=configs.get(pid);
  if (configuration != null && configuration.containsKey(key)) {
    return configuration.get(key);
  }
 else {
    Profile overlayProfile=fabricService.getCurrentContainer().getOverlayProfile();
    Profile effectiveProfile=Profiles.getEffectiveProfile(fabricService,overlayProfile);
    configuration=effectiveProfile.getConfiguration(pid);
    if (configuration != null && configuration.containsKey(key)) {
      return configuration.get(key);
    }
 else {
      return EMPTY;
    }
  }
}
