{
  Version v=null;
  if (version != null && !version.isEmpty()) {
    v=fabricService.getVersion(version);
  }
  Profile p=null;
  if (profile != null && !profile.isEmpty()) {
    if (v == null) {
      v=fabricService.getDefaultVersion();
    }
    p=v.getProfile(profile);
  }
  if (p != null) {
    fabricService.getPatchService().applyUpgrades(p,upgrades);
  }
 else   if (v != null) {
    fabricService.getPatchService().applyUpgrades(v,upgrades);
  }
 else {
    fabricService.getPatchService().applyUpgrades(upgrades);
  }
  return null;
}
