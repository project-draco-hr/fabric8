{
  try {
    Profile[] profiles=getProfiles();
    StringBuilder builder=new StringBuilder();
    if (profiles != null && profiles.length > 0) {
      builder.append(profiles[0].getId());
      for (int i=1; i < profiles.length; i++) {
        builder.append(" ").append(profiles[i].getId());
      }
    }
 else {
      builder.append("default");
    }
    ZooKeeperUtils.set(service.getZooKeeper(),ZkPath.CONFIG_CONTAINER.getPath(id),version.getName());
    ZooKeeperUtils.set(service.getZooKeeper(),ZkPath.CONFIG_VERSIONS_CONTAINER.getPath(version.getName(),id),builder.toString());
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
