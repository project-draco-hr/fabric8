{
  try {
    Version curretVersion=getVersion();
    if (requiresUpgrade(version) && !"".equals(getProvisionResult())) {
      if (version.compareTo(curretVersion) > 0) {
        ZooKeeperUtils.set(service.getZooKeeper(),ZkPath.CONTAINER_PROVISION_RESULT.getPath(getId()),"upgrading");
      }
 else {
        ZooKeeperUtils.set(service.getZooKeeper(),ZkPath.CONTAINER_PROVISION_RESULT.getPath(getId()),"downgrading");
      }
    }
    ZooKeeperUtils.set(service.getZooKeeper(),ZkPath.CONFIG_CONTAINER.getPath(id),version.getName());
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
