{
  String[] esbBoxes={"esb1","esb2","esb3","esb4"};
  FabricRequirements requirements=new FabricRequirements();
  requirements.sshConfiguration().defaultUsername("root");
  for (  String box : esbBoxes) {
    requirements.sshHost(box);
  }
  requirements.profile(exampleProfileId).minimumInstances(2);
  HostProfileCounter hostProfileCounter=assertSshAutoScale(requirements);
  assertHostHasProfileCount(hostProfileCounter,"esb1",exampleProfileId,1);
  assertHostHasProfileCount(hostProfileCounter,"esb2",exampleProfileId,1);
  assertHostHasProfileCount(hostProfileCounter,"esb3",exampleProfileId,0);
  assertHostHasProfileCount(hostProfileCounter,"esb4",exampleProfileId,0);
  dumpHostProfiles(hostProfileCounter);
}
