{
  for (  Map.Entry<String,CountingMap> entry : hostToProfileCounts.entrySet()) {
    String hostName=entry.getKey();
    CountingMap counts=entry.getValue();
    int total=counts.total();
    Map<String,SshHostConfiguration> sshHostsMap=requirements.getSshHostsMap();
    assertNotNull("Should have a hosts map!",sshHostsMap);
    SshHostConfiguration hostConfiguration=sshHostsMap.get(hostName);
    assertNotNull("Should have a hosts configuration for host " + hostName,hostConfiguration);
    Integer maximumContainerCount=hostConfiguration.getMaximumContainerCount();
    if (maximumContainerCount != null) {
      assertTrue("Host " + hostName + " has a maximum container count of "+ maximumContainerCount+ " but was "+ total,total <= maximumContainerCount);
    }
  }
}
