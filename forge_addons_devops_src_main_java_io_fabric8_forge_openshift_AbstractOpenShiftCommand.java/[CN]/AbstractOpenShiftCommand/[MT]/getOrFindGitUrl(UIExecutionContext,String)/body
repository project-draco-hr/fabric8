{
  if (Strings.isNullOrBlank(gitUrlText)) {
    final Project project=getSelectedProject(context);
    if (project != null) {
      Resource<?> root=project.getRoot();
      if (root != null) {
        try {
          Resource<?> gitFolder=root.getChild(".git");
          if (gitFolder != null) {
            Resource<?> config=gitFolder.getChild("config");
            if (config != null) {
              String configText=config.getContents();
              gitUrlText=GitHelpers.extractGitUrl(configText);
            }
          }
        }
 catch (        Exception e) {
          LOG.debug("Ignoring missing git folders: " + e,e);
        }
      }
    }
  }
  if (Strings.isNullOrBlank(gitUrlText)) {
    Model mavenModel=getMavenModel(context);
    if (mavenModel != null) {
      Scm scm=mavenModel.getScm();
      if (scm != null) {
        String connection=scm.getConnection();
        if (Strings.isNotBlank(connection)) {
          gitUrlText=connection;
        }
      }
    }
  }
  if (Strings.isNullOrBlank(gitUrlText)) {
    throw new IllegalArgumentException("Could not find git URL");
  }
  return gitUrlText;
}
