{
  CompletionService<Boolean> completionService=new ExecutorCompletionService<Boolean>(EXECUTOR);
  for (  final Container container : containers) {
    completionService.submit(new WaitForConditionTask(new Callable(){
      @Override public Object call() throws Exception {
        return condition.checkConditionOnContainer(container);
      }
    }
,timeout));
  }
  for (  Container container : containers) {
    Future<Boolean> f=completionService.poll(timeout,TimeUnit.MILLISECONDS);
    if (f == null || !f.get()) {
      return false;
    }
  }
  return true;
}
