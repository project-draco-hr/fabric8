{
  List<DependencyTree> dependencies=new ArrayList<DependencyTree>(classPathResolver.getSharedDependencies());
  DependencyTree rootTree=classPathResolver.getRootTree();
  if (rootTree != null) {
    dependencies.add(rootTree);
  }
  DependencyTree dependency=resolvePackageDependency(packageName,dependencies);
  if (dependency != null) {
    return Versions.getOSGiPackageVersion(dependency,packageName);
  }
  return null;
}
