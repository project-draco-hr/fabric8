{
  File file1=assertProcessed("something.txt","this is\nsome text\n");
  File file2=assertProcessed("a1/thing2.txt","1 level deep");
  File file3=assertProcessed("b1/b2/thing3.txt","2 levels deep");
  File file4=assertProcessed("c1/c2/thing3.txt","2 levels deep");
  assertNotProcessed("something.ignored","ignored");
  assertNotProcessed("a1/something.ignored","ignored");
  assertNotProcessed("b1/b2/something.ignored","ignored");
  assertExpectations();
  expectations.clear();
  listener.clearEvents();
  file1.delete();
  moveFileToTempDir(file2.getParentFile());
  moveFileToTempDir(file3.getParentFile());
  moveFileToTempDir(file4.getParentFile().getParentFile());
  processor.expectRemoved(expectations,file1,file2,file3,file4);
  listener.expectCalledWith(expectations,file1,file2,file3,file4);
  LOG.info("Processed: " + processor.getProcessPaths());
  LOG.info("Removed: " + processor.getOnRemovePaths());
  assertExpectations();
}
