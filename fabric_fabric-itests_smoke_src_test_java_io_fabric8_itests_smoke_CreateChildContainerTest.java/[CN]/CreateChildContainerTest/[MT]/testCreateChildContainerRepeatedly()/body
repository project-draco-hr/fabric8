{
  System.err.println(executeCommand("fabric:create --clean -n"));
  Set<Container> containers=ContainerBuilder.child(1).withName("child").assertProvisioningResult().build();
  try {
    Assert.assertEquals("One container",1,containers.size());
    Container child=containers.iterator().next();
    Assert.assertEquals("child1",child.getId());
    Assert.assertEquals("root",child.getParent().getId());
  }
  finally {
    ContainerBuilder.destroy(containers);
  }
  System.err.println(executeCommand("fabric:create --clean -n"));
  containers=ContainerBuilder.child(1).withName("child").assertProvisioningResult().build();
  try {
    Assert.assertEquals("One container",1,containers.size());
    Container child=containers.iterator().next();
    Assert.assertEquals("child1",child.getId());
    Assert.assertEquals("root",child.getParent().getId());
  }
  finally {
    ContainerBuilder.destroy(containers);
  }
}
