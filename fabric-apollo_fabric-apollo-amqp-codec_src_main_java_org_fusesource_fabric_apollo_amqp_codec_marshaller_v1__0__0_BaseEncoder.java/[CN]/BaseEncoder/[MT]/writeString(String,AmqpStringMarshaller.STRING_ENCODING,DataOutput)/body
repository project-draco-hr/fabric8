{
switch (encoding) {
case STR32_UTF16:
case STR8_UTF16:
{
      dos.write(val.getBytes("utf-16"));
    }
case STR32_UTF8:
case STR8_UTF8:
{
    dos.write(val.getBytes("utf-8"));
  }
default :
throw new UnsupportedEncodingException(encoding.name());
}
}
