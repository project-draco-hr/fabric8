{
  Set<Resource> result=new LinkedHashSet<Resource>();
  List<Requirement> requirements=resource.getRequirements(null);
  for (  Requirement requirement : requirements) {
    boolean isSatisfied=false;
    for (    Resource r : result) {
      for (      Capability capability : r.getCapabilities(null)) {
        if (isSatisfied(requirement,capability)) {
          isSatisfied=true;
          break;
        }
      }
    }
    for (    Resource r : allResources) {
      if (!isSatisfied) {
        for (        Capability capability : r.getCapabilities(null)) {
          if (isSatisfied(requirement,capability)) {
            result.add(r);
            break;
          }
        }
      }
    }
  }
  return result;
}
