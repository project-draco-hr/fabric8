{
  Set<Resource> sorted=new LinkedHashSet<Resource>();
  Set<Resource> visited=new LinkedHashSet<Resource>();
  for (  Resource r : resources) {
    visit(r,resources,visited,sorted);
  }
  return sorted;
}
