{
  MavenSecDispatcher secDispatcher=new MavenSecDispatcher();
  DefaultSettingsDecrypter decrypter=new DefaultSettingsDecrypter();
  try {
    Field field=decrypter.getClass().getDeclaredField("securityDispatcher");
    field.setAccessible(true);
    field.set(decrypter,secDispatcher);
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
  return decrypter;
}
