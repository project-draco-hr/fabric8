{
  CreateChildContainerMetadata metadata=new CreateChildContainerMetadata();
  String containerId=options.getName();
  metadata.setCreateOptions(options);
  metadata.setContainerName(containerId);
  Container container=null;
  try {
    container=fabricService.getContainer(containerId);
  }
 catch (  Exception e) {
    LOG.debug("Could not find container: " + containerId);
  }
  if (container != null) {
    container.setProvisionResult(Container.PROVISION_DOWNLOADING);
  }
  ProcessManager procManager=processManager;
  Map<String,String> initialEnvironmentVariables=new HashMap<String,String>();
  Installation installation=createInstallation(procManager,container,options,metadata,initialEnvironmentVariables);
  if (container != null) {
    container.setProvisionResult(Container.PROVISION_FINALIZING);
  }
  if (installation != null) {
    installation.getController().start();
  }
  return metadata;
}
