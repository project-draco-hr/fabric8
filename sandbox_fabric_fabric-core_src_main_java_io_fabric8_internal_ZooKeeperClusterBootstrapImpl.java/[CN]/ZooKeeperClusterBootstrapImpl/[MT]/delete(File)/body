{
  if (dir.isDirectory()) {
    for (    File child : dir.listFiles()) {
      delete(child);
    }
  }
  if (dir.exists()) {
    try {
      boolean deleted=dir.delete();
      if (!deleted) {
        LOGGER.warn("Failed to delete dir {}",dir);
      }
    }
 catch (    SecurityException e) {
      LOGGER.warn("Failed to delete dir {} due to {}",dir,e);
    }
  }
}
