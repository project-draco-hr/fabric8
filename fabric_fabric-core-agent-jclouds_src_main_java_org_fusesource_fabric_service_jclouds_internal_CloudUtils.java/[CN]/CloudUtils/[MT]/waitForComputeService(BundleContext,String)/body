{
  ComputeService computeService=null;
  try {
    for (int r=0; r < 6; r++) {
      ServiceReference[] references=bundleContext.getAllServiceReferences(ComputeService.class.getName(),"(" + Constants.NAME + "="+ name+ ")");
      if (references != null && references.length > 0) {
        computeService=(ComputeService)bundleContext.getService(references[0]);
        return computeService;
      }
      Thread.sleep(10000L);
    }
  }
 catch (  Exception e) {
    LOGGER.error("Error while waiting for service.",e);
  }
  return computeService;
}
