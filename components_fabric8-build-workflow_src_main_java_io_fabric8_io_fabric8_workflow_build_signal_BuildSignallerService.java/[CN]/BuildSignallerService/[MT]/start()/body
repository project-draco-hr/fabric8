{
  WorkItemManager workItemManager=ksession.getWorkItemManager();
  CustomWorkItemHandlers.register(ksession,workItemManager);
  String consoleLink=Links.getFabric8ConsoleLink();
  String namespace=null;
  BuildSignaller buildListener=new BuildSignaller(ksession,buildProcessCorrelator);
  long pollTime=3000;
  if (BuildSimulator.isEnabled()) {
    simulator=BuildSimulator.getSingleton();
    simulator.schedule(timer,pollTime,buildListener,consoleLink);
  }
 else {
    watcher=new BuildWatcher(client,buildListener,namespace,consoleLink);
    watcher.schedule(timer,pollTime);
  }
}
