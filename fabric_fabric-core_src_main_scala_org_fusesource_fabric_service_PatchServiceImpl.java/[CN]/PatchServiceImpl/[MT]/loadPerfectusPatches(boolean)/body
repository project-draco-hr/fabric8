{
  try {
    Dictionary config=getConfig();
    List<String> repositories=getRepositories(config);
    Set<Patch> patches=loadPerfectusPatches(repositories,reload);
    boolean includeNonFuseVersions=Boolean.parseBoolean((String)config.get(PATCH_INCLUDE_NON_FUSE_VERSION));
    if (!includeNonFuseVersions) {
      Set<Patch> newPatches=new TreeSet<Patch>();
      for (      Patch patch : patches) {
        if (patch.getVersion().contains("fuse")) {
          newPatches.add(patch);
        }
      }
      patches=newPatches;
    }
    return patches;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
