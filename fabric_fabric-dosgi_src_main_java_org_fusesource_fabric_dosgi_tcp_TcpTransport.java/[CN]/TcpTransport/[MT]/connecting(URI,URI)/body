{
  this.channel=SocketChannel.open();
  this.channel.configureBlocking(false);
  this.remoteLocation=remoteLocation;
  this.localLocation=localLocation;
  if (localLocation != null) {
    InetSocketAddress localAddress=new InetSocketAddress(InetAddress.getByName(localLocation.getHost()),localLocation.getPort());
    channel.socket().bind(localAddress);
  }
  String host=resolveHostName(remoteLocation.getHost());
  InetSocketAddress remoteAddress=new InetSocketAddress(host,remoteLocation.getPort());
  channel.connect(remoteAddress);
  this.socketState=new CONNECTING();
}
