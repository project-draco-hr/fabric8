{
  for (Iterator<Capability> it=caps.iterator(); it.hasNext(); ) {
    Capability cap=it.next();
    if (!matchMandatory(cap,sf)) {
      it.remove();
    }
  }
  return caps;
}
