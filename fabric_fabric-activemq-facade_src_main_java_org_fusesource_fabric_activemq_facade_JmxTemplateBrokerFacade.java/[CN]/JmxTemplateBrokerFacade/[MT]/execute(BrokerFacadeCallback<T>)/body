{
  return template.execute(new JmxTemplateSupport.JmxConnectorCallback<T>(){
    public T doWithJmxConnector(    JMXConnector connector) throws Exception {
      MBeanServerConnection connection=connector.getMBeanServerConnection();
      BrokerFacade brokerFacade=new RemoteBrokerFacade(connection);
      return callback.doWithBrokerFacade(brokerFacade);
    }
  }
);
}
