{
  Agent agent=agentService.getAgents().get(parent);
  if (agent == null) {
    throw new Exception("Unknown agent: " + parent);
  }
  List<String> names=this.profiles;
  if (names == null || names.isEmpty()) {
    names=Collections.singletonList("default");
  }
  Agent child=agentService.createChild(agent,name);
  child.setProfileNames(names.toArray(new String[names.size()]));
  return null;
}
