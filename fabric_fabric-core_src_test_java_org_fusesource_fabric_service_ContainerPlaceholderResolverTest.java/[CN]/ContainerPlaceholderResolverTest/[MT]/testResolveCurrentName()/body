{
  final FabricService fabricService=createMock(FabricService.class);
  final DataStore dataStore=createMock(DataStore.class);
  expect(fabricService.getCurrentContainerName()).andReturn("root").anyTimes();
  expect(fabricService.getContainer(EasyMock.<String>anyObject())).andReturn(new ContainerImpl(null,"root",fabricService));
  replay(fabricService);
  replay(dataStore);
  ContainerPlaceholderResolver resolver=new ContainerPlaceholderResolver();
  resolver.bindFabricService(fabricService);
  resolver.activate(EasyMock.createMock(ComponentContext.class));
  assertEquals("root",resolver.resolve(null,null,"container:name"));
  verify(fabricService);
  verify(dataStore);
}
