{
  if (packages == null) {
    if (getExtension().equals("jar") || getExtension().equals("zip")) {
      aQute.bnd.osgi.Jar jar=new aQute.bnd.osgi.Jar(getJarFile());
      try {
        packages=new HashSet<String>(jar.getPackages());
      }
  finally {
        jar.close();
      }
    }
 else {
      return Collections.emptySet();
    }
  }
  return packages;
}
