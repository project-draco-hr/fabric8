{
  List<Capability> caps=new ArrayList<Capability>();
  Map<Requirement,Collection<Capability>> resMap=repository.findProviders(Collections.singleton(requirement));
  Collection<Capability> res=resMap != null ? resMap.get(requirement) : null;
  if (res != null) {
    caps.addAll(res);
  }
  Collections.sort(caps,candidateComparator);
  return caps;
}
