{
  if (environmentVariables == null) {
    environmentVariables=new ArrayList<Env>();
  }
  if (environmentVariables.isEmpty()) {
    Map<String,Env> envMap=new HashMap<>();
    Map<String,String> envs=findPropertiesWithPrefix(getProject().getProperties(),"fabric8.env.");
    for (    Map.Entry<String,String> entry : envs.entrySet()) {
      String name=entry.getKey();
      String value=entry.getValue();
      if (name != null) {
        Env env=getOrCreateEnv(envMap,name);
        env.setName(name);
        if (env.getValue() == null) {
          env.setValue(value);
        }
      }
    }
    getLog().info("Generated env mappings: " + envMap);
    getLog().debug("from envs: " + envs);
    environmentVariables.addAll(envMap.values());
  }
  return environmentVariables;
}
