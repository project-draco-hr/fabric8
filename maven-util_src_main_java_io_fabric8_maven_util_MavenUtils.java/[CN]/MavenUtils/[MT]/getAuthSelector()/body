{
  DefaultAuthenticationSelector selector=new DefaultAuthenticationSelector();
  Settings settings=getSettings();
  for (  Server server : settings.getServers()) {
    String decodedUsername=decode(server.getUsername());
    AuthenticationBuilder authBuilder=new AuthenticationBuilder();
    authBuilder.addUsername(decodedUsername);
    authBuilder.addPassword(server.getPassword());
    authBuilder.addPrivateKey(server.getPrivateKey(),server.getPassphrase());
    selector.add(server.getId(),authBuilder.build());
  }
  return new ConservativeAuthenticationSelector(selector);
}
