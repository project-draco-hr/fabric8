{
  try {
    if (isIgnore())     return;
    if (!project.isExecutionRoot()) {
      getLog().info("Not the execution root so ignoring this project");
      return;
    }
 else {
      getLog().info("Execution root directory so about to aggregate the reactor " + reactorProjects.size() + " project(s) into "+ buildDir);
    }
    buildDir.mkdirs();
    for (    MavenProject reactorProject : reactorProjects) {
      if (!reactorProject.isExecutionRoot()) {
        combineProfilesTo(reactorProject,buildDir);
      }
    }
    Zips.createZipFile(getLog(),buildDir,outputFile);
    projectHelper.attachArtifact(project,artifactType,artifactClassifier,outputFile);
    String relativePath=Files.getRelativePath(project.getBasedir(),outputFile);
    while (relativePath.startsWith("/")) {
      relativePath=relativePath.substring(1);
    }
    getLog().info("Created profile zip file: " + relativePath);
  }
 catch (  MojoExecutionException e) {
    getLog().error(e);
    throw e;
  }
catch (  Exception e) {
    getLog().error(e);
    throw new MojoExecutionException("Error executing",e);
  }
}
